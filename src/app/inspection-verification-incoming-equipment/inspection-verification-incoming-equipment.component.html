 <!-- step 3 -->
 <div class="card">
    <button class="btn btn-info mousechange" (click)="addItem()" title="Add another location"
      style="padding: 7px 10px 0px 10px;
     left: 93%;
    top: 10px;
      width: 4%;position: relative;">
       <mat-icon aria-hidden="false" aria-label="Example home icon" mat-list-icon>add_box</mat-icon>
      </button>
      <form [formGroup]="addstep3" (ngSubmit)="nextTab3()">
    <div class="card-body" formArrayName="incomingArr" *ngFor="let a of getIncomingControls(); let i = index" >
      <div [formGroupName]="i" >
      <div class="search-bar">
        <div class="form-group">
          <div class="row">
            <div class="col-md-4">
                  <label>Location Number*</label>
                  <input type="text" class="form-control" formControlName="locationNumber"
                   placeholder="Enter Location Number" 
                   [ngClass]="{ 'is-invalid': submitted && a.get('locationNumber')?.errors }">
                  <div *ngIf="submitted && a.get('locationNumber')?.errors" class="invalid-feedback">
                    <div *ngIf="a.get('locationNumber')?.errors?.required">Location Number is required</div>
                </div> 
            </div>
            <div class="col-md-4">
                  <label>Location Name*</label>
                  <input type="text" class="form-control" formControlName="locationName"
                  placeholder="Enter Location Name" 
                  [ngClass]="{ 'is-invalid': submitted && a.get('locationName')?.errors }">
                  <div *ngIf="submitted && a.get('locationName')?.errors" class="invalid-feedback">
                    <div *ngIf="a.get('locationName')?.errors?.required">Location name is required</div>
                </div> 
            </div>
          </div>
      </div>
    </div>
      <mat-accordion>
        <!-- IpaInsection starts-->
        <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <h3>Incoming equipment</h3>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <div class="row">
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Service cable:</label>
                <select class="form-control" formControlName="serviceCable"
                
                [ngClass]="{ 'is-invalid': submitted && a.get('serviceCable')?.errors }">
                <option value="0" selected>Select option</option>
                <option *ngFor="let value of InspectionList">{{value}}</option>
              </select>
                <div *ngIf="submitted && a.get('serviceCable')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('serviceCable')?.errors?.required">Service Cable is required</div>
              </div>
                
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Service cut out / fuse:</label>
                <select class="form-control" formControlName="serviceFuse" 
                
                [ngClass]="{ 'is-invalid': submitted && a.get('serviceFuse')?.errors }">
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('serviceFuse')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('serviceFuse')?.errors?.required">Service Fuse is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Meter tails – Distributor:</label>
                <select class="form-control" formControlName="meterDistributor" 
                
                [ngClass]="{ 'is-invalid': submitted && a.get('meterDistributor')?.errors }">
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('meterDistributor')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('meterDistributor')?.errors?.required">Meter Distributor is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Meter tails – Consumer:</label>
                <select class="form-control" formControlName="meterConsumer" 
                
                [ngClass]="{ 'is-invalid': submitted && a.get('meterConsumer')?.errors }">
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('meterConsumer')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('meterConsumer')?.errors?.required">Meter Consumer is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Metering Equipment:</label>
                <select class="form-control" formControlName="meterEqu" 
                [ngClass]="{ 'is-invalid': submitted && a.get('meterEqu')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('meterEqu')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('meterEqu')?.errors?.required">Metering Equipment is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Isolator (Means to isolate the public supply system):</label>
                <select class="form-control" formControlName="isolator" 
                [ngClass]="{ 'is-invalid': submitted && a.get('isolator')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('isolator')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('isolator')?.errors?.required">Isolator is required</div>
              </div>
              </div>
            </div>
          </div>
            <!-- </div>
          </div> -->
        </mat-expansion-panel>

        <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <h3>Presence of adequate arrangements for parallel or switched alternative sources of supply </h3>
            </mat-panel-title>

          </mat-expansion-panel-header>
         
          <div class="row">
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Dedicated earthing arrangement independent to that of public supply:</label>
                <select class="form-control" formControlName="earthingArrangement" 
                [ngClass]="{ 'is-invalid': submitted && a.get('earthingArrangement')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('earthingArrangement')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('earthingArrangement')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Presence of adequate arrangements where generator to operate in parallel with the public
                  supply system:</label>
                <select class="form-control" formControlName="adequateArrangement" 
                [ngClass]="{ 'is-invalid': submitted && a.get('adequateArrangement')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('adequateArrangement')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('adequateArrangement')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Correct connections of generator in parallel. (note: Special attention to circulating
                  currents):</label>
                <select class="form-control" formControlName="connectionGenerator" 
                [ngClass]="{ 'is-invalid': submitted && a.get('connectionGenerator')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('connectionGenerator')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('connectionGenerator')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Compatibility of characteristics of means of generation:</label>
                <select class="form-control" formControlName="compatibilityCharacteristics" 
                [ngClass]="{ 'is-invalid': submitted && a.get('compatibilityCharacteristics')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('compatibilityCharacteristics')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('compatibilityCharacteristics')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Means to provide automatic disconnection of generator in the event of
                  loss of public supply system or voltage or frequency deviation beyond declared values:</label>
                <select class="form-control" formControlName="automaticDisconnectGenerator" 
                [ngClass]="{ 'is-invalid': submitted && a.get('automaticDisconnectGenerator')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('automaticDisconnectGenerator')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('automaticDisconnectGenerator')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Means to prevent connection of generator in the event of loss of
                  public supply system or voltage or frequency deviation beyond declared values:</label>
                <select class="form-control" formControlName="preventConnectGenerator" 
                [ngClass]="{ 'is-invalid': submitted && a.get('preventConnectGenerator')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('preventConnectGenerator')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('preventConnectGenerator')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Means to isolate generator from the public supply system :</label>
                <select class="form-control" formControlName="isolateGenerator" 
                [ngClass]="{ 'is-invalid': submitted && a.get('isolateGenerator')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('isolateGenerator')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('isolateGenerator')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
          </div>
            
        </mat-expansion-panel>

        <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <h3>Automatic disconnection of supply</h3>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <div class="row">
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Main earthing / bonding arrangements:</label>
                <select class="form-control" formControlName="mainEarting" 
                [ngClass]="{ 'is-invalid': submitted && a.get('mainEarting')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('mainEarting')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('mainEarting')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Presence and adequacy of energy suppliers earthing arrangement or installation earth
                  electrode arrangement:</label>
                <select class="form-control" formControlName="earthElectordeArrangement" 
                [ngClass]="{ 'is-invalid': submitted && a.get('earthElectordeArrangement')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('earthElectordeArrangement')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('earthElectordeArrangement')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Presence and adequacy of earthing conductor and connections:</label>
                <select class="form-control" formControlName="earthConductorConnection" 
                [ngClass]="{ 'is-invalid': submitted && a.get('earthConductorConnection')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('earthConductorConnection')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('earthConductorConnection')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Accessibility of earthing conductor connections:</label>
                <select class="form-control" formControlName="accessibility" 
                [ngClass]="{ 'is-invalid': submitted && a.get('accessibility')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('accessibility')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('accessibility')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Presence and adequacy of main protective bonding conductors and connections (colour, sizes,
                  termination, and provision of independent earthing) :</label>
                <select class="form-control" formControlName="aainProtectBonding" 
                [ngClass]="{ 'is-invalid': submitted && a.get('aainProtectBonding')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('aainProtectBonding')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('aainProtectBonding')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Accessibility of all protective bonding connections:</label>
                <select class="form-control" formControlName="allProtectBonding" 
                [ngClass]="{ 'is-invalid': submitted && a.get('allProtectBonding')?.errors }" 
                >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('allProtectBonding')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('allProtectBonding')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Presence and adequacy of electrical earthing/bonding labels at all appropriate
                  locations:</label>
                <select class="form-control" formControlName="allAppropriateLocation" 
                [ngClass]="{ 'is-invalid': submitted && a.get('allAppropriateLocation')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('allAppropriateLocation')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('allAppropriateLocation')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Accessibility of FELV requirements satisfied:</label>
                <select class="form-control" formControlName="felvRequirement" 
                [ngClass]="{ 'is-invalid': submitted && a.get('felvRequirement')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('felvRequirement')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('felvRequirement')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
          </div>

        </mat-expansion-panel>

        <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <h3>Other methods of protection applicable to locations where automatic disconnection of supply is
                not employed</h3>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <h3><b>Basic and fault protection</b></h3>
          <div class="row">
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>SELV system, including the source and associated circuits:</label>
                <select class="form-control" formControlName="selvSystem" 
                [ngClass]="{ 'is-invalid': submitted && a.get('selvSystem')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('selvSystem')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('selvSystem')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>PELV system, including the source and associated circuits:</label>
                <select class="form-control" formControlName="pelvSystem" 
                [ngClass]="{ 'is-invalid': submitted && a.get('pelvSystem')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('pelvSystem')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('pelvSystem')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Double insulation (Class II or equivalent equipment and associated circuits):</label>
                <select class="form-control" formControlName="doubleInsulation" 
                [ngClass]="{ 'is-invalid': submitted && a.get('doubleInsulation')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('doubleInsulation')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('doubleInsulation')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Reinforced insulation:</label>
                <select class="form-control" formControlName="reinforcedInsulation" 
                [ngClass]="{ 'is-invalid': submitted && a.get('reinforcedInsulation')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('reinforcedInsulation')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('reinforcedInsulation')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Electrical separation for one item of equipment (shaver supply unit) :</label>
                <select class="form-control" formControlName="basicElectricalSepartion" 
                [ngClass]="{ 'is-invalid': submitted && a.get('basicElectricalSepartion')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('basicElectricalSepartion')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('basicElectricalSepartion')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
          </div>

          <h3><b>Basic protection (prevention of contact with live parts)</b></h3>
          <div class="row">
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Insulation of live parts (conductors completely covered with durable insulating
                  material):</label>
                <select class="form-control" formControlName="insulationLiveParts" 
                [ngClass]="{ 'is-invalid': submitted && a.get('insulationLiveParts')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('insulationLiveParts')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('insulationLiveParts')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Barriers or enclosures (correct IP rating):</label>
                <select class="form-control" formControlName="barriersEnclosers" 
                [ngClass]="{ 'is-invalid': submitted && a.get('barriersEnclosers')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('barriersEnclosers')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('barriersEnclosers')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Obstacles:</label>
                <select class="form-control" formControlName="supplementaryBonding" 
                [ngClass]="{ 'is-invalid': submitted && a.get('supplementaryBonding')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('supplementaryBonding')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('supplementaryBonding')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Placing out of reach:</label>
                <select class="form-control" formControlName="placingOutReach" 
                [ngClass]="{ 'is-invalid': submitted && a.get('placingOutReach')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('placingOutReach')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('placingOutReach')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
          </div>

          <h3><b>Fault protection</b></h3>
          <div class="row">
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Non-Conducting location – earth free local equipotential bonding:</label>
                <select class="form-control" formControlName="nonConductLocation" 
                [ngClass]="{ 'is-invalid': submitted && a.get('nonConductLocation')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('nonConductLocation')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('nonConductLocation')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Electrical separation:</label>
                <select class="form-control" formControlName="faultElectricalSepartion" 
                [ngClass]="{ 'is-invalid': submitted && a.get('faultElectricalSepartion')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('faultElectricalSepartion')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('faultElectricalSepartion')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
          </div>

          <h3><b>Additional protection</b></h3>
          <div class="row">
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>RCD(s) not exceeding 30 mA operating current:</label>
                <select class="form-control" formControlName="faultNonConductLocation" 
                [ngClass]="{ 'is-invalid': submitted && a.get('faultNonConductLocation')?.errors }">
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('faultNonConductLocation')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('faultNonConductLocation')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Supplementary bonding:</label>
                <select class="form-control" formControlName="operatingCurrent" 
                [ngClass]="{ 'is-invalid': submitted && a.get('operatingCurrent')?.errors }">
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && a.get('operatingCurrent')?.errors" class="invalid-feedback">
                  <div *ngIf="a.get('operatingCurrent')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
          </div>
        </mat-expansion-panel>
        <!-- IpaInsection ends-->

        <!-- consumerUnit starts-->
        <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <h3>Consumer unit(s) / distribution board(s) / distribution equipment</h3>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <div formArrayName="consumerUnit" *ngFor="let b of getearthingControls(a); let i = index">
            <div class="form-group" [formGroupName]="i">
          <div class="row">
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Adequacy of access and working space for items of electrical equipment including
                  switchgear:</label>
                <select class="form-control" formControlName="accessWorking" 
                [ngClass]="{ 'is-invalid': submitted && b.get('accessWorking')?.errors }">
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('accessWorking')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('accessWorking')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Security of fixing:</label>
                <select class="form-control" formControlName="securityFixing" 
                [ngClass]="{ 'is-invalid': submitted && b.get('securityFixing')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('securityFixing')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('securityFixing')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Insulation of live parts not damaged during erection:</label>
                <select class="form-control" formControlName="livePartsDamage" 
                [ngClass]="{ 'is-invalid': submitted && b.get('livePartsDamage')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('livePartsDamage')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('livePartsDamage')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Adequacy / security of barriers:</label>
                <select class="form-control" formControlName="securityBarriers" 
                [ngClass]="{ 'is-invalid': submitted && b.get('securityBarriers')?.errors }">
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('securityBarriers')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('securityBarriers')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Suitability of enclosure(s) for IP and fire ratings:</label>
                <select class="form-control" formControlName="suitabilityEnclosure" 
                [ngClass]="{ 'is-invalid': submitted && b.get('suitabilityEnclosure')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('suitabilityEnclosure')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('suitabilityEnclosure')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Enclosure not damaged during installation:</label>
                <select class="form-control" formControlName="enclosureDamaged" 
                [ngClass]="{ 'is-invalid': submitted && b.get('enclosureDamaged')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('enclosureDamaged')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('enclosureDamaged')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Presence and effectiveness of obstacles:</label>
                <select class="form-control" formControlName="presenceObstacles" 
                [ngClass]="{ 'is-invalid': submitted && b.get('presenceObstacles')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('presenceObstacles')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('presenceObstacles')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Placing out of reach:</label>
                <select class="form-control" formControlName="placingOutReach" 
                [ngClass]="{ 'is-invalid': submitted && b.get('placingOutReach')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('placingOutReach')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('placingOutReach')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Presence of main switches linked where required:</label>
                <select class="form-control" formControlName="presenceMainSwitches" 
                [ngClass]="{ 'is-invalid': submitted && b.get('presenceMainSwitches')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('presenceMainSwitches')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('presenceMainSwitches')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Operation of main switches (functional checks):</label>
                <select class="form-control" formControlName="operationMainSwitches" 
                [ngClass]="{ 'is-invalid': submitted && b.get('operationMainSwitches')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('operationMainSwitches')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('operationMainSwitches')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Manual operation of circuit breakers and RCD’s to prove functionally:</label>
                <select class="form-control" formControlName="manualCircuitBreakers" 
                [ngClass]="{ 'is-invalid': submitted && b.get('manualCircuitBreakers')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('manualCircuitBreakers')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('manualCircuitBreakers')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Confirmation that integral test button / switch causes RCD’s to trip when operated
                  (functional check):</label>
                <select class="form-control" formControlName="switchCausesRcd" 
                [ngClass]="{ 'is-invalid': submitted && b.get('switchCausesRcd')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('switchCausesRcd')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('switchCausesRcd')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>RCD’s provided for fault protection, where specified:</label>
                <select class="form-control" formControlName="rcdFaultProtection" 
                [ngClass]="{ 'is-invalid': submitted && b.get('rcdFaultProtection')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('rcdFaultProtection')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('rcdFaultProtection')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>RCD’s provided for additional protection, where specified:</label>
                <select class="form-control" formControlName="rcdAdditionalProtection" 
                [ngClass]="{ 'is-invalid': submitted && b.get('rcdAdditionalProtection')?.errors }">
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('rcdAdditionalProtection')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('rcdAdditionalProtection')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Confirmation of over voltage protection (SPD’s) provided where specified:</label>
                <select class="form-control" formControlName="overVoltageProtection" 
                [ngClass]="{ 'is-invalid': submitted && b.get('overVoltageProtection')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('overVoltageProtection')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('overVoltageProtection')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Confirmation of indication that SPD is functional:</label>
                <select class="form-control" formControlName="indicationOfSpd" 
                [ngClass]="{ 'is-invalid': submitted && b.get('indicationOfSpd')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('indicationOfSpd')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('indicationOfSpd')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Presence of RCD quarterly test notice at or near origin:</label>
                <select class="form-control" formControlName="rcdQuarterlyTest" 
                [ngClass]="{ 'is-invalid': submitted && b.get('rcdQuarterlyTest')?.errors }">
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('rcdQuarterlyTest')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('rcdQuarterlyTest')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Presence of diagrams charts or schedules at or near each distribution board where
                  required:</label>
                <select class="form-control" formControlName="diagramsCharts" 
                [ngClass]="{ 'is-invalid': submitted && b.get('diagramsCharts')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('diagramsCharts')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('diagramsCharts')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>presence of nonstandard (mixed) cable colour warning notice near appropriate distribution
                  board, as required:</label>
                <select class="form-control" formControlName="nonstandardCableColour" 
                [ngClass]="{ 'is-invalid': submitted && b.get('nonstandardCableColour')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('nonstandardCableColour')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('nonstandardCableColour')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Presence of alternative supply - warning notice at or near the origin:</label>
                <select class="form-control" formControlName="alSupplyOfOrign" 
                [ngClass]="{ 'is-invalid': submitted && b.get('alSupplyOfOrign')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('alSupplyOfOrign')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('alSupplyOfOrign')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Presence of alternative supply - warning notice at or near the meter position, if remote
                  from origin:</label>
                <select class="form-control" formControlName="alSupplyOfMeter" 
                [ngClass]="{ 'is-invalid': submitted && b.get('alSupplyOfMeter')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('alSupplyOfMeter')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('alSupplyOfMeter')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Presence of alternative supply - warning notice at or near the distribution board to which
                  alternative sources are connected:</label>
                <select class="form-control" formControlName="alSupplyDistribution" 
                [ngClass]="{ 'is-invalid': submitted && b.get('alSupplyDistribution')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('alSupplyDistribution')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('alSupplyDistribution')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Presence of alternative supply - warning notice at or near all points of isolation of ALL
                  sources of supply:</label>
                <select class="form-control" formControlName="allPointsIsolation" 
                [ngClass]="{ 'is-invalid': submitted && b.get('allPointsIsolation')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('allPointsIsolation')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('allPointsIsolation')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Presence of next inspection recommendation label:</label>
                <select class="form-control" formControlName="nextInspection" 
                [ngClass]="{ 'is-invalid': submitted && b.get('nextInspection')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('nextInspection')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('nextInspection')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Presence of other required labelling:</label>
                <select class="form-control" formControlName="otherRequiredLabelling" 
                [ngClass]="{ 'is-invalid': submitted && b.get('otherRequiredLabelling')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('otherRequiredLabelling')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('otherRequiredLabelling')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Selection of protective devices and bases correct type and rating (no signs of unacceptable
                  thermal damage, arcing or overheating):</label>
                <select class="form-control" formControlName="basesCorrectType" 
                [ngClass]="{ 'is-invalid': submitted && b.get('basesCorrectType')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('basesCorrectType')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('basesCorrectType')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Single pole protective devices in line conductor only:</label>
                <select class="form-control" formControlName="singlePole" 
                [ngClass]="{ 'is-invalid': submitted && b.get('singlePole')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('singlePole')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('singlePole')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Protection against mechanical damage where cables enter equipment:</label>
                <select class="form-control" formControlName="mechanicalDamage" 
                [ngClass]="{ 'is-invalid': submitted && b.get('mechanicalDamage')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('mechanicalDamage')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('mechanicalDamage')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Protection against electromagnetic/heating effects where cables enter ferromagnetic
                  enclosures:</label>
                <select class="form-control" formControlName="electromagnetic" 
                [ngClass]="{ 'is-invalid': submitted && b.get('electromagnetic')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('electromagnetic')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('electromagnetic')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Confirmation that all conductor connections including connections to busbars are correctly
                  located in terminals and are tight and secure:</label>
                <select class="form-control" formControlName="allConductorCon" 
                [ngClass]="{ 'is-invalid': submitted && b.get('allConductorCon')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && b.get('allConductorCon')?.errors" class="invalid-feedback">
                  <div *ngIf="b.get('allConductorCon')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
          </div>
            </div>
            </div>
        </mat-expansion-panel>
        <!-- consumerUnit ends-->

        <!-- circuit starts-->
        <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <h3>Circuits</h3>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <div formArrayName="circuit" *ngFor="let c of getcircuitControls(a); let i = index">
            <div class="form-group" [formGroupName]="i">
          <div class="row">
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Identification of conductors including main earthing / bonding arrangements:</label>
                <select class="form-control" formControlName="identificationConductors" 
                [ngClass]="{ 'is-invalid': submitted && c.get('identificationConductors')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('identificationConductors')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('identificationConductors')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Cable installation methods (including support) suitable for the location(s) and external
                  influences (Cables correctly supported throughout):</label>
                <select class="form-control" formControlName="cableInstallation" 
                [ngClass]="{ 'is-invalid': submitted && c.get('cableInstallation')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('cableInstallation')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('cableInstallation')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Examination of cables for signs of mechanical damage during installation:</label>
                <select class="form-control" formControlName="examinationCables" 
                [ngClass]="{ 'is-invalid': submitted && c.get('examinationCables')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('examinationCables')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('examinationCables')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Examination of insulation of live parts not damaged during erection:</label>
                <select class="form-control" formControlName="examinationInsulation" 
                [ngClass]="{ 'is-invalid': submitted && c.get('examinationInsulation')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('examinationInsulation')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('examinationInsulation')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Non-Sheathed cables protected by enclosure in conduit, ducting or trucking:</label>
                <select class="form-control" formControlName="nonSheathedCables" 
                [ngClass]="{ 'is-invalid': submitted && c.get('nonSheathedCables')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('nonSheathedCables')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('nonSheathedCables')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Suitability of containment systems including flexible conduit:</label>
                <select class="form-control" formControlName="containmentSystems" 
                [ngClass]="{ 'is-invalid': submitted && c.get('containmentSystems')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('containmentSystems')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('containmentSystems')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Correct temperature rating of cable insulation:</label>
                <select class="form-control" formControlName="temperatureRating" 
                [ngClass]="{ 'is-invalid': submitted && c.get('temperatureRating')?.errors }" 
               >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('temperatureRating')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('temperatureRating')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Cables correctly terminated in enclosures:</label>
                <select class="form-control" formControlName="cablesTerminated" 
                [ngClass]="{ 'is-invalid': submitted && c.get('cablesTerminated')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('cablesTerminated')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('cablesTerminated')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Adequacy of conductors for current-carrying capacity with respect to type and nature of the
                  installation:</label>
                <select class="form-control" formControlName="currentCarryCapacity" 
                [ngClass]="{ 'is-invalid': submitted && c.get('currentCarryCapacity')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('currentCarryCapacity')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('currentCarryCapacity')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Single-pole devices for switching or protection in line conductors only:</label>
                <select class="form-control" formControlName="singlePoleDevices" 
                [ngClass]="{ 'is-invalid': submitted && c.get('singlePoleDevices')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('singlePoleDevices')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('singlePoleDevices')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Adequacy of connections, including protective conductors, within accessories and fixed and stationary equipment:</label>
                <select class="form-control" formControlName="adequacyConnections" 
                [ngClass]="{ 'is-invalid': submitted && c.get('adequacyConnections')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('adequacyConnections')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('adequacyConnections')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Adequacy of protective devices, type and fault current rating for fault protection:</label>
                <select class="form-control" formControlName="adequacyProtectDevices" 
                [ngClass]="{ 'is-invalid': submitted && c.get('adequacyProtectDevices')?.errors }">
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('adequacyProtectDevices')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('adequacyProtectDevices')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Presence, operation, and correct location of appropriate devices for isolation and switching:</label>
                <select class="form-control" formControlName="isolationSwitching" 
                [ngClass]="{ 'is-invalid': submitted && c.get('isolationSwitching')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('isolationSwitching')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('isolationSwitching')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Presence, adequacy, and correct termination of protective conductors:</label>
                <select class="form-control" formControlName="presenceProtectConductors" 
                [ngClass]="{ 'is-invalid': submitted && c.get('presenceProtectConductors')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('presenceProtectConductors')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('presenceProtectConductors')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Co-ordination between conductors and overload protective devices:</label>
                <select class="form-control" formControlName="coOrdination" 
                [ngClass]="{ 'is-invalid': submitted && c.get('coOrdination')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('coOrdination')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('coOrdination')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Wiring systems and cable installation methods/ practices with regard to the type and nature
                  of installation and external influences:</label>
                <select class="form-control" formControlName="wiringSystems" 
                [ngClass]="{ 'is-invalid': submitted && c.get('wiringSystems')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('wiringSystems')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('wiringSystems')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Cables concealed under floors above ceilings, in wall adequately protected against damage
                  by contact with fixings:</label>
                <select class="form-control" formControlName="cablesConcealUnderFloors" 
                [ngClass]="{ 'is-invalid': submitted && c.get('cablesConcealUnderFloors')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('cablesConcealUnderFloors')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('cablesConcealUnderFloors')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Additional protection by RCD’s having residual operating current (I∆n) not exceeding 30mA
                  for circuits used to supply mobile equipment not exceeding 32A rating for use outdoors in all
                  cases:</label>
                <select class="form-control" formControlName="operatingCurrentCircuits" 
                [ngClass]="{ 'is-invalid': submitted && c.get('operatingCurrentCircuits')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('operatingCurrentCircuits')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('operatingCurrentCircuits')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Additional protection by RCD’s having residual operating current (I∆n) not exceeding 30mA
                  for all socket outlets of rating 20A or less provided for use by ordinary persons unless
                  exempt:</label>
                <select class="form-control" formControlName="operatingCurrentSocket" 
                [ngClass]="{ 'is-invalid': submitted && c.get('operatingCurrentSocket')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('operatingCurrentSocket')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('operatingCurrentSocket')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Additional protection by RCD’s having residual operating current (I∆n) not exceeding 30mA
                  for cables concealed in walls at a depth of less than 50mm:</label>
                <select class="form-control" formControlName="cablesConcDepth" 
                [ngClass]="{ 'is-invalid': submitted && c.get('cablesConcDepth')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('cablesConcDepth')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('cablesConcDepth')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Additional protection by RCD’s having residual operating current (I∆n) not exceeding 30mA
                  for Cables concealed in walls / sections containing metal sections regardless of depth:</label>
                <select class="form-control" formControlName="sectionsRegardlessDepth" 
                [ngClass]="{ 'is-invalid': submitted && c.get('sectionsRegardlessDepth')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('sectionsRegardlessDepth')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('sectionsRegardlessDepth')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Provision of fire barriers, sealing arrangements so as to minimize the spread of
                  fire:</label>
                <select class="form-control" formControlName="provisionFireBarriers" 
                [ngClass]="{ 'is-invalid': submitted && c.get('provisionFireBarriers')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('provisionFireBarriers')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('provisionFireBarriers')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Segregation/separation of Band I (ELV) and Band II (LV) circuits:</label>
                <select class="form-control" formControlName="separationBand" 
                [ngClass]="{ 'is-invalid': submitted && c.get('separationBand')?.errors }">
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('separationBand')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('separationBand')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Segregation/separation of electrical and non-electrical services:</label>
                <select class="form-control" formControlName="separationElectrical" 
                [ngClass]="{ 'is-invalid': submitted && c.get('separationElectrical')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('separationElectrical')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('separationElectrical')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Condition of circuit accessories:</label>
                <select class="form-control" formControlName="conditionCircuitAccessories" 
                [ngClass]="{ 'is-invalid': submitted && c.get('conditionCircuitAccessories')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('conditionCircuitAccessories')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('conditionCircuitAccessories')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Cables and conductors correctly terminated, enclosed and with no undue mechanical
                  strain:</label>
                <select class="form-control" formControlName="conductorCorrectTerminated" 
                [ngClass]="{ 'is-invalid': submitted && c.get('conductorCorrectTerminated')?.errors }">
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('conductorCorrectTerminated')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('conductorCorrectTerminated')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>No basic insulation of a conductor visible outside enclosure:</label>
                <select class="form-control" formControlName="conductorVisibleOutside" 
                [ngClass]="{ 'is-invalid': submitted && c.get('conductorVisibleOutside')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('conductorVisibleOutside')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('conductorVisibleOutside')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Connections of live conductors adequately enclosed:</label>
                <select class="form-control" formControlName="connLiveConductors" 
                [ngClass]="{ 'is-invalid': submitted && c.get('connLiveConductors')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('connLiveConductors')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('connLiveConductors')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Adequately connected at the point of entry to enclosure (glands, bushes etc.):</label>
                <select class="form-control" formControlName="adequatelyConnectedEnclosure" 
                [ngClass]="{ 'is-invalid': submitted && c.get('adequatelyConnectedEnclosure')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('adequatelyConnectedEnclosure')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('adequatelyConnectedEnclosure')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Suitability of circuit accessories for external influences:</label>
                <select class="form-control" formControlName="suitabilityCircuitAccessories" 
                [ngClass]="{ 'is-invalid': submitted && c.get('suitabilityCircuitAccessories')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('suitabilityCircuitAccessories')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('suitabilityCircuitAccessories')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Condition of accessories including socket-outlets, switches and joint boxes (Circuit
                  accessories not damaged, securely fixed, correctly connected, suitable for external
                  influences):</label>
                <select class="form-control" formControlName="conditionAccessories" 
                [ngClass]="{ 'is-invalid': submitted && c.get('conditionAccessories')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && c.get('conditionAccessories')?.errors" class="invalid-feedback">
                  <div *ngIf="c.get('conditionAccessories')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
            
          </div>
            </div>
          </div>
        </mat-expansion-panel>
      <!-- circuit ends-->

       <!-- isolationCurrent starts-->
       <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
        <mat-expansion-panel-header>
          <mat-panel-title>
            <h3>Isolation and switching</h3>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div formArrayName="isolationCurrent" *ngFor="let d of getisolationCurrentControls(a); let i = index">
          <div class="form-group" [formGroupName]="i">
        <div class="row">
          <div class="col-sm-12">
            <div class="form-group equipment">
              <label>Isolators - Presence of appropriate devices :</label>
              <select class="form-control" formControlName="presenceDevices" 
              [ngClass]="{ 'is-invalid': submitted && d.get('presenceDevices')?.errors }" >
                <option value="0" selected>Select option</option>
                <option *ngFor="let value of InspectionList">{{value}}</option>
              </select>
              <div *ngIf="submitted && d.get('presenceDevices')?.errors" class="invalid-feedback">
                <div *ngIf="d.get('presenceDevices')?.errors?.required">Field is required</div>
            </div>
            </div>
          </div>

          <div class="col-sm-12">
            <div class="form-group equipment">
              <label>Isolators – Condition of appropriate devices :</label>
              <select class="form-control" formControlName="conditionDevices" 
              [ngClass]="{ 'is-invalid': submitted && d.get('conditionDevices')?.errors }" >
                <option value="0" selected>Select option</option>
                <option *ngFor="let value of InspectionList">{{value}}</option>
              </select>
              <div *ngIf="submitted && d.get('conditionDevices')?.errors" class="invalid-feedback">
                <div *ngIf="d.get('conditionDevices')?.errors?.required">Field is required</div>
            </div>
            </div>
          </div>

          <div class="col-sm-12">
            <div class="form-group equipment">
              <label>Isolators - Location of appropriate devices (state if local or remote from equipment in question):</label>
              <select class="form-control" formControlName="locationDevices" 
              [ngClass]="{ 'is-invalid': submitted && d.get('locationDevices')?.errors }" >
                <option value="0" selected>Select option</option>
                <option *ngFor="let value of InspectionList">{{value}}</option>
              </select>
              <div *ngIf="submitted && d.get('locationDevices')?.errors" class="invalid-feedback">
                <div *ngIf="d.get('locationDevices')?.errors?.required">Field is required</div>
            </div>
            </div>
          </div>
          <div class="col-sm-12">
            <div class="form-group equipment">
              <label>Isolators - Capable of being secured in OFF position:</label>
              <select class="form-control" formControlName="capableSecured" 
              [ngClass]="{ 'is-invalid': submitted && d.get('capableSecured')?.errors }" >
                <option value="0" selected>Select option</option>
                <option *ngFor="let value of InspectionList">{{value}}</option>
              </select>
              <div *ngIf="submitted && d.get('capableSecured')?.errors" class="invalid-feedback">
                <div *ngIf="d.get('capableSecured')?.errors?.required">Field is required</div>
            </div>
            </div>
          </div>

          <div class="col-sm-12">
            <div class="form-group equipment">
              <label>Isolators - Correct operation verified (functional checks):</label>
              <select class="form-control" formControlName="operationVerify" 
              [ngClass]="{ 'is-invalid': submitted && d.get('operationVerify')?.errors }" >
                <option value="0" selected>Select option</option>
                <option *ngFor="let value of InspectionList">{{value}}</option>
              </select>
              <div *ngIf="submitted && d.get('operationVerify')?.errors" class="invalid-feedback">
                <div *ngIf="d.get('operationVerify')?.errors?.required">Field is required</div>
            </div>
            </div>
          </div>

          <div class="col-sm-12">
            <div class="form-group equipment">
              <label>Isolators - The installation, circuit or Section thereof that will be isolated is clearly identified by location and/or durable marking:</label>
              <select class="form-control" formControlName="installCircuit" 
              [ngClass]="{ 'is-invalid': submitted && d.get('installCircuit')?.errors }" >
                <option value="0" selected>Select option</option>
                <option *ngFor="let value of InspectionList">{{value}}</option>
              </select>
              <div *ngIf="submitted && d.get('installCircuit')?.errors" class="invalid-feedback">
                <div *ngIf="d.get('installCircuit')?.errors?.required">Field is required</div>
            </div>
            </div>
          </div>

          <div class="col-sm-12">
            <div class="form-group equipment">
              <label>Isolators - Warning label posted in the situation where live Sections cannot be isolated by the operation of single device:</label>
              <select class="form-control" formControlName="warningLabel" 
              [ngClass]="{ 'is-invalid': submitted && d.get('warningLabel')?.errors }" 
             >
                <option value="0" selected>Select option</option>
                <option *ngFor="let value of InspectionList">{{value}}</option>
              </select>
              <div *ngIf="submitted && d.get('warningLabel')?.errors" class="invalid-feedback">
                <div *ngIf="d.get('warningLabel')?.errors?.required">Field is required</div>
            </div>
            </div>
          </div>
          <div class="col-sm-12">
            <div class="form-group equipment">
              <label>Switching off for mechanical maintenance - Presence of appropriate devices:</label>
              <select class="form-control" formControlName="swPresenceDevices" 
              [ngClass]="{ 'is-invalid': submitted && d.get('swPresenceDevices')?.errors }" >
                <option value="0" selected>Select option</option>
                <option *ngFor="let value of InspectionList">{{value}}</option>
              </select>
              <div *ngIf="submitted && d.get('swPresenceDevices')?.errors" class="invalid-feedback">
                <div *ngIf="d.get('swPresenceDevices')?.errors?.required">Field is required</div>
            </div>
            </div>
          </div>

          <div class="col-sm-12">
            <div class="form-group equipment">
              <label>Switching off for mechanical maintenance - Condition of appropriate devices:</label>
              <select class="form-control" formControlName="swConditionDevices" 
              [ngClass]="{ 'is-invalid': submitted && d.get('swConditionDevices')?.errors }" >
                <option value="0" selected>Select option</option>
                <option *ngFor="let value of InspectionList">{{value}}</option>
              </select>
              <div *ngIf="submitted && d.get('swConditionDevices')?.errors" class="invalid-feedback">
                <div *ngIf="d.get('swConditionDevices')?.errors?.required">Field is required</div>
            </div>
            </div>
          </div>

          <div class="col-sm-12">
            <div class="form-group equipment">
              <label>Switching off for mechanical maintenance - Acceptable location (state if local or remote from equipment in question):</label>
              <select class="form-control" formControlName="swAcceptableLocation" 
              [ngClass]="{ 'is-invalid': submitted && d.get('swAcceptableLocation')?.errors }" >
                <option value="0" selected>Select option</option>
                <option *ngFor="let value of InspectionList">{{value}}</option>
              </select>
              <div *ngIf="submitted && d.get('swAcceptableLocation')?.errors" class="invalid-feedback">
                <div *ngIf="d.get('swAcceptableLocation')?.errors?.required">Field is required</div>
            </div>
            </div>
          </div>

          <div class="col-sm-12">
            <div class="form-group equipment">
              <label>Switching off for mechanical maintenance - Capable of being secured in OFF position:</label>
              <select class="form-control" formControlName="swCapableOffPosition" 
              [ngClass]="{ 'is-invalid': submitted && d.get('swCapableOffPosition')?.errors }" >
                <option value="0" selected>Select option</option>
                <option *ngFor="let value of InspectionList">{{value}}</option>
              </select>
              <div *ngIf="submitted && d.get('swCapableOffPosition')?.errors" class="invalid-feedback">
                <div *ngIf="d.get('swCapableOffPosition')?.errors?.required">Field is required</div>
            </div>
            </div>
          </div>
          <div class="col-sm-12">
            <div class="form-group equipment">
              <label>Switching off for mechanical maintenance - Correct operation verified (functional check):</label>
              <select class="form-control" formControlName="swCorrectOperation" 
              [ngClass]="{ 'is-invalid': submitted && d.get('swCorrectOperation')?.errors }" >
                <option value="0" selected>Select option</option>
                <option *ngFor="let value of InspectionList">{{value}}</option>
              </select>
              <div *ngIf="submitted && d.get('swCorrectOperation')?.errors" class="invalid-feedback">
                <div *ngIf="d.get('swCorrectOperation')?.errors?.required">Field is required</div>
            </div>
            </div>
          </div>

          <div class="col-sm-12">
            <div class="form-group equipment">
              <label>Switching off for mechanical maintenance - The circuit or section there of that will be disconnected clearly identified by location and / or durable marking:</label>
              <select class="form-control" formControlName="swCircuit" 
              [ngClass]="{ 'is-invalid': submitted && d.get('swCircuit')?.errors }">
                <option value="0" selected>Select option</option>
                <option *ngFor="let value of InspectionList">{{value}}</option>
              </select>
              <div *ngIf="submitted && d.get('swCircuit')?.errors" class="invalid-feedback">
                <div *ngIf="d.get('swCircuit')?.errors?.required">Field is required</div>
            </div>
            </div>
          </div>

          <div class="col-sm-12">
            <div class="form-group equipment">
              <label>Switching off for mechanical maintenance - Warning label posted in situations where live parts cannot be isolated by the operation of a single device:</label>
              <select class="form-control" formControlName="swWarningLabel" 
              [ngClass]="{ 'is-invalid': submitted && d.get('swWarningLabel')?.errors }" >
                <option value="0" selected>Select option</option>
                <option *ngFor="let value of InspectionList">{{value}}</option>
              </select>
              <div *ngIf="submitted && d.get('swWarningLabel')?.errors" class="invalid-feedback">
                <div *ngIf="d.get('swWarningLabel')?.errors?.required">Field is required</div>
            </div>
            </div>
          </div>

          <div class="col-sm-12">
            <div class="form-group equipment">
              <label>Emergency switching / stopping - Presence of appropriate devices:</label>
              <select class="form-control" formControlName="emSwitPresenceDevices" 
              [ngClass]="{ 'is-invalid': submitted && d.get('emSwitPresenceDevices')?.errors }" >
                <option value="0" selected>Select option</option>
                <option *ngFor="let value of InspectionList">{{value}}</option>
              </select>
              <div *ngIf="submitted && d.get('emSwitPresenceDevices')?.errors" class="invalid-feedback">
                <div *ngIf="d.get('emSwitPresenceDevices')?.errors?.required">Field is required</div>
            </div>
            </div>
          </div>
          <div class="col-sm-12">
            <div class="form-group equipment">
              <label>Emergency switching / stopping – Condition of appropriate devices:</label>
              <select class="form-control" formControlName="emSwitConditionDevices" 
              [ngClass]="{ 'is-invalid': submitted && d.get('emSwitConditionDevices')?.errors }" >
                <option value="0" selected>Select option</option>
                <option *ngFor="let value of InspectionList">{{value}}</option>
              </select>
              <div *ngIf="submitted && d.get('emSwitConditionDevices')?.errors" class="invalid-feedback">
                <div *ngIf="d.get('emSwitConditionDevices')?.errors?.required">Field is required</div>
            </div>
            </div>
          </div>

          <div class="col-sm-12">
            <div class="form-group equipment">
              <label>Emergency switching / stopping - Location of appropriate devices (readily accessible for operation where danger might occur):</label>
              <select class="form-control" formControlName="emSwitLocationDevices" 
              [ngClass]="{ 'is-invalid': submitted && d.get('emSwitLocationDevices')?.errors }" >
                <option value="0" selected>Select option</option>
                <option *ngFor="let value of InspectionList">{{value}}</option>
              </select>
              <div *ngIf="submitted && d.get('emSwitLocationDevices')?.errors" class="invalid-feedback">
                <div *ngIf="d.get('emSwitLocationDevices')?.errors?.required">Field is required</div>
            </div>
            </div>
          </div>

          <div class="col-sm-12">
            <div class="form-group equipment">
              <label>Emergency switching / stopping - Correct operation verified (functional check):</label>
              <select class="form-control" formControlName="emSwitOperationVerify" 
              [ngClass]="{ 'is-invalid': submitted && d.get('emSwitOperationVerify')?.errors }" >
                <option value="0" selected>Select option</option>
                <option *ngFor="let value of InspectionList">{{value}}</option>
              </select>
              <div *ngIf="submitted && d.get('emSwitOperationVerify')?.errors" class="invalid-feedback">
                <div *ngIf="d.get('emSwitOperationVerify')?.errors?.required">Field is required</div>
            </div>
            </div>
          </div>

          <div class="col-sm-12">
            <div class="form-group equipment">
              <label>Emergency switching / stopping - The installation circuit or Section there of that will be disconnected clearly identified by location and / or durable marking:</label>
              <select class="form-control" formControlName="emSwitInstallCircuit" 
              [ngClass]="{ 'is-invalid': submitted && d.get('emSwitInstallCircuit')?.errors }" >
                <option value="0" selected>Select option</option>
                <option *ngFor="let value of InspectionList">{{value}}</option>
              </select>
              <div *ngIf="submitted && d.get('emSwitInstallCircuit')?.errors" class="invalid-feedback">
                <div *ngIf="d.get('emSwitInstallCircuit')?.errors?.required">Field is required</div>
            </div>
            </div>
          </div>
          <div class="col-sm-12">
            <div class="form-group equipment">
              <label>Functional switching - Presence of appropriate devices:</label>
              <select class="form-control" formControlName="fuSwitPresenceDevices" 
              [ngClass]="{ 'is-invalid': submitted && d.get('fuSwitPresenceDevices')?.errors }" >
                <option value="0" selected>Select option</option>
                <option *ngFor="let value of InspectionList">{{value}}</option>
              </select>
              <div *ngIf="submitted && d.get('fuSwitPresenceDevices')?.errors" class="invalid-feedback">
                <div *ngIf="d.get('fuSwitPresenceDevices')?.errors?.required">Field is required</div>
            </div>
            </div>
          </div>

          <div class="col-sm-12">
            <div class="form-group equipment">
              <label>Functional switching - Location of appropriate devices:</label>
              <select class="form-control" formControlName="fuSwitLocationDevices" 
              [ngClass]="{ 'is-invalid': submitted && d.get('fuSwitLocationDevices')?.errors }" >
                <option value="0" selected>Select option</option>
                <option *ngFor="let value of InspectionList">{{value}}</option>
              </select>
              <div *ngIf="submitted && d.get('fuSwitLocationDevices')?.errors" class="invalid-feedback">
                <div *ngIf="d.get('fuSwitLocationDevices')?.errors?.required">Field is required</div>
            </div>
            </div>
          </div>

          <div class="col-sm-12">
            <div class="form-group equipment">
              <label>Functional switching - Correct operation verified (functional check):</label>
              <select class="form-control" formControlName="fuSwitOperationVerify" 
              [ngClass]="{ 'is-invalid': submitted && d.get('fuSwitOperationVerify')?.errors }" >
                <option value="0" selected>Select option</option>
                <option *ngFor="let value of InspectionList">{{value}}</option>
              </select>
              <div *ngIf="submitted && d.get('fuSwitOperationVerify')?.errors" class="invalid-feedback">
                <div *ngIf="d.get('fuSwitOperationVerify')?.errors?.required">Field is required</div>
            </div>
            </div>
          </div>
        </div>
        <h3><b>Current – using equipment (permanently connected)</b></h3>
          <div class="row">
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Suitability of the equipment in terms of IP and fire ratings :</label>
                <select class="form-control" formControlName="suitabilityEquipment" 
                [ngClass]="{ 'is-invalid': submitted && d.get('suitabilityEquipment')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && d.get('suitabilityEquipment')?.errors" class="invalid-feedback">
                  <div *ngIf="d.get('suitabilityEquipment')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
  
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Enclosure not damaged / deteriorated during installation so as to impair safety :</label>
                <select class="form-control" formControlName="enclosureNotDamaged" 
                [ngClass]="{ 'is-invalid': submitted && d.get('enclosureNotDamaged')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && d.get('enclosureNotDamaged')?.errors" class="invalid-feedback">
                  <div *ngIf="d.get('enclosureNotDamaged')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
  
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Suitability for the environment and external influences:</label>
                <select class="form-control" formControlName="suitabilityEnvironment" 
                [ngClass]="{ 'is-invalid': submitted && d.get('suitabilityEnvironment')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && d.get('suitabilityEnvironment')?.errors" class="invalid-feedback">
                  <div *ngIf="d.get('suitabilityEnvironment')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Security of fixing:</label>
                <select class="form-control" formControlName="securityFixing" 
                [ngClass]="{ 'is-invalid': submitted && d.get('securityFixing')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && d.get('securityFixing')?.errors" class="invalid-feedback">
                  <div *ngIf="d.get('securityFixing')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
  
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Cable entry holes in ceilings above luminaries, seized or sealed so as to restrict the spread of fire.:</label>
                <select class="form-control" formControlName="cableEntryHoles" 
                [ngClass]="{ 'is-invalid': submitted && d.get('cableEntryHoles')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && d.get('cableEntryHoles')?.errors" class="invalid-feedback">
                  <div *ngIf="d.get('cableEntryHoles')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
  
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Provision (condition) of under voltage protection, where specified.:</label>
                <select class="form-control" formControlName="provisionVoltage" 
                [ngClass]="{ 'is-invalid': submitted && d.get('provisionVoltage')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && d.get('provisionVoltage')?.errors" class="invalid-feedback">
                  <div *ngIf="d.get('provisionVoltage')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
  
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Provision (condition) of overload protection, where specified.:</label>
                <select class="form-control" formControlName="provisionOverload" 
                [ngClass]="{ 'is-invalid': submitted && d.get('provisionOverload')?.errors }">
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && d.get('provisionOverload')?.errors" class="invalid-feedback">
                  <div *ngIf="d.get('provisionOverload')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Recessed luminaires (downlighters) - Correct type of lamps fitted :</label>
                <select class="form-control" formControlName="correctTypeLamps" 
                [ngClass]="{ 'is-invalid': submitted && d.get('correctTypeLamps')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && d.get('correctTypeLamps')?.errors" class="invalid-feedback">
                  <div *ngIf="d.get('correctTypeLamps')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
  
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>Recessed luminaires (downlighters) - Installed to minimise build-up of heat by use of “fire rated” fittings, insulation displacement box or similar :</label>
                <select class="form-control" formControlName="insulaDisplacementBox" 
                [ngClass]="{ 'is-invalid': submitted && d.get('insulaDisplacementBox')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && d.get('insulaDisplacementBox')?.errors" class="invalid-feedback">
                  <div *ngIf="d.get('insulaDisplacementBox')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
  
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>No signs of overheating to surrounding building fabric (applicable for periodic inspection):</label>
                <select class="form-control" formControlName="overheatSurrounding" 
                [ngClass]="{ 'is-invalid': submitted && d.get('overheatSurrounding')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && d.get('overheatSurrounding')?.errors" class="invalid-feedback">
                  <div *ngIf="d.get('overheatSurrounding')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
  
            <div class="col-sm-12">
              <div class="form-group equipment">
                <label>No signs of overheating to conductors / terminations (applicable for periodic inspection):</label>
                <select class="form-control" formControlName="overheatConductors" 
                [ngClass]="{ 'is-invalid': submitted && d.get('overheatConductors')?.errors }" >
                  <option value="0" selected>Select option</option>
                  <option *ngFor="let value of InspectionList">{{value}}</option>
                </select>
                <div *ngIf="submitted && d.get('overheatConductors')?.errors" class="invalid-feedback">
                  <div *ngIf="d.get('overheatConductors')?.errors?.required">Field is required</div>
              </div>
              </div>
            </div>
          </div>
      </div>
    </div>
      </mat-expansion-panel>
   <!-- isolationCurrent ends-->

    </mat-accordion>

    </div>
      <mat-icon class="mousechange" *ngIf="getIncomingControls().length > 1" (click)="removeItem(i)"
      style="float:right;">delete</mat-icon>
    </div>
    <div *ngIf="validationError" style="text-align: center;margin-top: 30px;">
      <span class="alert alert-danger">{{validationErrorMsg}}</span>
    </div>
    <div style="text-align: center;margin-top: 40px;margin-bottom: 20px;">
      <button class="previous" mat-button matStepperPrevious>&laquo; Back</button>
      <button  class="next"  [disabled]="disable" (click)="gotoNextModal(content3)" mat-button >Next &raquo;</button>
    </div>
  </form>
  </div>

  <ng-template #content3 let-modal>
    <div class="modal-body">
   <div class="centre-text m-btm30">
    <div *ngIf="success" style="text-align: center;">
      <span class="alert alert-success">{{successMsg}}</span>
     </div>
     <div *ngIf="Error" style="text-align: center;">
       <span class="alert alert-danger">{{errorMsg}}</span>
      </div>
         </div>
     </div>
  <br>
     <button type="button" class="close" class="btn btn-block btn-primary btn-rounded btn-md font-weight-medium auth-form-btn"
     aria-label="Close" (click)="modal.dismiss('Cross click')" matStepperNext>
      <span aria-hidden="true">Ok</span>
  </button>
  </ng-template>