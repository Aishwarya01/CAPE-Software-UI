<div class="card">
    <div class="card-body">
        <form [formGroup]="EarthStudForm" (ngSubmit)="onSubmit(flag)" (keyup)="onKeyForm($event)" (change)="onChangeForm($event)">
                <div style="font-weight: bold;">
                    <label for="Basicdetails">Basic Details:</label>
                </div>

                <!-- <div class="d-flex" style="margin-bottom: 4rem;margin-inline: 6rem;">  
                    <div class="pr-2" > <u><b>Client Name:</b></u> <span> &nbsp; {{ClientName}}</span></div> &nbsp;&nbsp;
                    <div class="pr-2"> <u><b>Project Name:</b></u>  <span> &nbsp; {{projectName}}</span></div> &nbsp;&nbsp;
                    <div class="pr-2"> <u><b>Type of Industry:</b></u>  <span> &nbsp; {{industryType}}</span> </div> &nbsp;&nbsp;
                    <div class="pr-2"> <u><b>Type of Building:</b></u>  <span> &nbsp; {{buildingType}}</span> </div> &nbsp;&nbsp;
                </div> -->

                <div class="row">
                    <div class="col-md-4">
                        <label for="buildingnumber">Building Number</label>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">
                                    <i class="bi bi-align-start"></i>
                                </span>
                            </div>
                            <input class="form-control"  placeholder="Enter length in meter"/>
                        </div>
                    </div>
    
                    <div class="col-md-4">
                        <label for="buildingname">Building Name</label>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">
                                    <i class="bi bi-align-start"></i>
                                </span>
                            </div>
                            <input  class="form-control"  placeholder="Enter length in meter"/>
                        </div>
                    </div>
                </div>
    
    <!-- tables -->
    <div class="col-sm-12">
        <div class="table-responsive" style="overflow-x: unset; margin-top: 20px;">
            <table class="table TableBorder">
                <thead>
                    <th>SI.No</th>
                    <th>Description</th>
                    <th>Observation</th>
                    <th>Remarks(Optional)</th>
                </thead>
            <tbody>
                <tr>
                    <td style="width: 1rem; text-align: center;" >1.</td>
                    <td style="width: 24rem;">Earth stud visibility if any</td>
                    <td style="width: 43rem;">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">
                                    <i class="bi bi-text-paragraph"></i>
                                </span>
                            </div>
                            <textarea [readonly]="isEditable" formControlName="earthStudVisibilityOb"    [(ngModel)]="earthStud.earthStudVisibilityOb" class="form-control" placeholder="Please enter Observation here" [ngClass]="{ 'is-invalid': submitted && f.earthStudVisibilityOb.errors}"></textarea>
                            <div *ngIf="submitted && f.earthStudVisibilityOb.errors" class="invalid-feedback">
                                <div *ngIf="f.earthStudVisibilityOb.errors.required">Earth stud visibility is required</div>
                            </div>
                        </div>
                    </td>
                    <td style="width: 43rem;">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">
                                    <i class="bi bi-text-paragraph"></i>
                                </span>
                            </div>
                            <textarea [readonly]="isEditable" formControlName="earthStudVisibilityRem"
                            [(ngModel)]="earthStud.earthStudVisibilityRem" type="text" class="form-control" ></textarea>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td style="text-align: center;">2.</td>
                    <td>Earth stud bend if any</td>
                    <td>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">
                                    <i class="bi bi-text-paragraph"></i>
                                </span>
                            </div>
                            <textarea [readonly]="isEditable" formControlName="earthStudBendOb" [(ngModel)]="earthStud.earthStudBendOb" type="text" class="form-control" placeholder="Please enter Observation here" [ngClass]="{ 'is-invalid': submitted && f.earthStudBendOb.errors}"></textarea>
                            <div *ngIf="submitted && f.earthStudBendOb.errors" class="invalid-feedback">
                                <div *ngIf="f.earthStudBendOb.errors.required">Earth stud bend is required</div>
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">
                                    <i class="bi bi-text-paragraph"></i>
                                </span>
                            </div>
                            <textarea [readonly]="isEditable" formControlName="earthStudBendRem"  [(ngModel)]="earthStud.earthStudBendRem" type="text" class="form-control" ></textarea>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td style="text-align: center;">3.</td>
                        <td>Proper bonding rail</td>
                        <td>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">
                                        <i class="bi bi-text-paragraph"></i>
                                    </span>
                                </div>
                                <textarea [readonly]="isEditable" formControlName="properBondingRailOb"  [(ngModel)]="earthStud.properBondingRailOb" type="text" class="form-control" placeholder="Please enter Observation here" [ngClass]="{ 'is-invalid': submitted && f.properBondingRailOb.errors}"></textarea>
                                <div *ngIf="submitted && f.properBondingRailOb.errors" class="invalid-feedback">
                                    <div *ngIf="f.properBondingRailOb.errors.required">Proper bonding rail is required</div>
                                </div>
                            </div>
                        </td>
                        <td>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">
                                        <i class="bi bi-text-paragraph"></i>
                                    </span>
                                </div>
                                <textarea [readonly]="isEditable" formControlName="properBondingRailRem" [(ngModel)]="earthStud.properBondingRailRem" type="text" class="form-control" ></textarea>
                            </div>
                    </td>
                </tr>
                <tr>
                    <td style="text-align: center;">4.</td>
                    <td>Physical damage of stud</td>
                    <td>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">
                                    <i class="bi bi-text-paragraph"></i>
                                </span>
                            </div>
                            <textarea [readonly]="isEditable" formControlName="physicalDamageStudOb"  [(ngModel)]="earthStud.physicalDamageStudOb"type="text" class="form-control" placeholder="Please enter Observation here" [ngClass]="{ 'is-invalid': submitted && f.physicalDamageStudOb.errors}"></textarea>
                            <div *ngIf="submitted && f.physicalDamageStudOb.errors" class="invalid-feedback">
                                <div *ngIf="f.physicalDamageStudOb.errors.required">Physical damage of stud is required</div>
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">
                                    <i class="bi bi-text-paragraph"></i>
                                </span>
                            </div>
                            <textarea [readonly]="isEditable" formControlName="physicalDamageStudRem"  [(ngModel)]="earthStud.physicalDamageStudRem"type="text" class="form-control" ></textarea>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td style="text-align: center;">5.</td>
                    <td>Whether continuity exist in earth stud</td>
                    <td>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">
                                    <i class="bi bi-text-paragraph"></i>
                                </span>
                            </div>
                            <textarea [readonly]="isEditable" formControlName="continutyExistaEarthOb" [(ngModel)]="earthStud.continutyExistaEarthOb" type="text" class="form-control" placeholder="Please enter Observation here" [ngClass]="{ 'is-invalid': submitted && f.continutyExistaEarthOb.errors}"></textarea>
                            <div *ngIf="submitted && f.continutyExistaEarthOb.errors" class="invalid-feedback">
                                <div *ngIf="f.continutyExistaEarthOb.errors.required">Whether continuity exist is required</div>
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">
                                    <i class="bi bi-text-paragraph"></i>
                                </span>
                            </div>
                            <textarea [readonly]="isEditable" formControlName="continutyExistaEarthRem" [(ngModel)]="earthStud.continutyExistaEarthRem" type="text" class="form-control" ></textarea>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
        </div>
    </div>
    <div style="text-align: center;margin-top: 40px;margin-bottom: 20px;">
        <button class="previous" mat-button matStepperPrevious>&laquo; Back</button>

        <button class="next" (click)="gotoNextModal(content,contents)" mat-button [disabled]="isEditable">Submit &raquo;</button>

    </div>
    <div *ngIf="validationError" style="text-align: center;margin-top: 30px;">
        <span class="alert alert-danger">{{validationErrorMsg}}</span>
    </div>
    </form>
</div>
</div>
<ng-template #content let-modal>
    <div class="modal-body">
        <div class="centre-text m-btm30">
            <div *ngIf="success" style="text-align: center;">
                <span class="successshow">{{successMsg}}</span>
            </div>
            <div *ngIf="Error" style="text-align: center;">
                <span class="errorshow">{{errorMsg}}</span>
            </div>
        </div>
    </div>
    <br>
     <button type="button" class="close" class="btn btn-block btn-primary btn-rounded btn-md font-weight-medium auth-form-btn"
     aria-label="Close"  (click)="closeModalDialog()" matStepperNext>

      <span aria-hidden="true">Submit</span>

  </button>
</ng-template> 
<ng-template #contents let-modal>
    <div class="modal-body">
     <div class="centre-text m-btm30">
      <div style="text-align: center;">
        <span style="font-size: 12px;">Note: Please verify all the details! </span>
       </div>
      </div>
     </div>
    <br>
    <div class="row">
       <button type="button" class="col-md-6" style="text-align:center; width: auto;" class="btn btn-primary btn-rounded btn-md font-weight-medium auth-form-btn"
       aria-label="Close" (click)="closeModalDialog()" >
       <i class="bi bi-arrow-right-circle"></i>&nbsp;
        <span aria-hidden="true">Ok</span>
    </button>
    
  </div>
  
    </ng-template>