<div class="card">
    <div class="card-body">
        <form [formGroup]="downConductorForm"  (ngSubmit)="onSubmit(flag)" (keyup)="onKeyForm($event)" (change)="onChangeForm($event)">
            <div formArrayName="downConductorDescription" *ngFor="let q of overAllDownControl(); let j = index">
                <div class="form-group" [formGroupName]="j">
            <mat-accordion>
                <mat-expansion-panel>
                    <mat-expansion-panel-header>Basic Details</mat-expansion-panel-header>

                      <div class="row">
                        <div class="col-md-4">
                            <label for="buildingNumber">Building Number</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">
                                        <i class="bi bi-align-start"></i>
                                    </span>
                                </div>
                                <input type="number" class="form-control" placeholder="Enter Building Number" formControlName="buildingNumber"  required readonly/>
                            </div>
                        </div>
        
                        <div class="col-md-4">
                            <label for="buildingName">Building Name</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">
                                        <i class="bi bi-align-start"></i>
                                    </span>
                                </div>
                                <input type="text" class="form-control" formControlName="buildingName" required readonly/>
                            </div>
                        </div>

                    </div>
                    
                    <!-- tables -->
                <div class="col-sm-16">
                    <div class="table-responsive" style="overflow-x: unset; margin-top: 20px;">
                        <table class="table TableBorder">
                                <thead>
                                    <th>Sl.No</th>
                                    <th>Description</th>
                                    <th>Observation</th>
                                    <th>Remarks(Optional)</th>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td style="width: 1rem; text-align: center;">1.</td>
                                        <td style="width: 24rem;">Presence of  Bi-metalllic corrosion issue (connections between dissimilar metals are not allowed)</td>
                                        <td style="width: 43rem;">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <select class="form-control" >
                                                    <option  value="" selected>Select Option</option>
                                                    <option value="YES" >Yes</option>
                                                    <option value="NO" >No</option>
                                                </select>
                                            </div>
                                        </td>
                                        <td style="width: 43rem;">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" class="form-control"
                                                   
                                                    [readonly]="isEditable" formControlName="biMetallicIssueRem" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">2(a)</td>
                                        <td>Presence of warning notice at ground level</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <select class="form-control" >
                                                    <option  value="" selected>Select Option</option>
                                                    <option value="YES" >Yes</option>
                                                    <option value="NO" >No</option>
                                                    <option value="NO" >Not Applicable</option>
                                                </select>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" class="form-control"
                                                   
                                                    [readonly]="isEditable" formControlName="warningNoticeGroundLevelRem"
                                                    ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">2(b)</td>
                                        <td>Presence of insulation of down conductors with PVC upto 3 meter from ground level</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <select class="form-control" >
                                                    <option  value="" selected>Select Option</option>
                                                    <option value="YES" >Yes</option>
                                                    <option value="NO" >No</option>
                                                    <option value="NO" >Not Applicable</option>
                                                </select>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" class="form-control"
                                                    
                                                    [readonly]="isEditable" formControlName="noPowerDownConductorRem"
                                                    ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">3</td>
                                        <td>presence of power/ control/ instrumentation/telecommunication cable or cable passage  in path/near/parallel to down conductors</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <select class="form-control" >
                                                    <option  value="" selected>Select Option</option>
                                                    <option value="YES" >Yes</option>
                                                    <option value="NO" >No</option>
                                                </select>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" class="form-control"
                                                   
                                                    [readonly]="isEditable" formControlName="connectMadeBrazingRem"
                                                    ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">4</td>
                                        <td>Type of connections</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <select class="form-control" >
                                                    <option  value="" selected>Select Option</option>
                                                    <option value="YES" >Brazing</option>
                                                    <option value="NO" >Welding</option>
                                                    <option value="NO" >Crimping</option>
                                                    <option value="NO" >Seaming</option>
                                                    <option value="NO" >Screwing</option>
                                                    <option value="NO" >Bolting (connectors)</option>
                                                </select>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" class="form-control"
                                                    
                                                    [readonly]="isEditable" formControlName="chemicalSprinklerRem"
                                                    ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">5</td>
                                        <td>Presence of corrosive material near the down conductor</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <select class="form-control" >
                                                    <option  value="" selected>Select Option</option>
                                                    <option value="YES" >Yes</option>
                                                    <option value="NO" >No</option>
                                                </select>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" class="form-control"></textarea>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td style="text-align: center;">6</td>
                                        <td>If wall is a combustible material , distance between down conductor and wall should be > 1m</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <select class="form-control" >
                                                    <option  value="" selected>Select Option</option>
                                                    <option value="YES" >Distance >1m</option>
                                                    <option value="NO" >Distance < 1m </option>
                                                    <option value="NO" >Not applicable < 1m </option>
                                                </select>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" class="form-control"></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    
                                </tbody>
                            </table>
                    </div>
                </div>
                </mat-expansion-panel>

                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <h3>Down conductors (exposed / Natural)</h3>
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div *ngFor="let a of downConductorControls(q); let j = index">
                        <select class="form-control" style="width: 30%;" 
                                (change)="onChangeDownCon($event,a)">
                                <option value="" selected>Select Option</option>
                                <option value="Applicable" >Applicable </option>
                                <option value="Not applicable" >Not applicable</option>
                                </select>
                            </div>
                            <div style="margin-top: 10px;" *ngIf="applicableDownNote"><b>Note:</b> &nbsp; Select applicable if you intend to fill details for Down conductors (exposed / Natural)</div>
                            <br>
                    <div class="table-responsive" style="overflow-x: unset;" *ngIf="applicableDown">
                        <table class="table TableBorder">
                            <tbody formArrayName="downConductor" *ngFor="let a of downConductorControls(q); let j = index">
                                <div class="form-group" [formGroupName]="j">
                                    <br>
                                    <thead>
                                        <th>Sl.No</th>
                                        <th>Description</th>
                                        <th>Observation</th>
                                        <th>Remarks(Optional)</th>
                                    </thead>
                                    <tr>
                                        <td style="width: 1rem; text-align: center;">7(a)</td>
                                        <td style="width: 30rem;">Physical inspection (damage/break/bend/corroded/routing as per design)</td>
                                        <td style="width: 43rem;">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <select class="form-control" >
                                                    <option  value="" selected>Select Option</option>
                                                    <option value="YES" >Physically good</option>
                                                    <option value="NO" >Not good</option>
                                                </select>
                                            </div>
                                        </td>
                                        <td style="width: 43rem;">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="physicalInspectionRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">7(b)</td>
                                        <td>Material of conductor</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <select class="form-control" >
                                                    <option  value="" selected>Select Option</option>
                                                    <option value="YES">Copper</option>
                                                    <option value="NO" >Copper bonded steel</option>
                                                    <option value="NO" >Aluminum</option>
                                                    <option value="NO" >Stainless steel</option>
                                                    <option value="NO" >Galvanised Iron</option>
                                                    <option value="NO" >Galvanised Steel</option>
                                                    <option value="NO" >Mild Steel</option>
                                                    <option value="NO" >Cast Iron</option>
                                                </select>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea class="form-control"></textarea>
                                            </div>  
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">7(c)</td>
                                        <td>Size/cross section area of conductor</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="conductSizeOb" type="text"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('conductSizeOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('conductSizeOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('conductSizeOb')?.errors?.required">Size/cross
                                                        section area of conductor observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="conductSizeRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">7(d)</td>
                                        <td>Type of down conductor</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <select class="form-control" >
                                                    <option  value="" selected>Select Option</option>
                                                    <option value="YES" >Exposed</option>
                                                    <option value="NO" >Insulated cable</option>
                                                </select>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">7(e)</td>
                                        <td>Down conductor location changed as per site condition/approved in case of
                                            deviation check routing of down conductor whether shortest path is achieved
                                            or not</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <select class="form-control" >
                                                    <option  value="" selected>Select Option</option>
                                                    <option value="YES" >Achieved</option>
                                                    <option value="NO" >Not achieved</option>
                                                    <option value="NO" >Not applicable</option>
                                                </select>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">7(f)</td>
                                        <td>Presence of gutters/ glass facade/water spouts near/in the path of down conductor  (even if it’s a insulated conductor)</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <select class="form-control" >
                                                    <option  value="" selected>Select Option</option>
                                                    <option value="YES" >Yes</option>
                                                    <option value="NO" >No</option>
                                                </select>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="downConductGutterRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">7(g)</td>
                                        <td>whether down conductor is installed in service shaft (even if it’s a insulated conductor)</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <select class="form-control" >
                                                    <option  value="" selected>Select Option</option>
                                                    <option value="YES" >Yes</option>
                                                    <option value="NO" >No</option>
                                                </select>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="ensureDownCnoductRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">7(h)</td>
                                        <td>Presence of connection of down conductor with nearest equipotential bar</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <select class="form-control" >
                                                    <option  value="" selected>Select Option</option>
                                                    <option value="YES" >Yes</option>
                                                    <option value="NO" >No</option>
                                                </select>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="installationDownConductRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td style="text-align: center;">7(i)</td>
                                        <td>Installation of down conductor at equal spacing around perimeter</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <select class="form-control" >
                                                    <option  value="" selected>Select Option</option>
                                                    <option value="YES" >Yes</option>
                                                    <option value="NO" >No</option>
                                                </select>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td style="text-align: center;">7(j)</td>
                                        <td>Maximum distance between down conductors</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="maximumDownConductOb" type="text"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('maximumDownConductOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('maximumDownConductOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('maximumDownConductOb')?.errors?.required">Maximum
                                                        distance between down conductors observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="maximumDownConductRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">7(k)</td>
                                        <td>Minimum distance between down conductors</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="manimumDownConductOb" type="text"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('manimumDownConductOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('manimumDownConductOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('manimumDownConductOb')?.errors?.required">Minimum
                                                        distance between down conductors observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="manimumDownConductRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">7(l)</td>
                                        <td>Total number of down conductors</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="totalNoDownConductOb" type="text"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('totalNoDownConductOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('totalNoDownConductOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('totalNoDownConductOb')?.errors?.required">Total
                                                        number of down conductors observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="totalNoDownConductRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">7(m)</td>
                                        <td>Number of down conductors inspected</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="inspectedNoOb" type="text"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('inspectedNoOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('inspectedNoOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('inspectedNoOb')?.errors?.required">Number of down
                                                        conductors inspected observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="inspectedNoRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">7(n)</td>
                                        <td>Number of inspections passed</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="inspectionPassedNoOb" type="text"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('inspectionPassedNoOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('inspectionPassedNoOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('inspectionPassedNoOb')?.errors?.required">Number
                                                        of inspections passed observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="inspectionPassedNoRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">7(o)</td>
                                        <td>Number of inspections failed</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="inspectionFailedNoOb" type="text"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('inspectionFailedNoOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('inspectionFailedNoOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('inspectionFailedNoOb')?.errors?.required">Number
                                                        of inspections failed observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="inspectionFailedNoRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td style="text-align: center;">7(p)</td>
                                        <td>Average number of dangerous bends in each down conductor, which are going to affect the performance of LPS</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea class="form-control"></textarea>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td style="text-align: center;">7(q)</td>
                                        <td>TYpe of natural down conductor (Metal pipe/ I beam/ others)</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea class="form-control"></textarea>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td style="text-align: center;">7(r)</td>
                                        <td>Dimensions of natural down conductor</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea class="form-control"></textarea>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>

                                </div>
                                <!-- <mat-icon class="mousechange" class="add" type="button" [ngClass]="{'disableForm':isEditable}" (click)="submit()" *ngIf="downConductorControls().length == j+1" 
                                    style="margin-inline: 1rem;float: right;position: relative;"  title="add another Section" 
                                  >add_box</mat-icon>
                                <mat-icon class="mousechange" class="dlt" type="button" title="delete" [ngClass]="{'disableForm':isEditable}" *ngIf="downConductorControls().length > 1"
                                    (click)="removeItem(a,j)"
                                    style="margin-inline: 0rem;float: right;position: relative;">delete</mat-icon> -->
                            </tbody>
                        </table>
                    </div>
                    
                </mat-expansion-panel>

                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <h3>Bridging Cables</h3>
                        </mat-panel-title>
                           
                    </mat-expansion-panel-header>
                    <div *ngFor="let a of bridgingCablesControls(q); let f = index">
                        <select class="form-control" style="width: 30%;" 
                                (change)="onChangeCables($event,a)">
                                <option value="" selected>Select Option</option>
                                <option value="Applicable" >Applicable </option>
                                <option value="Not applicable" >Not applicable</option>
                                </select>
                            </div>
                            <div style="margin-top: 10px;" *ngIf="applicableCablesNote"><b>Note:</b> &nbsp; Select applicable if you intend to fill details for Bridging Cables</div>
                            <br>
                    <div class="table-responsive" style="overflow-x: unset;" *ngIf="applicableCables">
                        <table class="table TableBorder">
                            <tbody formArrayName="bridgingDescription"
                                *ngFor="let a of bridgingCablesControls(q); let f = index">
                                <div class="form-group" [formGroupName]="f">
                                    <thead>
                                        <th>Sl.No</th>
                                        <th>Description</th>
                                        <th>Observation</th>
                                        <th>Remarks(Optional)</th>
                                    </thead>
                                    <tr>
                                        <td style="width: 1rem; text-align: center;">8(a)</td>
                                        <td style="width: 24rem;">Ensure bridging cable is used at corner of structures to avoid sharp bends (applicable in case if bridging cable is used to connect air termination and down condcutor</td>
                                        <td style="width: 43rem;">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <select class="form-control" >
                                                    <option  value="" selected>Select Option</option>
                                                    <option value="YES" >Yes</option>
                                                    <option value="NO" >No</option>
                                                </select>
                                            </div>
                                        </td>
                                        <td style="width: 43rem;">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">8(b)</td>
                                        <td>Check the presence of connection of aluminium conductor into the side wall</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <select class="form-control" >
                                                    <option  value="" selected>Select Option</option>
                                                    <option value="YES" >Yes</option>
                                                    <option value="NO" >No</option>
                                                </select>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="aluminiumConductorSideWallRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">8(c)</td>
                                        <td>Ensure the connection of bridging cable (break/damage/loose/tight /corroded)</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <select class="form-control" >
                                                    <option  value="" selected>Select Option</option>
                                                    <option value="YES" >Physically good</option>
                                                    <option value="NO" >Not good</option>
                                                </select>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="bridgingCableConnectionRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td style="text-align: center;">8(d)</td>
                                        <td>Material of bridging cable</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <select class="form-control" >
                                                    <option  value="" selected>Select Option</option>
                                                    <option value="YES">Copper</option>
                                                    <option value="NO" >Copper bonded steel</option>
                                                    <option value="NO" >Aluminum</option>
                                                    <option value="NO" >Stainless steel</option>
                                                    <option value="NO" >Galvanised Iron</option>
                                                    <option value="NO" >Galvanised Steel</option>
                                                    <option value="NO" >Mild Steel</option>
                                                    <option value="NO" >Cast Iron</option>
                                                </select>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td style="text-align: center;">8(e)</td>
                                        <td>Size/cross section area of bridging cable</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea class="form-control"></textarea>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td style="text-align: center;">8(f)</td>
                                        <td>Total number of bridging cables</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="totalNoBridgingCableOb" type="text"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('totalNoBridgingCableOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('totalNoBridgingCableOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('totalNoBridgingCableOb')?.errors?.required">Total
                                                        number of bridging cables observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="totalNoBridgingCableRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td style="text-align: center;">8(g)</td>
                                        <td>Number of bridging cables inspected</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="inspectedNoOb" type="text"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('inspectedNoOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('inspectedNoOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('inspectedNoOb')?.errors?.required">Number of
                                                        bridging cables inspected observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="inspectedNoRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">8(h)</td>
                                        <td>Number of inspections passed</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="inspectionPassedNoOb" type="text"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('inspectionPassedNoOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('inspectionPassedNoOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('inspectionPassedNoOb')?.errors?.required">Number
                                                        of inspections passed observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="inspectionPassedNoRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">8(i)</td>
                                        <td>Number of inspections failed</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="inspectionFailedNoOb" type="text"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('inspectionFailedNoOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('inspectionFailedNoOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('inspectionFailedNoOb')?.errors?.required">Number
                                                        of inspections failed observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="inspectionFailedNoRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                </div>
                                <!-- <mat-icon class="mousechange" class="add" type="button" [ngClass]="{'disableForm':isEditable}" (click)="submit1()" *ngIf="bridgingCablesControls().length == f+1"
                                style="margin-inline: 1rem;float: right;position: relative;"  title="add another Section" >add_box</mat-icon>
                            <mat-icon class="mousechange" class="dlt" type="button" [ngClass]="{'disableForm':isEditable}" title="delete" *ngIf="bridgingCablesControls().length > 1"
                                    (click)="removeItem1(a,f)"
                                    style="margin-inline: 0rem;float: right;position: relative;">delete</mat-icon> -->

                            </tbody>
                        </table>
                    </div>
                </mat-expansion-panel>

                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <h3>Holders</h3>
                        </mat-panel-title>
                          
                    </mat-expansion-panel-header>
                    <div *ngFor="let a of holdersControls(q); let k = index">
                        <select class="form-control" style="width: 30%;" 
                                (change)="onChangeHolders($event,a)">
                                <option value="" selected>Select Option</option>
                                <option value="Applicable" >Applicable </option>
                                <option value="Not applicable" >Not applicable</option>
                                </select>
                            </div>
                            <div style="margin-top: 10px;" *ngIf="applicableHoldersNote"><b>Note:</b> &nbsp; Select applicable if you intend to fill details for Holders</div>

                            <br>
                    <div class="table-responsive" style="overflow-x: unset;" *ngIf="applicableHolders">
                        <table class="table TableBorder">
                            <tbody formArrayName="holder" *ngFor="let a of holdersControls(q); let k = index">
                                <div class="form-group" [formGroupName]="k">
                                    <thead>
                                        <th>Sl.No</th>
                                        <th>Description</th>
                                        <th>Observation</th>
                                        <th>Remarks(Optional)</th>
                                    </thead>
                                    <tr>
                                        <td style="width: 1rem; text-align: center;">9(a)</td>
                                        <td style="width: 24rem;">Physical inspection (damage/break/corroded)</td>
                                        <td style="width: 43rem;">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                    <select class="form-control" formControlName="physicalInspectionOb" type="text"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('physicalInspectionOb')?.errors}">
                                                        <option  value="" selected>Select Option</option>
                                                        <option value="YES" >Physically good</option>
                                                        <option value="NO" >Not good</option>
                                                    </select>
                                                <div *ngIf="submitted && a.get('physicalInspectionOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('physicalInspectionOb')?.errors?.required">
                                                        Physical inspection observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td style="width: 43rem;">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="physicalInspectionRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">9(b)</td>
                                        <td>Conductor holder is firmly fixed/mounted over the flat surface of wall</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                    <select class="form-control" formControlName="conductHolderFlatSurfaceOb" type="text" class="form-control" placeholder="Please enter Observation here" 
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('conductHolderFlatSurfaceOb')?.errors}">
                                                        <option  value="" selected >Select Option</option>
                                                        <option value="YES" >Yes</option>
                                                        <option value="NO" >No</option>
                                                    </select>
                                                <div *ngIf="submitted && a.get('conductHolderFlatSurfaceOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('conductHolderFlatSurfaceOb')?.errors?.required">
                                                        Conductor holder is firmly fixed observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="conductHolderFlatSurfaceRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">9(c)</td>
                                        <td>Conductor is properly  holded  in the holder and connection of conductor with holder(tight/loose/corroded)</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                    <select class="form-control" formControlName="conductorHoldedOb" type="text" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('conductorHoldedOb')?.errors}">
                                                        <option  value="" selected >Select Option</option>
                                                        <option value="YES" >Yes</option>
                                                        <option value="NO" >No</option>
                                                    </select>
                                                <div *ngIf="submitted && a.get('conductorHoldedOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('conductorHoldedOb')?.errors?.required">Conductor
                                                        is properly holded in the holder observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="conductorHoldedRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">9(d)</td>
                                        <td>Distance between two successive holder in meters</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" class="form-control" ></textarea>
                                               
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td style="text-align: center;">9(e)</td>
                                        <td>Material of holder</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                    <select class="form-control" formControlName="materialHolderOb" type="text" class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('materialHolderOb')?.errors}">
                                                    <option  value="" selected>Select Option</option>
                                                    <option value="YES">Copper</option>
                                                    <option value="NO" >Copper bonded steel</option>
                                                    <option value="NO" >Aluminum</option>
                                                    <option value="NO" >Stainless steel</option>
                                                    <option value="NO" >Galvanised Iron</option>
                                                    <option value="NO" >Galvanised Steel</option>
                                                    <option value="NO" >Mild Steel</option>
                                                    <option value="NO" >Cast Iron</option>
                                                    <option value="NO" >Plastic</option>
                                                    <option value="NO" >Insulated</option>
                                                    </select>
                                                <div *ngIf="submitted && a.get('materialHolderOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('materialHolderOb')?.errors?.required">Material of
                                                        holder observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="materialHolderRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">9(f)</td>
                                        <td>Total number of holders</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="totalNoHolderOb" type="text"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('totalNoHolderOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('totalNoHolderOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('totalNoHolderOb')?.errors?.required">Total number
                                                        of holders observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="totalNoHolderRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">9(g)</td>
                                        <td>Number of holders inspected</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="inspectedNoOb" type="text"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('inspectedNoOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('inspectedNoOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('inspectedNoOb')?.errors?.required">Number of
                                                        holders inspected observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="inspectedNoRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">9(h)</td>
                                        <td>Number of inspection passed</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="inspectionPassedNoOb" type="text"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('inspectionPassedNoOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('inspectionPassedNoOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('inspectionPassedNoOb')?.errors?.required">Number
                                                        of inspection passed observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="inspectionPassedNoRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">9(i)</td>
                                        <td>Number of inspection failed</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="inspectionFailedNoOb" type="text"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('inspectionFailedNoOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('inspectionFailedNoOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('inspectionFailedNoOb')?.errors?.required">Number
                                                        of inspection failed observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="inspectionFailedNoRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                </div>
                                <!-- <mat-icon class="mousechange" class="add" type="button" [ngClass]="{'disableForm':isEditable}" (click)="submit2()" *ngIf="holdersControls().length == k+1"
                                style="margin-inline: 1rem;float: right;position: relative;"  title="add another Section" >add_box</mat-icon>
                            <mat-icon class="mousechange" class="dlt" type="button" [ngClass]="{'disableForm':isEditable}" title="delete" *ngIf="holdersControls().length > 1"
                                    (click)="removeItem2(a,k)"
                                    style="margin-inline: 0rem;float: right;position: relative;">delete</mat-icon> -->

                            </tbody>
                        </table>
                    </div>
                </mat-expansion-panel>

                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <h3>Connectors</h3>
                        </mat-panel-title>
                         
                    </mat-expansion-panel-header>
                    <div *ngFor="let a of connectorsControls(q); let z = index">
                        <select class="form-control" style="width: 30%;" 
                                (change)="onChangeConnectors($event,a)">
                                <option value="" selected>Select Option</option>
                                <option value="Applicable" >Applicable </option>
                                <option value="Not applicable" >Not applicable</option>
                                </select>
                            </div>
                            <div style="margin-top: 10px;" *ngIf="applicableConnectorsNote"><b>Note:</b> &nbsp; Select applicable if you intend to fill details for Connectors</div>

                            <br>
                    <div class="table-responsive" style="overflow-x: unset;" *ngIf="applicableConnectors">
                        <table class="table TableBorder">
                            <tbody formArrayName="connectors" *ngFor="let a of connectorsControls(q); let z = index">
                                <div class="form-group" [formGroupName]="z">
                                    <thead>
                                        <th>Sl.No</th>
                                        <th>Description</th>
                                        <th>Observation</th>
                                        <th>Remarks(Optional)</th>
                                    </thead>
                                    <tr>
                                        <td style="width: 1rem; text-align: center;">10(a)</td>
                                        <td style="width: 24rem;">Physical inspection (damage/break/corroded)</td>
                                        <td style="width: 43rem;">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                    <select class="form-control" formControlName="physicalInspectionOb" type="text" class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('physicalInspectionOb')?.errors}">
                                                        <option  value="" selected>Select Option</option>
                                                        <option value="YES" >Physically good</option>
                                                        <option value="NO" >Not good</option>
                                                        <option value="NO" >Not possible to verify</option>
                                                    </select>
                                                <div *ngIf="submitted && a.get('physicalInspectionOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('physicalInspectionOb')?.errors?.required">
                                                        Physical inspection observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td style="width: 43rem;">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="physicalInspectionRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">10(b)</td>
                                        <td>check the connection of straight connector (tight/loose/corroded)</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                    <select class="form-control" formControlName="strightConnectCheckOb" type="text" class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('strightConnectCheckOb')?.errors}">
                                                        <option  value="" selected>Select Option</option>
                                                        <option value="YES" >Physically good</option>
                                                        <option value="NO" >Not good</option>
                                                        <option value="NO" >Not possible to verify</option>
                                                    </select>
                                                <div *ngIf="submitted && a.get('strightConnectCheckOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('strightConnectCheckOb')?.errors?.required">check
                                                        the connection of straight connector observation is required
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="strightConnectCheckRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">10(c)</td>
                                        <td>Material of straight connector/ferrule/tube</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                    <select class="form-control" formControlName="materialConnectorOb" type="text" class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('materialConnectorOb')?.errors}">
                                                        <option  value="" selected>Select Option</option>
                                                        <option value="YES">Copper</option>
                                                        <option value="NO" >Copper bonded steel</option>
                                                        <option value="NO" >Aluminum</option>
                                                        <option value="NO" >Stainless steel</option>
                                                        <option value="NO" >Galvanised Iron</option>
                                                        <option value="NO" >Galvanised Steel</option>
                                                        <option value="NO" >Mild Steel</option>
                                                        <option value="NO" >Cast Iron</option>
                                                    </select>
                                                <div *ngIf="submitted && a.get('materialConnectorOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('materialConnectorOb')?.errors?.required">Material
                                                        of connector observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="materialConnectorRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">10(d)</td>
                                        <td>Max number of connector in a down conductor</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="maxConnectorsDownConductorOb" type="text"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('maxConnectorsDownConductorOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('maxConnectorsDownConductorOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div
                                                        *ngIf="a.get('maxConnectorsDownConductorOb')?.errors?.required">
                                                        Max number of connector in a down conductor observation is
                                                        required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="maxConnectorsDownConductorRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">10(e)</td>
                                        <td>Total number of connectors</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" [readonly]="isEditable" formControlName="totalNoConnectorsOb"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('totalNoConnectorsOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('totalNoConnectorsOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('totalNoConnectorsOb')?.errors?.required">Total
                                                        number of connectors observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" [readonly]="isEditable" formControlName="totalNoConnectorsRem"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">10(f)</td>
                                        <td>Number of connectors inspected</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" [readonly]="isEditable" formControlName="inspectedNoOb"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('inspectedNoOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('inspectedNoOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('inspectedNoOb')?.errors?.required">Number of
                                                        connectors inspected observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" [readonly]="isEditable" formControlName="inspectedNoRem"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">10(g)</td>
                                        <td>Number of inspection passed</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" [readonly]="isEditable" formControlName="inspectionPassedNoOb"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('inspectionPassedNoOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('inspectionPassedNoOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('inspectionPassedNoOb')?.errors?.required">Number
                                                        of inspection passed observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" [readonly]="isEditable" formControlName="inspectionPassedNoRem"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">10(h)</td>
                                        <td>Number of inspection failed</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" [readonly]="isEditable" formControlName="inspectionFailedNoOb"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('inspectionFailedNoOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('inspectionFailedNoOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('inspectionFailedNoOb')?.errors?.required">Number
                                                        of inspection failed observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" [readonly]="isEditable" formControlName="inspectionFailedNoRem"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                </div>
                                <!-- <mat-icon class="mousechange" class="add" type="button" [ngClass]="{'disableForm':isEditable}" (click)="submit3()" *ngIf="connectorsControls().length == z+1"
                                style="margin-inline: 1rem;float: right;position: relative;"  title="add another Section" >add_box</mat-icon>
                            <mat-icon class="mousechange" class="dlt" type="button" title="delete"  [ngClass]="{'disableForm':isEditable}" *ngIf="connectorsControls().length > 1"
                                    (click)="removeItem3(a,z)"
                                    style="margin-inline: 0rem;float: right;position: relative;">delete</mat-icon> -->

                            </tbody>
                        </table>
                    </div>
                </mat-expansion-panel>

                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <h3>Lightning Counters</h3>
                        </mat-panel-title>
                           
                    </mat-expansion-panel-header>
                    <div *ngFor="let a of lightControls(q); let f = index">
                        <select class="form-control" style="width: 30%;" 
                                (change)="onChangeCounters($event,a)">
                                <option value="" selected>Select Option</option>
                                <option value="Applicable" >Applicable </option>
                                <option value="Not applicable" >Not applicable</option>
                                </select>
                            </div>
                            <div style="margin-top: 10px;" *ngIf="applicableCountersNote"><b>Note:</b> &nbsp; Select applicable if you intend to fill details for Lightning Counters</div>

                            <br>
                    <div class="row" *ngIf="NotapplicableCounters">
                      <div class="col-sm-12">
                        <textarea readonly class="form-control">
                        As per latest standard IS/IEC 62305,installation of single lightning counter for whole building is mandatory.
                        </textarea>
                      </div>
                    </div>
                    <div class="table-responsive" style="overflow-x: unset;" *ngIf="applicableCounters">
                        <table class="table TableBorder">
                            <tbody formArrayName="lightningCounter" *ngFor="let a of lightControls(q); let f = index">
                                <div class="form-group" [formGroupName]="f">
                                    <thead>
                                        <th>Sl.No</th>
                                        <th>Description</th>
                                        <th>Observation</th>
                                        <th>Remarks(Optional)</th>
                                    </thead>
                                    <tr>
                                        <td style="width: 1rem; text-align: center;">11(a)</td>
                                        <td style="width: 24rem;">Threshold current in kA</td>
                                        <td style="width: 43rem;">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="threadHoldCurrentOb" type="text"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('threadHoldCurrentOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('threadHoldCurrentOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('threadHoldCurrentOb')?.errors?.required">
                                                        Threshold current observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td style="width: 43rem;">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="threadHoldCurrentRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">11(b)</td>
                                        <td>Maximum withstand current in kA</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="maximumWithStandCurrentOb" type="text"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('maximumWithStandCurrentOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('maximumWithStandCurrentOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('maximumWithStandCurrentOb')?.errors?.required">
                                                        Maximum withstand current observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="maximumWithStandCurrentRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">11(c)</td>
                                        <td>Counts</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="countsOb" type="text" class="form-control"
                                                    placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('countsOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('countsOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('countsOb')?.errors?.required">Counts observation
                                                        is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="countsRem" type="text" class="form-control"
                                                    ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">11(d)</td>
                                        <td>Battery life time in years</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="batteryLifeTimeOb" type="text"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('batteryLifeTimeOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('batteryLifeTimeOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('batteryLifeTimeOb')?.errors?.required">Battery
                                                        life time observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="batteryLifeTimeRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">11(e)</td>
                                        <td>Proper connections of lightning counter for correct functioning is made</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                    <select class="form-control" formControlName="properConnectionLightingCounterOb" type="text" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('properConnectionLightingCounterOb')?.errors}">
                                                        <option  value="" selected>Select Option</option>
                                                        <option value="YES" >Yes</option>
                                                        <option value="NO" >No</option>
                                                    </select>
                                                <div *ngIf="submitted && a.get('properConnectionLightingCounterOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div
                                                        *ngIf="a.get('properConnectionLightingCounterOb')?.errors?.required">
                                                        Proper connections of lightning counter observation is required
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="properConnectionLightingCounterRem"
                                                    type="text" class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">11(f)</td>
                                        <td>Is lightning counter is placed 0.5 metre above test joint</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                    <select formControlName="lightingCounterPlacedOb" type="text" class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('lightingCounterPlacedOb')?.errors}">
                                                        <option  value="" selected>Select Option</option>
                                                        <option value="YES" >Yes</option>
                                                        <option value="NO" >No</option>
                                                    </select>
                                                <div *ngIf="submitted && a.get('lightingCounterPlacedOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('lightingCounterPlacedOb')?.errors?.required">Is
                                                        lightning counter is placed 0.5 metre above test joint
                                                        observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="lightingCounterPlacedRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">11(g)</td>
                                        <td>Condition of lightning counter and its connection (loose/tight/corroded)</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                    <select class="form-control" formControlName="conditionOfLightingCounterOb" type="text" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('conditionOfLightingCounterOb')?.errors}">
                                                        <option  value="" selected>Select Option</option>
                                                        <option value="YES" >Physically good</option>
                                                        <option value="NO" >Not good</option>
                                                    </select>
                                                <div *ngIf="submitted && a.get('conditionOfLightingCounterOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div
                                                        *ngIf="a.get('conditionOfLightingCounterOb')?.errors?.required">
                                                        Condition of lightning counter observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="conditionOfLightingCounterRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">11(h)</td>
                                        <td>Total number of lightning counter</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="totalNoLightingCounterOb" type="text"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('totalNoLightingCounterOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('totalNoLightingCounterOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('totalNoLightingCounterOb')?.errors?.required">
                                                        Total number of lightning counter observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="totalNoLightingCounterRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">11(i)</td>
                                        <td>Number of lightning counter inspected</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="inspectedNoOb" type="text"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('inspectedNoOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('inspectedNoOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('inspectedNoOb')?.errors?.required">Number of
                                                        lightning counter inspected observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="inspectedNoRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">11(j)</td>
                                        <td>Number of inspections passed</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="inspectionPassedNoOb" type="text"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('inspectionPassedNoOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('inspectionPassedNoOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('inspectionPassedNoOb')?.errors?.required">Number
                                                        of inspections passed observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="inspectionPassedNoRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">11(k)</td>
                                        <td>Number of inspections failed</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="inspectionFailedNoOb" type="text"
                                                    class="form-control" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('inspectionFailedNoOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('inspectionFailedNoOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('inspectionFailedNoOb')?.errors?.required">Number
                                                        of inspections failed observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea [readonly]="isEditable" formControlName="inspectionFailedNoRem" type="text"
                                                    class="form-control" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                </div>
                                <!-- <mat-icon class="mousechange" class="add" type="button" [ngClass]="{'disableForm':isEditable}" (click)="submit4()" *ngIf="lightControls().length == f+1"
                                style="margin-inline: 1rem;float: right;position: relative;"  title="add another Section" >add_box</mat-icon>
                            <mat-icon class="mousechange" class="dlt" type="button" [ngClass]="{'disableForm':isEditable}" title="delete" *ngIf="lightControls().length > 1"
                                    (click)="removeItem4(a,f)"
                                    style="margin-inline: 0rem;float: right;position: relative;">delete</mat-icon> -->

                            </tbody>
                        </table>
                    </div>
                </mat-expansion-panel>

                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <h3>Test Joints</h3>
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div *ngFor="let a of jointControls(q); let x = index">
                        <select class="form-control" style="width: 30%;" 
                                (change)="onChangeJoints($event,a)">
                                <option value="" selected>Select Option</option>
                                <option value="Applicable" >Applicable </option>
                                <option value="Not applicable" >Not applicable</option>
                                </select>
                            </div>
                            <div style="margin-top: 10px;" *ngIf="applicableJointsNote"><b>Note:</b> &nbsp; Select applicable if you intend to fill details for Test Joints</div>
                            <br>
                    <div class="row" *ngIf="NotapplicableJoints">
                        <div class="col-sm-12">
                          <textarea readonly class="form-control">
                            As per latest standard IS/IEC62305, installation of test joint at each down conductor is mandatory for the purpose of testing of down conductors and earth electrode as well.
                          </textarea>
                        </div>
                      </div>
                      <div class="table-responsive" style="overflow-x: unset;" *ngIf="applicableJoints">
                                <table class="table TableBorder">
                            <tbody formArrayName="testingJoint" *ngFor="let a of jointControls(q); let x = index">
                                <div class="form-group" [formGroupName]="x">
                                    <thead>
                                        <th>Sl.No</th>
                                        <th>Description</th>
                                        <th>Observation</th>
                                        <th>Remarks(Optional)</th>
                                    </thead>
                                    <!-- <tr>
                                        <td style="width: 1rem; text-align: center;">12.1</td>
                                        <td style="width: 24rem;">Test joint available or not</td>
                                        <td style="width: 43rem;">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" class="form-control"
                                                    [readonly]="isEditable" formControlName="testJointTypeOb"
                                                    placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('testJointTypeOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('testJointTypeOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('testJointTypeOb')?.errors?.required">Test joint
                                                        available or not observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td style="width: 43rem;">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" class="form-control"
                                                    [readonly]="isEditable" formControlName="testJointTypeRem" ></textarea>
                                            </div>
                                        </td>
                                    </tr> -->
                                    <tr>
                                        <td style="text-align: center;">12(a)</td>
                                        <td>Material of test joint</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                    <select class="form-control" class="form-control" formControlName="materialTestJointOb" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('materialTestJointOb')?.errors}">
                                                        <option  value="" selected>Select Option</option>
                                                        <option value="YES">Copper</option>
                                                        <option value="NO" >Copper bonded steel</option>
                                                        <option value="NO" >Aluminum</option>
                                                        <option value="NO" >Stainless steel</option>
                                                        <option value="NO" >Galvanised Iron</option>
                                                        <option value="NO" >Galvanised Steel</option>
                                                        <option value="NO" >Mild Steel</option>
                                                        <option value="NO" >Cast Iron</option>
                                                    </select>
                                                <div *ngIf="submitted && a.get('materialTestJointOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('materialTestJointOb')?.errors?.required">Material
                                                        of test joint observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" class="form-control"
                                                    [readonly]="isEditable" formControlName="materialTestJointRem"
                                                    ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">12(b)</td>
                                        <td>Accessibility of test joint</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" ></textarea>
                                                    <select class="form-control" class="form-control" formControlName="accessibilityOfTestJointOb" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('accessibilityOfTestJointOb')?.errors}">
                                                        <option  value="" selected>Select Option</option>
                                                        <option value="YES" >Accesible</option>
                                                        <option value="NO" >Not accesible</option>
                                                    </select>
                                                <div *ngIf="submitted && a.get('accessibilityOfTestJointOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('accessibilityOfTestJointOb')?.errors?.required">
                                                        Accessibility of test joint observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" class="form-control"
                                                    [readonly]="isEditable" formControlName="accessibilityOfTestJointRem"
                                                    ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">12(c)</td>
                                        <td>Presence of provision of protection of test joint by non metalic casings</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                    <select class="form-control" formControlName="nonMetalicProtectionOb" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('nonMetalicProtectionOb')?.errors}">
                                                        <option  value="" selected>Select Option</option>
                                                        <option value="YES" >Yes</option>
                                                        <option value="NO" >No</option>
                                                    </select>
                                                <div *ngIf="submitted && a.get('nonMetalicProtectionOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('nonMetalicProtectionOb')?.errors?.required">
                                                        protection of test joint by non metalic casings observation is
                                                        required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" class="form-control"
                                                    [readonly]="isEditable" formControlName="nonMetalicProtectionRem"
                                                    ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">12(d)</td>
                                        <td>Is test joint placed 1.5 metre from the ground level</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                    <select class="form-control" formControlName="testJointPlacedGroungLevelOb" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('testJointPlacedGroungLevelOb')?.errors}">
                                                        <option  value="" selected>Select Option</option>
                                                        <option value="YES" >Yes</option>
                                                        <option value="NO" >No</option>
                                                    </select>
                                                <div *ngIf="submitted && a.get('testJointPlacedGroungLevelOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div
                                                        *ngIf="a.get('testJointPlacedGroungLevelOb')?.errors?.required">
                                                        Is test joint placed 1.5 metre from the ground level observation
                                                        is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" class="form-control"
                                                    [readonly]="isEditable" formControlName="testJointPlacedGroungLevelRem"
                                                    ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">12(e)</td>
                                        <td>Presence of Bi-metalllic corrosion issue (connections between dissimilar metals are not allowed)</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                    <select class="form-control" formControlName="bimetallicIssueCheckOb" placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('bimetallicIssueCheckOb')?.errors}">
                                                        <option  value="" selected>Select Option</option>
                                                        <option value="YES" >Yes</option>
                                                        <option value="NO" >No</option>
                                                    </select>
                                                <div *ngIf="submitted && a.get('bimetallicIssueCheckOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('bimetallicIssueCheckOb')?.errors?.required">
                                                        Bi-metalllic issue observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" class="form-control"
                                                    [readonly]="isEditable" formControlName="bimetallicIssueCheckRem"
                                                    ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">12(f)</td>
                                        <td>Ensure whether down conductor and earthing conductor touch each other at test joint</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                    <select class="form-control">
                                                        <option  value="" selected>Select Option</option>
                                                        <option value="YES" >Touched</option>
                                                        <option value="NO" >Not touched</option>
                                                    </select>
                                                <!-- <div *ngIf="submitted && a.get('bimetallicIssueCheckOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('bimetallicIssueCheckOb')?.errors?.required">
                                                        Bi-metalllic issue observation is required</div>
                                                </div> -->
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" class="form-control"></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">12(g)</td>
                                        <td>Total number of test joints</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" class="form-control"
                                                    [readonly]="isEditable" formControlName="totalNoOfTestJointOB"
                                                    placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('totalNoOfTestJointOB')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('totalNoOfTestJointOB')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('totalNoOfTestJointOB')?.errors?.required">Total
                                                        number of test joints observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" class="form-control"
                                                    [readonly]="isEditable" formControlName="totalNoOfTestJointRem"
                                                    ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">12(h)</td>
                                        <td>Number of test joints inspected</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" class="form-control"
                                                    [readonly]="isEditable" formControlName="inspectedNoOb"
                                                    placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('inspectedNoOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('inspectedNoOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('inspectedNoOb')?.errors?.required">Number of test
                                                        joints inspected observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" class="form-control"
                                                    [readonly]="isEditable" formControlName="inspectedNoRem" ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">12(i)</td>
                                        <td>Number of inspections passed</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" class="form-control"
                                                    [readonly]="isEditable" formControlName="inspectionPassedNoOb"
                                                    placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('inspectionPassedNoOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('inspectionPassedNoOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('inspectionPassedNoOb')?.errors?.required">Number
                                                        of inspections passed observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" class="form-control"
                                                    [readonly]="isEditable" formControlName="inspectionPassedNoRem"
                                                    ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center;">12(j)</td>
                                        <td>Number of inspections failed</td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" class="form-control"
                                                    [readonly]="isEditable" formControlName="inspectionFailedNoOb"
                                                    placeholder="Please enter Observation here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('inspectionFailedNoOb')?.errors}"></textarea>
                                                <div *ngIf="submitted && a.get('inspectionFailedNoOb')?.errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="a.get('inspectionFailedNoOb')?.errors?.required">Number
                                                        of inspections failed observation is required</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="bi bi-text-paragraph"></i>
                                                    </span>
                                                </div>
                                                <textarea type="text" class="form-control"
                                                    [readonly]="isEditable" formControlName="inspectionFailedNoRem"
                                                    ></textarea>
                                            </div>
                                        </td>
                                    </tr>
                                </div>
                                <!-- <mat-icon class="mousechange" class="add" type="button" [ngClass]="{'disableForm':isEditable}" (click)="submit5()" *ngIf="jointControls().length == x+1"
                                style="margin-inline: 1rem;float: right;position: relative;"  title="add another Section" >add_box</mat-icon>
                            <mat-icon class="mousechange" class="dlt" type="button" [ngClass]="{'disableForm':isEditable}" title="delete" *ngIf="jointControls().length > 1"
                                    (click)="removeItem5(a,x)"
                                    style="margin-inline: 0rem;float: right;position: relative;">delete</mat-icon> -->

                            </tbody>
                        </table>
                    </div>
                </mat-expansion-panel>

                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <h3>Testing of earth electrodes</h3>
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="row">
                        <div class="col-md-6">
                            <label>13(a). Down conductors resistance value (Table heading)</label>
                        </div>
                    </div>
                    <div class="row" style="margin-top: 10px;">
                        <div class="col-sm-12">
                        <div class="table-responsive" style="overflow-x: unset;">
                            <table class="table TableBorder">
                                <tbody>
                                    <div class="form-group">
                                        <thead>
                                            <th>SI.No</th>
                                            <th>Reference</th>
                                            <th>Length in m</th>
                                            <th>Resistance in mΩ</th>
                                            <th>Remarks</th>
                                        </thead>

                                        <tr>
                                            <td style="width: 1rem; text-align: center;">1</td>
                                            <td style="width: 27rem;">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                <textarea class="form-control" placeholder="Reference"></textarea>
                                                </div>
                                            </td>
                                            <td style="width: 27rem;">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                <textarea class="form-control" placeholder="Length in m"></textarea>
                                                </div>
                                            </td>
                                            <td style="width: 27rem;">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                <textarea class="form-control" placeholder="Resistance in mΩ"></textarea>
                                                </div>
                                            </td>
                                            <td style="width: 27rem;">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                <textarea class="form-control" placeholder="Remarks	"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                    </div>
                                </tbody>
                            </table>
                        </div>
                        </div>
                    </div>
                </mat-expansion-panel>
            </mat-accordion>
                </div>
            </div>
            <div style="text-align: center;margin-top: 40px;margin-bottom: 20px;">
                <button class="previous" mat-button matStepperPrevious>&laquo; Back</button>
                <button class="next"  (click)="gotoNextModal(content,contents)"  mat-button >Next &raquo;</button>
           </div>
            <div *ngIf="validationError" style="text-align: center;margin-top: 30px;">
                <span class="alert alert-danger">{{validationErrorMsg}}</span>
            </div>
        </form>
    </div>

</div>
<ng-template #content let-modal>
    <div class="modal-body">
        <div class="centre-text m-btm30">
            <div *ngIf="success" style="text-align: center;">
                <span class="successshow">{{successMsg}}</span>
            </div>
            
            <div *ngIf="Error" style="text-align: center;">
                <span class="errorshow">{{errorMsg}}</span>
            </div>
        </div>
    </div>
    <br>
     <button type="button" class="close" class="btn btn-block btn-primary btn-rounded btn-md font-weight-medium auth-form-btn"
     aria-label="Close"  (click)="closeModalDialog()" matStepperNext>

      <span aria-hidden="true">Ok</span>

  </button>
</ng-template> 
<ng-template #contents let-modal>
    <div class="modal-body">
     <div class="centre-text m-btm30">
      <div style="text-align: center;">
        <span class="successshow">Are you sure you want to procced? </span>
        <br>
        <span style="font-size: 12px;">Note: Please verify all the details! </span>
       </div>
      </div>
     </div>
    <br>
    <div class="row">
       <button type="button" class="col-md-6" style="text-align:center; width: auto;" class="btn btn-primary btn-rounded btn-md font-weight-medium auth-form-btn"
       aria-label="Close" (click)="closeModalDialog()" matStepperNext>
       <i class="bi bi-arrow-right-circle"></i>&nbsp;
        <span aria-hidden="true">Ok</span>
    </button>
    <button type="button" class="col-md-6" style="width: auto;" class="btn btn-danger btn-rounded btn-md font-weight-medium auth-form-btn"
       aria-label="Close" (click)="closeModalDialog()">
       <i class="bi bi-x icon"></i>
        <span aria-hidden="true">Cancel</span>
    </button>
  </div>
  
    </ng-template>