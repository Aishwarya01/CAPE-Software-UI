<div *ngIf="service.msgForStep1" style="text-align: center;margin-top: 30px;">
    <span class="successshow">Please fill steps to proceed further!</span>
</div>
<div *ngIf="tabError" style="text-align: center;">
    <span class="alert alert-danger">{{tabErrorMsg}}</span>
</div>
<div *ngIf="validationErrorTab" style="text-align: center;">
    <span class="alert alert-danger">{{validationErrorMsgTab}}</span>
</div>
<div class="card">
    <div class="card-body">
        <form [formGroup]="downConductorForm"  (ngSubmit)="onSubmit(flag)" (keyup)="onKeyForm($event)" (change)="onChangeForm($event)">
            <div formArrayName="downConductorDescription" *ngFor="let q of overAllDownControl(); let j = index">
                <div class="form-group" [formGroupName]="j">
                    <div class="search-bar">
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-6">
                                    <label for="buildingNumber">Building Number</label>
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">
                                                <i class="bi bi-align-start"></i>
                                            </span>
                                        </div>
                                        <input type="number" class="form-control" formControlName="buildingNumber" readonly/>
                                    </div>
                                </div>
                
                                <div class="col-md-6">
                                    <label for="buildingName">Building Name</label>
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">
                                                <i class="bi bi-align-start"></i>
                                            </span>
                                        </div>
                                        <input type="text" class="form-control" formControlName="buildingName" readonly/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br>
                <mat-accordion>
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            Basic Details
                        </mat-expansion-panel-header>
                        
                        
                        <!-- tables -->
                        <div class="col-sm-16">
                            <div class="table-responsive" style="overflow-x: unset; margin-top: 20px;">
                                <table class="table TableBorder">
                                        <thead>
                                            <th>Sl.No</th>
                                            <th>Description</th>
                                            <th>Observation</th>
                                            <th>Remarks(Optional)</th>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td style="width: 1rem; text-align: center;">1.</td>
                                                <td style="width: 24rem;">Presence of  Bi-metalllic corrosion issue (connections between dissimilar metals are not allowed)</td>
                                                <td style="width: 43rem;">
                                                    <div class="input-group">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">
                                                                <i class="bi bi-text-paragraph"></i>
                                                            </span>
                                                        </div>
                                                        <select class="form-control" formControlName="biMetallicIssueOb" [attr.disabled]="isEditable ? '' : null" style="height: 3rem;"
                                                        (change)="validationChangeBasicDown($event,q,'biMetallicIssueRem')" [ngClass]="{ 'is-invalid': submitted && q.get('biMetallicIssueOb')?.errors}">
                                                            <option  value="" selected>Select Option</option>
                                                            <option value="Yes" >Yes</option>
                                                            <option value="No" >No</option>
                                                        </select>
                                                        <div *ngIf="submitted && q.get('biMetallicIssueOb')?.errors"  class="invalid-feedback">
                                                            <div *ngIf="q.get('biMetallicIssueOb')?.errors?.required">Presence of  Bi-metalllic corrosion issue observation is required</div>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td style="width: 43rem;">
                                                    <div class="input-group">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">
                                                                <i class="bi bi-text-paragraph"></i>
                                                            </span>
                                                        </div>
                                                        <textarea type="text" class="form-control" placeholder="Please enter Remarks here" [readonly]="isEditable" formControlName="biMetallicIssueRem" 
                                                        [ngClass]="{ 'is-invalid': submitted && q.get('biMetallicIssueRem')?.errors }"></textarea>
                                                        <div *ngIf="submitted && q.get('biMetallicIssueRem')?.errors" class="invalid-feedback">
                                                            <div *ngIf="q.get('biMetallicIssueRem')?.errors?.required">Remarks is required</div>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="text-align: center;">2(a)</td>
                                                <td>Presence of warning notice at ground level</td>
                                                <td>
                                                    <div class="input-group">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">
                                                                <i class="bi bi-text-paragraph"></i>
                                                            </span>
                                                        </div>
                                                        <select class="form-control" formControlName="warningNoticeGroundLevelOb" [ngClass]="{ 'is-invalid': submitted && q.get('warningNoticeGroundLevelOb')?.errors}"
                                                        [attr.disabled]="isEditable ? '' : null" style="height: 3rem;">
                                                            <option  value="" selected>Select Option</option>
                                                            <option value="Yes" >Yes</option>
                                                            <option value="No" >No</option>
                                                            <option value="Not Applicable" >Not Applicable</option>
                                                        </select>
                                                        <div *ngIf="submitted && q.get('warningNoticeGroundLevelOb')?.errors"  class="invalid-feedback">
                                                            <div *ngIf="q.get('warningNoticeGroundLevelOb')?.errors?.required">Presence of warning notice at ground level observation is required</div>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td>
                                                    <div class="input-group">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">
                                                                <i class="bi bi-text-paragraph"></i>
                                                            </span>
                                                        </div>
                                                        <textarea type="text" class="form-control" placeholder="Please enter Remarks here" [readonly]="isEditable" formControlName="warningNoticeGroundLevelRem"
                                                        ></textarea>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="text-align: center;">2(b)</td>
                                                <td>Presence of insulation of down conductors with PVC upto 3 meter from ground level</td>
                                                <td>
                                                    <div class="input-group">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">
                                                                <i class="bi bi-text-paragraph"></i>
                                                            </span>
                                                        </div>
                                                        <select class="form-control" formControlName="insulationPresenceOb" [ngClass]="{ 'is-invalid': submitted && q.get('insulationPresenceOb')?.errors}"
                                                        [attr.disabled]="isEditable ? '' : null" style="height: 3rem;">
                                                            <option  value="" selected>Select Option</option>
                                                            <option value="Yes" >Yes</option>
                                                            <option value="No" >No</option>
                                                            <option value="Not Applicable" >Not Applicable</option>
                                                        </select>
                                                        <div *ngIf="submitted && q.get('insulationPresenceOb')?.errors"  class="invalid-feedback">
                                                            <div *ngIf="q.get('insulationPresenceOb')?.errors?.required">Presence of insulation of down conductors observation is required</div>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td>
                                                    <div class="input-group">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">
                                                                <i class="bi bi-text-paragraph"></i>
                                                            </span>
                                                        </div>
                                                        <textarea type="text" class="form-control" placeholder="Please enter Remarks here" [readonly]="isEditable" formControlName="insulationPresenceRem"
                                                        ></textarea>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="text-align: center;">3</td>
                                                <td>Presence of power/ control/ instrumentation/telecommunication cable or cable passage  in path/near/parallel to down conductors</td>
                                                <td>
                                                    <div class="input-group">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">
                                                                <i class="bi bi-text-paragraph"></i>
                                                            </span>
                                                        </div>
                                                        <select class="form-control" formControlName="noPowerDownConductorOb" [attr.disabled]="isEditable ? '' : null" style="height: 3rem;"
                                                        (change)="validationChangeBasicDown($event,q,'noPowerDownConductorRem')" [ngClass]="{ 'is-invalid': submitted && q.get('noPowerDownConductorOb')?.errors}">
                                                            <option  value="" selected>Select Option</option>
                                                            <option value="Yes" >Yes</option>
                                                            <option value="No" >No</option>
                                                        </select>
                                                        <div *ngIf="submitted && q.get('noPowerDownConductorOb')?.errors"  class="invalid-feedback">
                                                            <div *ngIf="q.get('noPowerDownConductorOb')?.errors?.required">Presence of power/ control/ instrumentation/telecommunication observation is required</div>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td>
                                                    <div class="input-group">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">
                                                                <i class="bi bi-text-paragraph"></i>
                                                            </span>
                                                        </div>
                                                        <textarea type="text" class="form-control" placeholder="Please enter Remarks here" [readonly]="isEditable" formControlName="noPowerDownConductorRem"
                                                        [ngClass]="{ 'is-invalid': submitted && q.get('noPowerDownConductorRem')?.errors }"></textarea>
                                                        <div *ngIf="submitted && q.get('noPowerDownConductorRem')?.errors" class="invalid-feedback">
                                                            <div *ngIf="q.get('noPowerDownConductorRem')?.errors?.required">Remarks is required</div>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="text-align: center;">4</td>
                                                <td>Type of connections</td>
                                                <td>
                                                    <div class="input-group">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">
                                                                <i class="bi bi-text-paragraph"></i>
                                                            </span>
                                                        </div>
                                                        <select class="form-control" formControlName="connectMadeBrazingOb" [ngClass]="{ 'is-invalid': submitted && q.get('connectMadeBrazingOb')?.errors}"
                                                        [attr.disabled]="isEditable ? '' : null" style="height: 3rem;">
                                                            <option  value="" selected>Select Option</option>
                                                            <option value="Brazing" >Brazing</option>
                                                            <option value="Welding" >Welding</option>
                                                            <option value="Crimping" >Crimping</option>
                                                            <option value="Seaming" >Seaming</option>
                                                            <option value="Screwing" >Screwing</option>
                                                            <option value="Bolting (connectors)" >Bolting (connectors)</option>
                                                        </select>
                                                        <div *ngIf="submitted && q.get('connectMadeBrazingOb')?.errors" class="invalid-feedback">
                                                            <div *ngIf="q.get('connectMadeBrazingOb')?.errors?.required">Type of connections observation is required</div>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td>
                                                    <div class="input-group">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">
                                                                <i class="bi bi-text-paragraph"></i>
                                                            </span>
                                                        </div>
                                                        <textarea type="text" class="form-control"
                                                        placeholder="Please enter Remarks here" [readonly]="isEditable" formControlName="connectMadeBrazingRem"></textarea>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="text-align: center;">5</td>
                                                <td>Presence of corrosive material near the down conductor</td>
                                                <td>
                                                    <div class="input-group">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">
                                                                <i class="bi bi-text-paragraph"></i>
                                                            </span>
                                                        </div>
                                                        <select class="form-control" formControlName="chemicalSprinklerOb" [attr.disabled]="isEditable ? '' : null" style="height: 3rem;"
                                                        (change)="validationChangeBasicDown($event,q,'chemicalSprinklerRem')" [ngClass]="{ 'is-invalid': submitted && q.get('chemicalSprinklerOb')?.errors}">
                                                            <option  value="" selected>Select Option</option>
                                                            <option value="Yes" >Yes</option>
                                                            <option value="No" >No</option>
                                                        </select>
                                                        <div *ngIf="submitted && q.get('chemicalSprinklerOb')?.errors"  class="invalid-feedback">
                                                            <div *ngIf="q.get('chemicalSprinklerOb')?.errors?.required">Presence of corrosive material near the down conductor observation is required</div>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td>
                                                    <div class="input-group">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">
                                                                <i class="bi bi-text-paragraph"></i>
                                                            </span>
                                                        </div>
                                                        <textarea type="text" placeholder="Please enter Remarks here" formControlName="chemicalSprinklerRem" class="form-control"
                                                        [ngClass]="{ 'is-invalid': submitted && q.get('chemicalSprinklerRem')?.errors }" [readonly]="isEditable"></textarea>
                                                        <div *ngIf="submitted && q.get('chemicalSprinklerRem')?.errors" class="invalid-feedback">
                                                            <div *ngIf="q.get('chemicalSprinklerRem')?.errors?.required">Remarks is required</div>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>

                                            <tr>
                                                <td style="text-align: center;">6</td>
                                                <td>If wall is a combustible material , distance between down conductor and wall should be > 1m</td>
                                                <td>
                                                    <div class="input-group">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">
                                                                <i class="bi bi-text-paragraph"></i>
                                                            </span>
                                                        </div>
                                                        <select class="form-control" formControlName="cobustMaterialWallOB" [attr.disabled]="isEditable ? '' : null" style="height: 3rem;"
                                                        (change)="validationChangeBasicDown($event,q,'cobustMaterialWallRem')" [ngClass]="{ 'is-invalid': submitted && q.get('cobustMaterialWallOB')?.errors}">
                                                            <option  value="" selected>Select Option</option>
                                                            <option value="Distance >1m" >Distance >1m</option>
                                                            <option value="Distance < 1m" >Distance < 1m</option>
                                                            <option value="Not applicable < 1m" >Not applicable < 1m</option>
                                                        </select>
                                                        <div *ngIf="submitted && q.get('cobustMaterialWallOB')?.errors"  class="invalid-feedback">
                                                            <div *ngIf="q.get('cobustMaterialWallOB')?.errors?.required">If wall is a combustible material observation is required</div>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td>
                                                    <div class="input-group">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">
                                                                <i class="bi bi-text-paragraph"></i>
                                                            </span>
                                                        </div>
                                                        <textarea type="text" formControlName="cobustMaterialWallRem" placeholder="Please enter Remarks here" class="form-control"
                                                        [ngClass]="{ 'is-invalid': submitted && q.get('cobustMaterialWallRem')?.errors }" [readonly]="isEditable"></textarea>
                                                        <div *ngIf="submitted && q.get('cobustMaterialWallRem')?.errors" class="invalid-feedback">
                                                            <div *ngIf="q.get('cobustMaterialWallRem')?.errors?.required">Remarks is required</div>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            
                                        </tbody>
                                    </table>
                            </div>
                        </div>
                    </mat-expansion-panel>

                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <h3>Down conductors (exposed / Natural)</h3>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="table-responsive" style="overflow-x: unset;">
                            <table class="table TableBorder">
                                <thead>
                                    <th>Availability of Down Conductors</th>
                                    <th>Remarks(Optional)</th>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="col-md-6">
                                            <select class="form-control"  (change)="onChangeDownCon($event,downConductorControls(q))" formControlName="downConductorAvailabilityOb" [attr.disabled]="isEditable ? '' : null"
                                            [ngClass]="{ 'is-invalid': submitted && q.get('downConductorAvailabilityOb')?.errors }" style="height: 3rem;" >
                                                <option value="" selected>Select Option</option>
                                                <option value="Applicable">Applicable </option>
                                                <option value="Not applicable in case of natural down conductors">Not applicable in case of natural down conductors</option>
                                            </select>
                                            <div *ngIf="submitted && q.get('downConductorAvailabilityOb')?.errors" class="invalid-feedback">
                                                <div *ngIf="q.get('downConductorAvailabilityOb')?.errors?.required">Please select the field</div>
                                            </div>
                                        </td>
                                        <td class="col-md-6">
                                            <textarea [readonly]="isEditable" formControlName="downConductorAvailabilityRem" type="text"
                                                class="form-control" placeholder="Please enter Remarks here"></textarea>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>


                       
                            
                        <div style="margin-top: 10px;" *ngIf="q.get('downConductorAvailabilityOb')?.value != 'Applicable'"><b>Note:</b> &nbsp; Select applicable if you intend to fill details for Down conductors (exposed / Natural)</div>
                        <!-- <h2 *ngIf="q.get('downConductorAvailabilityOb')?.value === 'Applicable'"><u>Down Conductors:</u></h2> -->
                        <br>
                        <div class="table-responsive" style="overflow-x: unset;" *ngIf="q.get('downConductorAvailabilityOb')?.value != ''">
                            <table class="table TableBorder" formArrayName="downConductor" *ngFor="let a of downConductorControls(q); let j = index">
                                <thead>
                                    <th>Sl.No</th>
                                    <th>Description</th>
                                    <th>Observation</th>
                                    <th>Remarks(Optional)</th>
                                </thead> 
                                <tbody [formGroupName]="j">                                        
                                        <tr *ngIf="q.get('downConductorAvailabilityOb')?.value == 'Applicable'">
                                            <td style="width: 1rem; text-align: center;">7(a)</td>
                                            <td style="width: 30rem;">Physical inspection (damage/break/bend/corroded/routing as per design)</td>
                                            <td style="width: 43rem;">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <select class="form-control" formControlName="physicalInspectionOb" [attr.disabled]="isEditable ? '' : null"
                                                    (change)="validationChangeDownConductor($event,q,'physicalInspectionRem')"  [ngClass]="{ 'is-invalid': submitted && a.get('physicalInspectionOb')?.errors}" style="height: 3rem;">
                                                        <option  value="" selected>Select Option</option>
                                                        <option value="Physically good" >Physically good</option>
                                                        <option value="Not good" >Not good</option>
                                                    </select>
                                                    <div *ngIf="submitted && a.get('physicalInspectionOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('physicalInspectionOb')?.errors?.required">Physical inspection observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td style="width: 43rem;">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="physicalInspectionRem" type="text" class="form-control"
                                                    placeholder="Please enter Remarks here"[ngClass]="{ 'is-invalid': submitted && a.get('physicalInspectionRem')?.errors }" ></textarea>
                                                        <div *ngIf="submitted && a.get('physicalInspectionRem')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('physicalInspectionRem')?.errors?.required">Remarks is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                        </tr>

                                         <!-- File Upload -->
                                         <tr>
                                            <Td colspan="4">
                                            <div *ngIf="q.get('downConductorAvailabilityOb')?.value == 'Applicable'">
                                                <table class="table TableBorder" style="margin-top: 1rem;">
                                                    <thead>
                                                        <tr>
                                                            <th width="25%">Attach The File Here</th>
                                                            <th width="27%">Name</th>
                                                            <th width="6%" ng-show="uploader.isHTML5">Size</th>
                                                            <!-- <th ng-show="uploader.isHTML5">Progress</th> -->
                                                            <!-- <th>Status</th> -->
                                                            <th width="25%">Actions</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat="item in uploader.queue">
                                                            <td>
                                                                <input style="height: 3rem;" type="file" class="form-control" (change)="onChange($event,a)" [attr.disabled]="isEditable ? '' : null"
                                                                accept=".txt,.jpeg,.png,.jpg,.pdf">
                                                                <div *ngIf="submitted && a.get('fileName')?.errors"class="invalid-feedback">
                                                                    <div *ngIf="a.get('fileName')?.errors?.required">Field is required</div>
                                                                </div>
                                                            </td>
                                                            <td style="text-align: center;">{{a.get('fileName')?.value}}</td>
                                                            <td ng-show="uploader.isHTML5" nowrap style="text-align: center;">{{a.get('fileSize')?.value}}</td>
        
                                                            <!-- <td ng-show="uploader.isHTML5">
                                                                <div class="progress" style="margin-bottom: 0;">
                                                                    <div class="progress-bar" role="progressbar" ng-style="{ 'width': item.progress + '%' }"></div>
                                                                </div>
                                                            </td> -->
                                                            <!-- <td class="text-center">
                                                                <span ng-show="item.isSuccess"><i class="glyphicon glyphicon-ok"></i></span>
                                                                <span ng-show="item.isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span>
                                                                <span ng-show="item.isError"><i class="glyphicon glyphicon-remove"></i></span>
                                                            </td> -->
        
                                                            <td nowrap style="text-align: center;">
                                                                <button type="button" class="btn btn-secondary btn-xs mr-4" [disabled]="uploadDisable"
                                                                (click)="onUpload(contentSpinner,a.get('index')?.value,a.get('fileId')?.value)" title="Upload">
                                                                    <i class="fa fa-upload" style="color: white;"></i> Upload
                                                                </button>
                                                                <div *ngIf="submitted && a.get('fileId')?.errors"class="invalid-feedback">
                                                                    <div *ngIf="a.get('fileId')?.errors?.required">File upload is required</div>
                                                                </div>
                                                                <!-- <button type="button" class="btn btn-warning btn-xs mr-4">
                                                                    <i class="fa fa-ban" style="color: white;"></i> Cancel
                                                                </button> -->
                                                                <button type="button" class="btn btn-success btn-xs mr-4" *ngIf="a.get('fileId')?.value" (click)="onDownload(a.get('fileName')?.value)" 
                                                                href='javascript:void(0)' [ngClass]="{'disableForm':isEditable}" title="Download">
                                                                    <i class="fa fa-download" style="color: white;"></i> Download
                                                                </button>
                                                                <!-- <button type="button" class="btn btn-danger btn-xs mr-4">
                                                                    <i class="fa fa-trash-o" style="color: white;"></i> Delete
                                                                </button> -->
                                                                
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                                </div>
                                            </Td>
                                        </tr>
                                        
                                        <tr *ngIf="q.get('downConductorAvailabilityOb')?.value == 'Applicable'">
                                            <td style="width: 1rem; text-align: center;">7(b)</td>
                                            <td style="width: 30rem;">Material of conductor</td>
                                            <td style="width: 43rem;">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <select class="form-control" formControlName="conductMaterialOb" [attr.disabled]="isEditable ? '' : null" [ngClass]="{ 'is-invalid': submitted && a.get('conductMaterialOb')?.errors}" style="height: 3rem;">
                                                        <option  value="" selected>Select Option</option>
                                                        <option value="Copper">Copper</option>
                                                        <option value="Copper bonded steel" >Copper bonded steel</option>
                                                        <option value="Aluminum" >Aluminum</option>
                                                        <option value="Stainless steel" >Stainless steel</option>
                                                        <option value="Galvanised Iron" >Galvanised Iron</option>
                                                        <option value="Galvanised Steel" >Galvanised Steel</option>
                                                        <option value="Mild Steel" >Mild Steel</option>
                                                        <option value="Cast Iron" >Cast Iron</option>
                                                    </select>
                                                    <div *ngIf="submitted && a.get('conductMaterialOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('conductMaterialOb')?.errors?.required">Material of conductor observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea class="form-control" [readonly]="isEditable" formControlName="conductMaterialRem" placeholder="Please enter Remarks here"></textarea>
                                                </div>  
                                            </td>
                                        </tr>
                                        <tr *ngIf="q.get('downConductorAvailabilityOb')?.value == 'Applicable'">
                                            <td style="text-align: center;">7(c)</td>
                                            <td>Size/cross section area of conductor</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea typ [readonly]="isEditable" formControlName="conductSizeOb" type="text" class="form-control" placeholder="Please enter Size/cross section area of conductor here (Optional)"></textarea>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="conductSizeRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr *ngIf="q.get('downConductorAvailabilityOb')?.value == 'Applicable'">
                                            <td style="text-align: center;">7(d)</td>
                                            <td>Type of down conductor</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <select class="form-control" formControlName="downConductExposedOb" [attr.disabled]="isEditable ? '' : null" [ngClass]="{ 'is-invalid': submitted && a.get('downConductExposedOb')?.errors}" style="height: 3rem;">
                                                        <option  value="" selected>Select Option</option>
                                                        <option value="Exposed" >Exposed</option>
                                                        <option value="Insulated cable" >Insulated cable</option>
                                                    </select>
                                                    <div *ngIf="submitted && a.get('downConductExposedOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('downConductExposedOb')?.errors?.required">Type of down conductor observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea class="form-control" [readonly]="isEditable" formControlName="downConductExposedRem" placeholder="Please enter Remarks here"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr *ngIf="q.get('downConductorAvailabilityOb')?.value == 'Applicable'">
                                            <td style="text-align: center;">7(e)</td>
                                            <td>Down conductor location changed as per site condition/approved in case of
                                                deviation check routing of down conductor whether shortest path is achieved
                                                or not</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <select class="form-control" formControlName="downConductLocationdOb" [attr.disabled]="isEditable ? '' : null"
                                                    (change)="validationChangeDownConductor($event,q,'downConductLocationdRem')" [ngClass]="{ 'is-invalid': submitted && a.get('downConductLocationdOb')?.errors}" style="height: 3rem;">
                                                        <option  value="" selected>Select Option</option>
                                                        <option value="Achieved" >Achieved</option>
                                                        <option value="Not achieved" >Not achieved</option>
                                                        <option value="Not applicable" >Not applicable</option>
                                                    </select>
                                                    <div *ngIf="submitted && a.get('downConductLocationdOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('downConductLocationdOb')?.errors?.required">Down conductor location observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea class="form-control" formControlName="downConductLocationdRem" placeholder="Please enter Remarks here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('downConductLocationdRem')?.errors }" [readonly]="isEditable"></textarea>
                                                        <div *ngIf="submitted && a.get('downConductLocationdRem')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('downConductLocationdRem')?.errors?.required">Remarks is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr *ngIf="q.get('downConductorAvailabilityOb')?.value == 'Applicable'">
                                            <td style="text-align: center;">7(f)</td>
                                            <td>Presence of gutters/ glass facade/water spouts near/in the path of down conductor  (even if its a insulated conductor)</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <select class="form-control" formControlName="downConductGutterOb" [attr.disabled]="isEditable ? '' : null"
                                                    (change)="validationChangeDownConductor($event,q,'downConductGutterRem')"  [ngClass]="{ 'is-invalid': submitted && a.get('downConductGutterOb')?.errors}" style="height: 3rem;">
                                                        <option  value="" selected>Select Option</option>
                                                        <option value="Yes" >Yes</option>
                                                        <option value="No" >No</option>
                                                    </select>
                                                    <div *ngIf="submitted && a.get('downConductGutterOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('downConductGutterOb')?.errors?.required">Presence of gutters observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="downConductGutterRem" type="text" class="form-control" placeholder="Please enter Remarks here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('downConductGutterRem')?.errors }" ></textarea>
                                                        <div *ngIf="submitted && a.get('downConductGutterRem')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('downConductGutterRem')?.errors?.required">Remarks is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr *ngIf="q.get('downConductorAvailabilityOb')?.value == 'Applicable'">
                                            <td style="text-align: center;">7(g)</td>
                                            <td>whether down conductor is installed in service shaft (even if its a insulated conductor)</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <select class="form-control" formControlName="installedShaftDownConductorOb" [attr.disabled]="isEditable ? '' : null"
                                                    (change)="validationChangeDownConductor($event,q,'installedShaftDownConductorRem')" [ngClass]="{ 'is-invalid': submitted && a.get('installedShaftDownConductorOb')?.errors}" style="height: 3rem;">
                                                        <option  value="" selected>Select Option</option>
                                                        <option value="Yes" >Yes</option>
                                                        <option value="No" >No</option>
                                                    </select>
                                                    <div *ngIf="submitted && a.get('installedShaftDownConductorOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('installedShaftDownConductorOb')?.errors?.required">Installed in service shaft observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="installedShaftDownConductorRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('installedShaftDownConductorRem')?.errors }" ></textarea>
                                                        <div *ngIf="submitted && a.get('installedShaftDownConductorRem')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('installedShaftDownConductorRem')?.errors?.required">Remarks is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr *ngIf="q.get('downConductorAvailabilityOb')?.value == 'Applicable'">
                                            <td style="text-align: center;">7(h)</td>
                                            <td>Presence of connection of down conductor with nearest equipotential bar</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <select class="form-control" formControlName="ensureDownCnoductOb" [attr.disabled]="isEditable ? '' : null"
                                                    (change)="validationChangeDownConductorNo($event,q,'ensureDownCnoductRem')" [ngClass]="{ 'is-invalid': submitted && a.get('ensureDownCnoductOb')?.errors}" style="height: 3rem;">
                                                        <option  value="" selected>Select Option</option>
                                                        <option value="Yes" >Yes</option>
                                                        <option value="No" >No</option>
                                                    </select>
                                                    <div *ngIf="submitted && a.get('ensureDownCnoductOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('ensureDownCnoductOb')?.errors?.required">Presence of connection observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="ensureDownCnoductRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here" 
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('ensureDownCnoductRem')?.errors }" ></textarea>
                                                        <div *ngIf="submitted && a.get('ensureDownCnoductRem')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('ensureDownCnoductRem')?.errors?.required">Remarks is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                        </tr>

                                        <tr *ngIf="q.get('downConductorAvailabilityOb')?.value == 'Applicable'">
                                            <td style="text-align: center;">7(i)</td>
                                            <td>Installation of down conductor at equal spacing around perimeter</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <select class="form-control" formControlName="installationDownConductOb" [attr.disabled]="isEditable ? '' : null"
                                                    (change)="validationChangeDownConductorNo($event,q,'installationDownConductRem')" [ngClass]="{ 'is-invalid': submitted && a.get('installationDownConductOb')?.errors}" style="height: 3rem;">
                                                        <option  value="" selected>Select Option</option>
                                                        <option value="Yes" >Yes</option>
                                                        <option value="No" >No</option>
                                                    </select>
                                                    <div *ngIf="submitted && a.get('installationDownConductOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('installationDownConductOb')?.errors?.required">Installation of down conductor at equal spacing around perimeter observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea class="form-control" formControlName="installationDownConductRem" placeholder="Please enter Remarks here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('installationDownConductRem')?.errors }" [readonly]="isEditable"></textarea>
                                                        <div *ngIf="submitted && a.get('installationDownConductRem')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('installationDownConductRem')?.errors?.required">Remarks is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                        </tr>

                                        <tr *ngIf="q.get('downConductorAvailabilityOb')?.value == 'Applicable'">
                                            <td style="text-align: center;">7(j)</td>
                                            <td>Maximum distance between down conductors</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" [readonly]="isEditable" formControlName="maximumDownConductOb" (keypress)="keyPressNumbers($event)" class="form-control" placeholder="Please enter Maximum distance between down conductors here in number"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('maximumDownConductOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('maximumDownConductOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('maximumDownConductOb')?.errors?.required">Maximum distance between down conductors observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="maximumDownConductRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr *ngIf="q.get('downConductorAvailabilityOb')?.value == 'Applicable'">
                                            <td style="text-align: center;">7(k)</td>
                                            <td>Minimum distance between down conductors</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" [readonly]="isEditable" formControlName="manimumDownConductOb" (keypress)="keyPressNumbers($event)" class="form-control" placeholder="Please enter Minimum distance between down conductors here in numbers"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('manimumDownConductOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('manimumDownConductOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('manimumDownConductOb')?.errors?.required">Minimum distance between down conductors observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="manimumDownConductRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr *ngIf="q.get('downConductorAvailabilityOb')?.value == 'Applicable'">
                                            <td style="text-align: center;">7(l)</td>
                                            <td>Total number of down conductors</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" [readonly]="isEditable" formControlName="totalNoDownConductOb" (keypress)="keyPressNumbers($event)" class="form-control" placeholder="Please enter Total number of down conductors here in numbers"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('totalNoDownConductOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('totalNoDownConductOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('totalNoDownConductOb')?.errors?.required">Total number of down conductors observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="totalNoDownConductRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr *ngIf="q.get('downConductorAvailabilityOb')?.value == 'Applicable'">
                                            <td style="text-align: center;">7(m)</td>
                                            <td>Number of down conductors inspected</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" [readonly]="isEditable" formControlName="inspectedNoOb" (keypress)="keyPressNumbers($event)" class="form-control" placeholder="Please enter Number of down conductors inspected here in numbers"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('inspectedNoOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('inspectedNoOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('inspectedNoOb')?.errors?.required">Number of down conductors inspected observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="inspectedNoRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr *ngIf="q.get('downConductorAvailabilityOb')?.value == 'Applicable'">
                                            <td style="text-align: center;">7(n)</td>
                                            <td>Number of inspections passed</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" [readonly]="isEditable" formControlName="inspectionPassedNoOb" (keypress)="keyPressNumbers($event)"class="form-control" placeholder="Please enter Number of inspections passed here in numbers"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('inspectionPassedNoOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('inspectionPassedNoOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('inspectionPassedNoOb')?.errors?.required">Number of inspections passed observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="inspectionPassedNoRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr *ngIf="q.get('downConductorAvailabilityOb')?.value == 'Applicable'">
                                            <td style="text-align: center;">7(o)</td>
                                            <td>Number of inspections failed</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" [readonly]="isEditable" formControlName="inspectionFailedNoOb" 
                                                    (keyup)="validationChangeDownConductorKey($event,q,'inspectionFailedNoRem')" (keypress)="keyPressNumbers($event)" class="form-control" placeholder="Please enter Number of inspections failed here in numbers"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('inspectionFailedNoOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('inspectionFailedNoOb')?.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="a.get('inspectionFailedNoOb')?.errors?.required">Number of inspections failed observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="inspectionFailedNoRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('inspectionFailedNoRem')?.errors }" ></textarea>
                                                        <div *ngIf="submitted && a.get('inspectionFailedNoRem')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('inspectionFailedNoRem')?.errors?.required">Remarks is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                        </tr>

                                        <tr *ngIf="q.get('downConductorAvailabilityOb')?.value == 'Applicable'">
                                            <td style="width: 1rem; text-align: center;">7(p)</td>
                                            <td style="width: 30rem;">Average number of dangerous bends in each down conductor, which are going to affect the performance of LPS</td>
                                            <td style="width: 43rem;">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" (keypress)="keyPressNumbers($event)" class="form-control" formControlName="averageBendsOb" [readonly]="isEditable" placeholder="Please enter Average number of dangerous bends here in numbers" 
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('averageBendsOb')?.errors}" (keyup)="validationChangeDownConductorKey($event,q,'averageBendsRem')" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('averageBendsOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('averageBendsOb')?.errors?.required">Average number of dangerous bends observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea class="form-control" formControlName="averageBendsRem" placeholder="Please enter Remarks here"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('averageBendsRem')?.errors }" [readonly]="isEditable"></textarea>
                                                        <div *ngIf="submitted && a.get('averageBendsRem')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('averageBendsRem')?.errors?.required">Remarks is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                        </tr>

                                        <tr *ngIf="q.get('downConductorAvailabilityOb')?.value == 'Not applicable in case of natural down conductors'">
                                            <td style="width: 1rem; text-align: center;">7(q)</td>
                                            <td style="width: 30rem;">Type of natural down conductor (Metal pipe/ I beam/ others)</td>
                                            <td style="width: 43rem;">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea type="text" class="form-control" formControlName="naturalDownCondutTypeOb" placeholder="Please enter Type of natural down conductor here (Optional)" [readonly]="isEditable"></textarea>
                                                </div>
                                            </td>
                                            <td style="width: 43rem;">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea class="form-control" type="text" formControlName="naturalDownCondutTypeRem" placeholder="Please enter Remarks here" [readonly]="isEditable"></textarea>
                                                </div>
                                            </td>
                                        </tr>

                                        <tr *ngIf="q.get('downConductorAvailabilityOb')?.value == 'Not applicable in case of natural down conductors'">
                                            <td style="width: 1rem; text-align: center;">7(r)</td>
                                            <td style="width:  30rem;">Dimensions of natural down conductor</td>
                                            <td style="width:  43rem;">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea class="form-control" formControlName="naturalDownCondDimensionOb" placeholder="Please enter Dimensions of natural down conductor here" [readonly]="isEditable"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('naturalDownCondDimensionOb')?.errors}"></textarea>
                                                    <div *ngIf="submitted && a.get('naturalDownCondDimensionOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('naturalDownCondDimensionOb')?.errors?.required">Dimensions of natural down conductor observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td style="width:  43rem;">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea class="form-control" formControlName="naturalDownCondDimensionRem" placeholder="Please enter Remarks here" [readonly]="isEditable"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                    <!-- <mat-icon class="mousechange" class="add" type="button" [ngClass]="{'disableForm':isEditable}" (click)="submit()" *ngIf="downConductorControls().length == j+1" 
                                        style="margin-inline: 1rem;float: right;position: relative;"  title="add another Section" 
                                    >add_box</mat-icon>
                                    <mat-icon class="mousechange" class="dlt" type="button" title="delete" [ngClass]="{'disableForm':isEditable}" *ngIf="downConductorControls().length > 1"
                                        (click)="removeItem(a,j)"
                                        style="margin-inline: 0rem;float: right;position: relative;">delete</mat-icon> -->
                                </tbody>
                            </table>
                        </div>

                        <!-- File Upload -->
                        <table class="table TableBorder" style="margin-top: 1rem;">
                            <thead>
                                <tr>
                                    <th width="25%">Attach The File Here</th>
                                    <th width="27%">Name</th>
                                    <th width="6%" ng-show="uploader.isHTML5">Size</th>
                                    <!-- <th ng-show="uploader.isHTML5">Progress</th> -->
                                    <!-- <th>Status</th> -->
                                    <th width="25%">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="item in uploader.queue">
                                    <td>
                                        <input style="height: 3rem;" type="file" class="form-control" (change)="onChange1($event,q)" [attr.disabled]="isEditable ? '' : null"
                                        accept=".txt,.jpeg,.png,.jpg,.pdf">
                                        <div *ngIf="submitted && q.get('fileName1')?.errors" class="invalid-feedback">
                                            <div *ngIf="q.get('fileName1')?.errors?.required">Field is required</div>
                                        </div>
                                    </td>
                                    <td style="text-align: center;">{{q.get('fileName1')?.value}}</td>
                                    <td ng-show="uploader.isHTML5" nowrap style="text-align: center;">{{q.get('fileSize')?.value}}</td>

                                    <!-- <td ng-show="uploader.isHTML5">
                                        <div class="progress" style="margin-bottom: 0;">
                                            <div class="progress-bar" role="progressbar" ng-style="{ 'width': item.progress + '%' }"></div>
                                        </div>
                                    </td> -->
                                    <!-- <td class="text-center">
                                        <span ng-show="item.isSuccess"><i class="glyphicon glyphicon-ok"></i></span>
                                        <span ng-show="item.isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span>
                                        <span ng-show="item.isError"><i class="glyphicon glyphicon-remove"></i></span>
                                    </td> -->

                                    <td nowrap style="text-align: center;">
                                        <button type="button" class="btn btn-secondary btn-xs mr-4" [disabled]="uploadDisable1"
                                        (click)="onUpload1(contentSpinner,q.get('index')?.value,q.get('fileId1')?.value)" title="Upload">
                                            <i class="fa fa-upload" style="color: white;"></i> Upload
                                        </button>
                                        <div *ngIf="submitted && q.get('fileId1')?.errors" class="invalid-feedback">
                                            <div *ngIf="q.get('fileId1')?.errors?.required">File upload is required</div>
                                        </div>
                                        <!-- <button type="button" class="btn btn-warning btn-xs mr-4">
                                            <i class="fa fa-ban" style="color: white;"></i> Cancel
                                        </button> -->
                                        <button type="button" class="btn btn-success btn-xs mr-4" *ngIf="q.get('fileId1')?.value" (click)="onDownload1(q.get('fileName1')?.value)"
                                        href='javascript:void(0)' [ngClass]="{'disableForm':isEditable}" title="Download">
                                            <i class="fa fa-download" style="color: white;"></i> Download
                                        </button>
                                        <!-- <button type="button" class="btn btn-danger btn-xs mr-4">
                                            <i class="fa fa-trash-o" style="color: white;"></i> Delete
                                        </button> -->
                                        
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <!-- <br>
                        <div style="margin-left: 3rem;">
                            <label class="form-label">Attach The File Here:</label>
                            <div class="row input-group mb-2">
                                <div class="col-md-6">
                                    <input style="height: 3rem;" type="file" class="form-control"
                                        (change)="onChange1($event)" [attr.disabled]="isEditable ? '' : null"
                                        accept=".jpeg,.png,.jpg,">
                                </div>
                                <div class="col-md-6">
                                    <button type="button"  class="btn btn-success" [disabled]="uploadDisable1"
                                        (click)="onUpload1(contentSpinner,q.get('index')?.value,q.get('fileId1')?.value)">Upload</button>
                                    <a (click)="onDownload1(q.get('fileName1')?.value)"
                                        *ngIf="q.get('fileName1')?.value!= ''" href='javascript:void(0)'
                                        title="Download" style="margin-left: 30px;text-decoration: underline;"
                                        [ngClass]="{'disableForm':isEditable}">{{q.get('fileName1')?.value}}</a> -->
                                    <!-- <mat-icon *ngIf="fileName1!= ''" class="mousechange" class="dlt" type="button" title="Delete" (click)="deleteFile1(contentSpinnerDelete)"
                                style="position: absolute;margin-left: 40px; margin-top: 5px;">remove_circle_outline</mat-icon> -->
                                <!-- </div>
                                <div *ngIf="submitted && q.get('fileName1')?.errors" class="invalid-feedback">
                                    <div *ngIf="q.get('fileName1')?.errors?.required">Field is required</div>
                                </div>
                            </div>
                        </div>
                        <br> -->
                        
                    </mat-expansion-panel>

                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <h3>Bridging Cables</h3>
                            </mat-panel-title>
                            
                        </mat-expansion-panel-header>
                        <div class="table-responsive" style="overflow-x: unset;">
                            <table class="table TableBorder">
                                <thead>
                                    <th>Availability of Bridging Cables</th>
                                    <th>Remarks(Optional)</th>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="col-md-6">
                                            <select class="form-control" [attr.disabled]="isEditable ? '' : null" (change)="onChangeCables($event,q)" formControlName="bridgingDescriptionAvailabilityOb"
                                            [ngClass]="{ 'is-invalid': submitted && q.get('bridgingDescriptionAvailabilityOb')?.errors }" style="height: 3rem;">
                                                <option value="" selected>Select Option</option>
                                                <option value="Applicable">Applicable </option>
                                                <option value="Not applicable">Not applicable</option>
                                            </select>
                                            <div *ngIf="submitted && q.get('bridgingDescriptionAvailabilityOb')?.errors" class="invalid-feedback">
                                                <div *ngIf="q.get('bridgingDescriptionAvailabilityOb')?.errors?.required">Please select the field</div>
                                            </div>
                                        </td>
                                        <td class="col-md-6">
                                            <textarea [readonly]="isEditable" formControlName="bridgingDescriptionAvailabilityRem" type="text"
                                            placeholder="Please enter Remarks here" class="form-control" ></textarea>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>                       
                        <div style="margin-top: 10px;" *ngIf="q.get('bridgingDescriptionAvailabilityOb')?.value != 'Applicable'"><b>Note:</b> &nbsp; Select applicable if you intend to fill details for Bridging Cables</div>
                        <h2 *ngIf="q.get('bridgingDescriptionAvailabilityOb')?.value === 'Applicable'"><u>Bridging Cables:</u></h2>   
                        <br>
                        <div class="table-responsive" style="overflow-x: unset;" *ngIf="q.get('bridgingDescriptionAvailabilityOb')?.value === 'Applicable'">
                            <table class="table TableBorder">
                                <tbody formArrayName="bridgingDescription"
                                    *ngFor="let a of bridgingCablesControls(q); let f=index">
                                    <div class="form-group" [formGroupName]="f">
                                        <thead>
                                            <th>Sl.No</th>
                                            <th>Description</th>
                                            <th>Observation</th>
                                            <th>Remarks(Optional)</th>
                                        </thead>
                                        <tr>
                                            <td style="width: 1rem; text-align: center;">8(a)</td>
                                            <td style="width: 24rem;">Ensure bridging cable is used at corner of structures to avoid sharp bends (applicable in case if bridging cable is used to connect air termination and down condcutor</td>
                                            <td style="width: 43rem;">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <select class="form-control" formControlName="ensureBridgingCableOb" [attr.disabled]="isEditable ? '' : null"
                                                    (change)="validationChangeDownBridgeNo($event,q,'ensureBridgingCableRem')" [ngClass]="{ 'is-invalid': submitted && a.get('ensureBridgingCableOb')?.errors}" style="height: 3rem;">
                                                        <option  value="" selected>Select Option</option>
                                                        <option value="Yes" >Yes</option>
                                                        <option value="No" >No</option>
                                                    </select>
                                                    <div *ngIf="submitted && a.get('ensureBridgingCableOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('ensureBridgingCableOb')?.errors?.required">Ensure bridging cable observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td style="width: 43rem;">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea type="text" formControlName="ensureBridgingCableRem" placeholder="Please enter Remarks here" class="form-control" [readonly]="isEditable"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('ensureBridgingCableRem')?.errors }" ></textarea>
                                                    <div *ngIf="submitted && a.get('ensureBridgingCableRem')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('ensureBridgingCableRem')?.errors?.required">Remarks is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">8(b)</td>
                                            <td>Check the presence of connection of aluminium conductor into the side wall</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <select class="form-control" formControlName="aluminiumConductorSideWallOb" [attr.disabled]="isEditable ? '' : null" 
                                                    (change)="validationChangeDownBridge($event,q,'aluminiumConductorSideWallRem')" [ngClass]="{ 'is-invalid': submitted && a.get('aluminiumConductorSideWallOb')?.errors}" style="height: 3rem;">
                                                        <option  value="" selected>Select Option</option>
                                                        <option value="Yes" >Yes</option>
                                                        <option value="No" >No</option>
                                                    </select>
                                                    <div *ngIf="submitted && a.get('aluminiumConductorSideWallOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('aluminiumConductorSideWallOb')?.errors?.required">Connection of aluminium conductor into the side wall observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="aluminiumConductorSideWallRem" type="text"
                                                    placeholder="Please enter Remarks here" class="form-control" [ngClass]="{ 'is-invalid': submitted && a.get('aluminiumConductorSideWallRem')?.errors }" ></textarea>
                                                    <div *ngIf="submitted && a.get('aluminiumConductorSideWallRem')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('aluminiumConductorSideWallRem')?.errors?.required">Remarks is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">8(c)</td>
                                            <td>Ensure the connection of bridging cable (break/damage/loose/tight /corroded)</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <select class="form-control" formControlName="bridgingCableConnectionOb" [attr.disabled]="isEditable ? '' : null"
                                                    (change)="validationChangeDownBridge($event,q,'bridgingCableConnectionRem')" [ngClass]="{ 'is-invalid': submitted && a.get('bridgingCableConnectionOb')?.errors}" style="height: 3rem;">
                                                        <option  value="" selected>Select Option</option>
                                                        <option value="Physically good" >Physically good</option>
                                                        <option value="Not good" >Not good</option>
                                                    </select>
                                                    <div *ngIf="submitted && a.get('bridgingCableConnectionOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('bridgingCableConnectionOb')?.errors?.required">Ensure the connection of bridging cable observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" placeholder="Please enter Remarks here" formControlName="bridgingCableConnectionRem" type="text"
                                                        class="form-control" [ngClass]="{ 'is-invalid': submitted && a.get('bridgingCableConnectionRem')?.errors }" ></textarea>
                                                        <div *ngIf="submitted && a.get('bridgingCableConnectionRem')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('bridgingCableConnectionRem')?.errors?.required">Remarks is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                        </tr>

                                        <tr>
                                            <td style="text-align: center;">8(d)</td>
                                            <td>Material of bridging cable</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <select class="form-control" formControlName="bridgingCableMaterialOb" [attr.disabled]="isEditable ? '' : null" [ngClass]="{ 'is-invalid': submitted && a.get('bridgingCableMaterialOb')?.errors}" style="height: 3rem;">
                                                        <option  value="" selected>Select Option</option>
                                                        <option value="Copper">Copper</option>
                                                        <option value="Copper bonded steel" >Copper bonded steel</option>
                                                        <option value="Aluminum" >Aluminum</option>
                                                        <option value="Stainless steel" >Stainless steel</option>
                                                        <option value="Galvanised Iron" >Galvanised Iron</option>
                                                        <option value="Galvanised Steel" >Galvanised Steel</option>
                                                        <option value="Mild Steel" >Mild Steel</option>
                                                        <option value="Cast Iron" >Cast Iron</option>
                                                    </select>
                                                    <div *ngIf="submitted && a.get('bridgingCableMaterialOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('bridgingCableMaterialOb')?.errors?.required">Material of bridging cable observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea class="form-control" formControlName="bridgingCableMaterialRem" placeholder="Please enter Remarks here" [readonly]="isEditable"></textarea>
                                                </div>
                                            </td>
                                        </tr>

                                        <tr>
                                            <td style="text-align: center;">8(e)</td>
                                            <td>Size/cross section area of bridging cable</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea class="form-control" formControlName="bridgingCableSizeOb" placeholder="Please enter Size/cross section area of bridging cable here (Optional)" [readonly]="isEditable"></textarea>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea class="form-control" formControlName="bridgingCableSizeRem" placeholder="Please enter Remarks here" [readonly]="isEditable"></textarea>
                                                </div>
                                            </td>
                                        </tr>

                                        <tr>
                                            <td style="text-align: center;">8(f)</td>
                                            <td>Total number of bridging cables</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" [readonly]="isEditable" formControlName="totalNoBridgingCableOb" (keypress)="keyPressNumbers($event)" class="form-control" placeholder="Please enter Total number of bridging cables here"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('totalNoBridgingCableOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('totalNoBridgingCableOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('totalNoBridgingCableOb')?.errors?.required">Total number of bridging cables observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="totalNoBridgingCableRem" placeholder="Please enter Remarks here" type="text"
                                                        class="form-control" ></textarea>
                                                </div>
                                            </td>
                                        </tr>

                                        <tr>
                                            <td style="text-align: center;">8(g)</td>
                                            <td>Number of bridging cables inspected</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" [readonly]="isEditable" formControlName="inspectedNoOb" (keypress)="keyPressNumbers($event)" class="form-control" placeholder="Please enter Number of bridging cables inspected here"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('inspectedNoOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('inspectedNoOb')?.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="a.get('inspectedNoOb')?.errors?.required">Number of
                                                            bridging cables inspected observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="inspectedNoRem" type="text"
                                                    placeholder="Please enter Remarks here" class="form-control" ></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">8(h)</td>
                                            <td>Number of inspections passed</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" [readonly]="isEditable" formControlName="inspectionPassedNoOb" (keypress)="keyPressNumbers($event)" class="form-control" placeholder="Please enter Number of inspections passed here"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('inspectionPassedNoOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('inspectionPassedNoOb')?.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="a.get('inspectionPassedNoOb')?.errors?.required">Number
                                                            of inspections passed observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="inspectionPassedNoRem" type="text"
                                                    placeholder="Please enter Remarks here" class="form-control" ></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">8(i)</td>
                                            <td>Number of inspections failed</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" [readonly]="isEditable" formControlName="inspectionFailedNoOb" (keypress)="keyPressNumbers($event)" class="form-control" placeholder="Please enter Number of inspections failed here"
                                                    (keyup)="validationChangeDownBridgeKey($event,q,'inspectionFailedNoRem')" [ngClass]="{ 'is-invalid': submitted && a.get('inspectionFailedNoOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('inspectionFailedNoOb')?.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="a.get('inspectionFailedNoOb')?.errors?.required">Number
                                                            of inspections failed observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="inspectionFailedNoRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here" [ngClass]="{ 'is-invalid': submitted && a.get('inspectionFailedNoRem')?.errors }" ></textarea>
                                                        <div *ngIf="submitted && a.get('inspectionFailedNoRem')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('inspectionFailedNoRem')?.errors?.required">Remarks is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </div>
                                    <!-- <mat-icon class="mousechange" class="add" type="button" [ngClass]="{'disableForm':isEditable}" (click)="submit1()" *ngIf="bridgingCablesControls().length == f+1"
                                    style="margin-inline: 1rem;float: right;position: relative;"  title="add another Section" >add_box</mat-icon>
                                <mat-icon class="mousechange" class="dlt" type="button" [ngClass]="{'disableForm':isEditable}" title="delete" *ngIf="bridgingCablesControls().length > 1"
                                        (click)="removeItem1(a,f)"
                                        style="margin-inline: 0rem;float: right;position: relative;">delete</mat-icon> -->

                                </tbody>
                            </table>
                        </div>
                    </mat-expansion-panel>

                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <h3>Holders</h3>
                            </mat-panel-title>
                            
                        </mat-expansion-panel-header>
                        <div class="table-responsive" style="overflow-x: unset;">
                            <table class="table TableBorder">
                                <thead>
                                    <th>Availability of Holders</th>
                                    <th>Remarks(Optional)</th>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="col-md-6">
                                            <select class="form-control"  (change)="onChangeHolders($event,q)" formControlName="holderAvailabilityOb"
                                            [ngClass]="{ 'is-invalid': submitted && q.get('holderAvailabilityOb')?.errors }" style="height: 3rem;" [attr.disabled]="isEditable ? '' : null">
                                                <option value="" selected>Select Option</option>
                                                <option value="Applicable">Applicable </option>
                                                <option value="Not applicable">Not applicable</option>
                                            </select>
                                            <div *ngIf="submitted && q.get('holderAvailabilityOb')?.errors" class="invalid-feedback">
                                                <div *ngIf="q.get('holderAvailabilityOb')?.errors?.required">Please select the field</div>
                                            </div>
                                        </td>
                                        <td class="col-md-6">
                                            <textarea [readonly]="isEditable" formControlName="holderAvailabilityRem" type="text"
                                            placeholder="Please enter Remarks here" class="form-control" ></textarea>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>                                           
                        <div style="margin-top: 10px;" *ngIf="q.get('holderAvailabilityOb')?.value != 'Applicable'"><b>Note:</b> &nbsp; Select applicable if you intend to fill details for Holders</div>
                        <h2 *ngIf="q.get('holderAvailabilityOb')?.value === 'Applicable'"><u>Holders:</u></h2>   
                        <br>
                        <div class="table-responsive" style="overflow-x: unset;" *ngIf="q.get('holderAvailabilityOb')?.value === 'Applicable'">
                            <table class="table TableBorder">
                                <tbody formArrayName="holder" *ngFor="let a of holdersControls(q); let k = index">
                                    <div class="form-group" [formGroupName]="k">
                                        <thead>
                                            <th>Sl.No</th>
                                            <th>Description</th>
                                            <th>Observation</th>
                                            <th>Remarks(Optional)</th>
                                        </thead>
                                        <tr>
                                            <td style="width: 1rem; text-align: center;">9(a)</td>
                                            <td style="width: 24rem;">Physical inspection (damage/break/corroded)</td>
                                            <td style="width: 43rem;">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                        <select class="form-control" formControlName="physicalInspectionOb" type="text" [attr.disabled]="isEditable ? '' : null" class="form-control" placeholder="Please enter Physical inspection here" 
                                                        (change)="validationChangeDownHolders($event,q,'physicalInspectionRem')" [ngClass]="{ 'is-invalid': submitted && a.get('physicalInspectionOb')?.errors}" style="height: 3rem;">
                                                            <option  value="" selected>Select Option</option>
                                                            <option value="Physically good" >Physically good</option>
                                                            <option value="Not good" >Not good</option>
                                                        </select>
                                                        <div *ngIf="submitted && a.get('physicalInspectionOb')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('physicalInspectionOb')?.errors?.required"> Physical inspection observation is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                            <td style="width: 43rem;">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="physicalInspectionRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here" [ngClass]="{ 'is-invalid': submitted && a.get('physicalInspectionRem')?.errors }" ></textarea>
                                                        <div *ngIf="submitted && a.get('physicalInspectionRem')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('physicalInspectionRem')?.errors?.required">Remarks is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">9(b)</td>
                                            <td>Conductor holder is firmly fixed/mounted over the flat surface of wall</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                        <select class="form-control" formControlName="conductHolderFlatSurfaceOb" type="text" class="form-control" [attr.disabled]="isEditable ? '' : null" placeholder="Please enter Conductor holder is firmly fixed/mounted over the flat surface of wall here" 
                                                        (change)="validationChangeDownHolders($event,q,'conductHolderFlatSurfaceRem')" [ngClass]="{ 'is-invalid': submitted && a.get('conductHolderFlatSurfaceOb')?.errors}" style="height: 3rem;">
                                                            <option  value="" selected >Select Option</option>
                                                            <option value="Yes" >Yes</option>
                                                            <option value="No" >No</option>
                                                        </select>
                                                        <div *ngIf="submitted && a.get('conductHolderFlatSurfaceOb')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('conductHolderFlatSurfaceOb')?.errors?.required">Conductor holder observation is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="conductHolderFlatSurfaceRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here" [ngClass]="{ 'is-invalid': submitted && a.get('conductHolderFlatSurfaceRem')?.errors }" ></textarea>
                                                        <div *ngIf="submitted && a.get('conductHolderFlatSurfaceRem')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('conductHolderFlatSurfaceRem')?.errors?.required">Remarks is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">9(c)</td>
                                            <td>Conductor is properly  holded  in the holder and connection of conductor with holder(tight/loose/corroded)</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                        <select class="form-control" formControlName="conductorHoldedOb" [attr.disabled]="isEditable ? '' : null"
                                                        (change)="validationChangeDownHolders($event,q,'conductorHoldedRem')" [ngClass]="{ 'is-invalid': submitted && a.get('conductorHoldedOb')?.errors}" style="height: 3rem;">
                                                            <option  value="" selected >Select Option</option>
                                                            <option value="Yes" >Yes</option>
                                                            <option value="No" >No</option>
                                                        </select>
                                                        <div *ngIf="submitted && a.get('conductorHoldedOb')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('conductorHoldedOb')?.errors?.required">Conductor is properly observation is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="conductorHoldedRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here" [ngClass]="{ 'is-invalid': submitted && a.get('conductorHoldedRem')?.errors }" ></textarea>
                                                        <div *ngIf="submitted && a.get('conductorHoldedRem')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('conductorHoldedRem')?.errors?.required">Remarks is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">9(d)</td>
                                            <td>Distance between two successive holder in meters</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" (keypress)="keyPressNumbers($event)" class="form-control" formControlName="successiveDistanceOb" [attr.disabled]="isEditable ? '' : null"
                                                    [ngClass]="{ 'is-invalid': submitted && a.get('successiveDistanceOb')?.errors}" placeholder="Please enter Distance between two successive holder in meters here" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('successiveDistanceOb')?.errors"class="invalid-feedback">
                                                        <div *ngIf="a.get('successiveDistanceOb')?.errors?.required">Distance between two successive holder in meters observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea class="form-control" formControlName="successiveDistanceRem" [readonly]="isEditable" placeholder="Please enter Remarks here"></textarea>
                                                </div>
                                            </td>
                                        </tr>

                                        <tr>
                                            <td style="text-align: center;">9(e)</td>
                                            <td>Material of holder</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                        <select class="form-control" formControlName="materialHolderOb" type="text" class="form-control" [attr.disabled]="isEditable ? '' : null"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('materialHolderOb')?.errors}" style="height: 3rem;">
                                                        <option  value="" selected>Select Option</option>
                                                        <option value="Copper">Copper</option>
                                                        <option value="Copper bonded steel" >Copper bonded steel</option>
                                                        <option value="Aluminum" >Aluminum</option>
                                                        <option value="Stainless steel" >Stainless steel</option>
                                                        <option value="Galvanised Iron" >Galvanised Iron</option>
                                                        <option value="Galvanised Steel" >Galvanised Steel</option>
                                                        <option value="Mild Steel" >Mild Steel</option>
                                                        <option value="Cast Iron" >Cast Iron</option>
                                                        <option value="Plastic" >Plastic</option>
                                                        <option value="Insulated" >Insulated</option>
                                                        </select>
                                                        <div *ngIf="submitted && a.get('materialHolderOb')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('materialHolderOb')?.errors?.required">Material of holder observation is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="materialHolderRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">9(f)</td>
                                            <td>Total number of holders</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" [readonly]="isEditable" formControlName="totalNoHolderOb" (keypress)="keyPressNumbers($event)" class="form-control" placeholder="Please enter Total number of holders here"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('totalNoHolderOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('totalNoHolderOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('totalNoHolderOb')?.errors?.required">Total number of holders observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="totalNoHolderRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">9(g)</td>
                                            <td>Number of holders inspected</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" [readonly]="isEditable" formControlName="inspectedNoOb" (keypress)="keyPressNumbers($event)" class="form-control" placeholder="Please enter Number of holders inspected here"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('inspectedNoOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('inspectedNoOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('inspectedNoOb')?.errors?.required">Number of holders inspected observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="inspectedNoRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">9(h)</td>
                                            <td>Number of inspection passed</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" [readonly]="isEditable" formControlName="inspectionPassedNoOb" (keypress)="keyPressNumbers($event)" class="form-control" placeholder="Please enter Number of inspection passed here"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('inspectionPassedNoOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('inspectionPassedNoOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('inspectionPassedNoOb')?.errors?.required">Number of inspection passed observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="inspectionPassedNoRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">9(i)</td>
                                            <td>Number of inspection failed</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" [readonly]="isEditable" formControlName="inspectionFailedNoOb" 
                                                    (keyup)="validationChangeDownHoldersKey($event,q,'inspectionFailedNoRem')" (keypress)="keyPressNumbers($event)" class="form-control" placeholder="Please enter Number of inspection failed here"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('inspectionFailedNoOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('inspectionFailedNoOb')?.errors"class="invalid-feedback">
                                                        <div *ngIf="a.get('inspectionFailedNoOb')?.errors?.required">Number of inspection failed observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="inspectionFailedNoRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here" [ngClass]="{ 'is-invalid': submitted && a.get('inspectionFailedNoRem')?.errors }" ></textarea>
                                                        <div *ngIf="submitted && a.get('inspectionFailedNoRem')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('inspectionFailedNoRem')?.errors?.required">Remarks is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </div>
                                    <!-- <mat-icon class="mousechange" class="add" type="button" [ngClass]="{'disableForm':isEditable}" (click)="submit2()" *ngIf="holdersControls().length == k+1"
                                    style="margin-inline: 1rem;float: right;position: relative;"  title="add another Section" >add_box</mat-icon>
                                <mat-icon class="mousechange" class="dlt" type="button" [ngClass]="{'disableForm':isEditable}" title="delete" *ngIf="holdersControls().length > 1"
                                        (click)="removeItem2(a,k)"
                                        style="margin-inline: 0rem;float: right;position: relative;">delete</mat-icon> -->

                                </tbody>
                            </table>
                        </div>
                    </mat-expansion-panel>

                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <h3>Connectors</h3>
                            </mat-panel-title>
                            
                        </mat-expansion-panel-header>
                        <div class="table-responsive" style="overflow-x: unset;">
                            <table class="table TableBorder">
                                <thead>
                                    <th>Availability of Connectors</th>
                                    <th>Remarks(Optional)</th>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="col-md-6">
                                            <select class="form-control"  (change)="onChangeConnectors($event,q)" formControlName="connectorsAvailabilityOb" [attr.disabled]="isEditable ? '' : null"
                                            [ngClass]="{ 'is-invalid': submitted && q.get('connectorsAvailabilityOb')?.errors }" style="height: 3rem;">
                                                <option value="" selected>Select Option</option>
                                                <option value="Applicable">Applicable </option>
                                                <option value="Not applicable">Not applicable</option>
                                            </select>
                                            <div *ngIf="submitted && q.get('connectorsAvailabilityOb')?.errors" class="invalid-feedback">
                                                <div *ngIf="q.get('connectorsAvailabilityOb')?.errors?.required">Please select the field</div>
                                            </div>
                                        </td>
                                        <td class="col-md-6">
                                            <textarea [readonly]="isEditable" formControlName="connectorsAvailabilityRem" type="text"
                                            placeholder="Please enter Remarks here" class="form-control" ></textarea>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>                                                           
                        <div style="margin-top: 10px;" *ngIf="q.get('connectorsAvailabilityOb')?.value != 'Applicable'"><b>Note:</b> &nbsp; Select applicable if you intend to fill details for Connectors</div>
                        <h2 *ngIf="q.get('connectorsAvailabilityOb')?.value === 'Applicable'"><u>Connectors :</u></h2>
                        <br>
                        <div class="table-responsive" style="overflow-x: unset;" *ngIf="q.get('connectorsAvailabilityOb')?.value === 'Applicable'">
                            <table class="table TableBorder">
                                <tbody formArrayName="connectors" *ngFor="let a of connectorsControls(q); let z = index">
                                    <div class="form-group" [formGroupName]="z">
                                        <thead>
                                            <th>Sl.No</th>
                                            <th>Description</th>
                                            <th>Observation</th>
                                            <th>Remarks(Optional)</th>
                                        </thead>
                                        <tr>
                                            <td style="width: 1rem; text-align: center;">10(a)</td>
                                            <td style="width: 24rem;">Physical inspection (damage/break/corroded)</td>
                                            <td style="width: 43rem;">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                        <select class="form-control" formControlName="physicalInspectionOb" type="text" class="form-control" [attr.disabled]="isEditable ? '' : null"
                                                        (change)="validationChangeDownConnectors($event,q,'physicalInspectionRem')" [ngClass]="{ 'is-invalid': submitted && a.get('physicalInspectionOb')?.errors}" style="height: 3rem;">
                                                            <option  value="" selected>Select Option</option>
                                                            <option value="Physically good" >Physically good</option>
                                                            <option value="Not good" >Not good</option>
                                                            <option value="Not possible to verify" >Not possible to verify</option>
                                                        </select>
                                                        <div *ngIf="submitted && a.get('physicalInspectionOb')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('physicalInspectionOb')?.errors?.required">Physical inspection observation is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                            <td style="width: 43rem;">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="physicalInspectionRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here" [ngClass]="{ 'is-invalid': submitted && a.get('physicalInspectionRem')?.errors }" ></textarea>
                                                        <div *ngIf="submitted && a.get('physicalInspectionRem')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('physicalInspectionRem')?.errors?.required">Remarks is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">10(b)</td>
                                            <td>check the connection of straight connector (tight/loose/corroded)</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                        <select class="form-control" formControlName="strightConnectCheckOb" type="text" class="form-control" [attr.disabled]="isEditable ? '' : null"
                                                        (change)="validationChangeDownConnectors($event,q,'strightConnectCheckRem')" [ngClass]="{ 'is-invalid': submitted && a.get('strightConnectCheckOb')?.errors}" style="height: 3rem;">
                                                            <option  value="" selected>Select Option</option>
                                                            <option value="Physically good" >Physically good</option>
                                                            <option value="Not good" >Not good</option>
                                                            <option value="Not possible to verify" >Not possible to verify</option>
                                                        </select>
                                                        <div *ngIf="submitted && a.get('strightConnectCheckOb')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('strightConnectCheckOb')?.errors?.required">Straight connector observation is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="strightConnectCheckRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here" [ngClass]="{ 'is-invalid': submitted && a.get('strightConnectCheckRem')?.errors }" ></textarea>
                                                        <div *ngIf="submitted && a.get('strightConnectCheckRem')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('strightConnectCheckRem')?.errors?.required">Remarks is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">10(c)</td>
                                            <td>Material of straight connector/ferrule/tube</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                        <select class="form-control" formControlName="materialConnectorOb" type="text" class="form-control" [attr.disabled]="isEditable ? '' : null"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('materialConnectorOb')?.errors}" style="height: 3rem;">
                                                            <option  value="" selected>Select Option</option>
                                                            <option value="Copper">Copper</option>
                                                            <option value="Copper bonded steel" >Copper bonded steel</option>
                                                            <option value="Aluminum" >Aluminum</option>
                                                            <option value="Stainless steel" >Stainless steel</option>
                                                            <option value="Galvanised Iron" >Galvanised Iron</option>
                                                            <option value="Galvanised Steel" >Galvanised Steel</option>
                                                            <option value="Mild Steel" >Mild Steel</option>
                                                            <option value="Cast Iron" >Cast Iron</option>
                                                        </select>
                                                        <div *ngIf="submitted && a.get('materialConnectorOb')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('materialConnectorOb')?.errors?.required">Material of straight connector observation is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="materialConnectorRem" type="text"class="form-control"
                                                    placeholder="Please enter Remarks here"></textarea>
                                                    
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">10(d)</td>
                                            <td>Max number of connector in a down conductor</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" [readonly]="isEditable" formControlName="maxConnectorsDownConductorOb" (keypress)="keyPressNumbers($event)" class="form-control" placeholder="Please enter Max number of connector in a down conductor here"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('maxConnectorsDownConductorOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('maxConnectorsDownConductorOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('maxConnectorsDownConductorOb')?.errors?.required">Max number of connector in a down conductor observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="maxConnectorsDownConductorRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">10(e)</td>
                                            <td>Total number of connectors</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" (keypress)="keyPressNumbers($event)" [readonly]="isEditable" formControlName="totalNoConnectorsOb" class="form-control" placeholder="Please enter Total number of connectors here"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('totalNoConnectorsOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('totalNoConnectorsOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('totalNoConnectorsOb')?.errors?.required">Total number of connectors observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea type="text" [readonly]="isEditable" formControlName="totalNoConnectorsRem"
                                                        class="form-control" placeholder="Please enter Remarks here"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">10(f)</td>
                                            <td>Number of connectors inspected</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" (keypress)="keyPressNumbers($event)" [readonly]="isEditable" formControlName="inspectedNoOb" class="form-control" placeholder="Please enter Number of connectors inspected here"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('inspectedNoOb')?.errors}">
                                                    <div *ngIf="submitted && a.get('inspectedNoOb')?.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="a.get('inspectedNoOb')?.errors?.required">Number of
                                                            connectors inspected observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea type="text" [readonly]="isEditable" formControlName="inspectedNoRem"
                                                        class="form-control" placeholder="Please enter Remarks here"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">10(g)</td>
                                            <td>Number of inspection passed</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" (keypress)="keyPressNumbers($event)" [readonly]="isEditable" formControlName="inspectionPassedNoOb" class="form-control" placeholder="Please enter Number of inspection passed here"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('inspectionPassedNoOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('inspectionPassedNoOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('inspectionPassedNoOb')?.errors?.required">Number of inspection passed observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea type="text" [readonly]="isEditable" formControlName="inspectionPassedNoRem"
                                                        class="form-control" placeholder="Please enter Remarks here"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">10(h)</td>
                                            <td>Number of inspection failed</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" (keypress)="keyPressNumbers($event)" [readonly]="isEditable" formControlName="inspectionFailedNoOb" class="form-control" 
                                                    (keyup)="validationChangeDownConnectorsKey($event,q,'inspectionFailedNoRem')" placeholder="Please enter Number of inspection failed here"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('inspectionFailedNoOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('inspectionFailedNoOb')?.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="a.get('inspectionFailedNoOb')?.errors?.required">Number
                                                            of inspection failed observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea type="text" [readonly]="isEditable" formControlName="inspectionFailedNoRem"
                                                        class="form-control" placeholder="Please enter Remarks here" [ngClass]="{ 'is-invalid': submitted && a.get('inspectionFailedNoRem')?.errors }" ></textarea>
                                                        <div *ngIf="submitted && a.get('inspectionFailedNoRem')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('inspectionFailedNoRem')?.errors?.required">Remarks is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </div>
                                    <!-- <mat-icon class="mousechange" class="add" type="button" [ngClass]="{'disableForm':isEditable}" (click)="submit3()" *ngIf="connectorsControls().length == z+1"
                                    style="margin-inline: 1rem;float: right;position: relative;"  title="add another Section" >add_box</mat-icon>
                                <mat-icon class="mousechange" class="dlt" type="button" title="delete"  [ngClass]="{'disableForm':isEditable}" *ngIf="connectorsControls().length > 1"
                                        (click)="removeItem3(a,z)"
                                        style="margin-inline: 0rem;float: right;position: relative;">delete</mat-icon> -->

                                </tbody>
                            </table>
                        </div>
                    </mat-expansion-panel>

                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <h3>Lightning Counters</h3>
                            </mat-panel-title>                          
                        </mat-expansion-panel-header>
                        <div class="table-responsive" style="overflow-x: unset;">
                            <table class="table TableBorder">
                                <thead>
                                    <th>Availability of Lightning Counter</th>
                                    <th>Remarks(Optional)</th>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="col-md-6">
                                            <select class="form-control"  (change)="onChangeCounters($event,q)" formControlName="lightningCounterAvailabilityOb" [attr.disabled]="isEditable ? '' : null"
                                            [ngClass]="{ 'is-invalid': submitted && q.get('lightningCounterAvailabilityOb')?.errors }" style="height: 3rem;">
                                                <option value="" selected>Select Option</option>
                                                <option value="Applicable">Applicable </option>
                                                <option value="Not applicable">Not applicable</option>
                                            </select>
                                            <div *ngIf="submitted && q.get('lightningCounterAvailabilityOb')?.errors" class="invalid-feedback">
                                                <div *ngIf="q.get('lightningCounterAvailabilityOb')?.errors?.required">Please select the field</div>
                                            </div>
                                        </td>
                                        <td class="col-md-6">
                                            <textarea [readonly]="isEditable || q.get('lightningCounterAvailabilityRem')?.value ==='As per latest standard IS/IEC 62305,installation of single lightning counter for whole building is mandatory'" formControlName="lightningCounterAvailabilityRem" type="text"
                                            placeholder="Please enter Remarks here" class="form-control" [readonly]="isEditable"></textarea>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>                                                                               
                        <div style="margin-top: 10px;" *ngIf="q.get('lightningCounterAvailabilityOb')?.value != 'Applicable'"><b>Note:</b> &nbsp; Select applicable if you intend to fill details for Lightning Counters</div>
                        <h2 *ngIf="q.get('lightningCounterAvailabilityOb')?.value === 'Applicable'"><u>Lightning Counter:</u></h2>
                        <br>
                        
                        <div class="table-responsive" style="overflow-x: unset;" *ngIf="q.get('lightningCounterAvailabilityOb')?.value === 'Applicable'">
                            <table class="table TableBorder">
                                <tbody formArrayName="lightningCounter" *ngFor="let a of lightControls(q); let f = index">
                                    <div class="form-group" [formGroupName]="f">
                                        <thead>
                                            <th>Sl.No</th>
                                            <th>Description</th>
                                            <th>Observation</th>
                                            <th>Remarks(Optional)</th>
                                        </thead>
                                        <tr>
                                            <td style="width: 1rem; text-align: center;">11(a)</td>
                                            <td style="width: 24rem;">Threshold current in kA</td>
                                            <td style="width: 43rem;">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" [readonly]="isEditable" formControlName="threadHoldCurrentOb" (keypress)="keyPressNumbers($event)" class="form-control" placeholder="Please enter hreshold current in kA here in numbers"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('threadHoldCurrentOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('threadHoldCurrentOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('threadHoldCurrentOb')?.errors?.required">Threshold current observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td style="width: 43rem;">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="threadHoldCurrentRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">11(b)</td>
                                            <td>Maximum withstand current in kA</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" [readonly]="isEditable" formControlName="maximumWithStandCurrentOb" (keypress)="keyPressNumbers($event)" class="form-control" placeholder="Please enter Maximum withstand current in kA here in numbers"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('maximumWithStandCurrentOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('maximumWithStandCurrentOb')?.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="a.get('maximumWithStandCurrentOb')?.errors?.required">
                                                            Maximum withstand current observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="maximumWithStandCurrentRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">11(c)</td>
                                            <td>Counts</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" [readonly]="isEditable" formControlName="countsOb" (keypress)="keyPressNumbers($event)" class="form-control" placeholder="Please enter Counts here in numbers"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('countsOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('countsOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('countsOb')?.errors?.required">Counts observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="countsRem" type="text" class="form-control"
                                                    placeholder="Please enter Remarks here" ></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">11(d)</td>
                                            <td>Battery life time in years</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" [readonly]="isEditable" formControlName="batteryLifeTimeOb" (keypress)="keyPressNumbers($event)" class="form-control" placeholder="Please enter Battery life time in years here in numbers"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('batteryLifeTimeOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('batteryLifeTimeOb')?.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="a.get('batteryLifeTimeOb')?.errors?.required">Battery
                                                            life time observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="batteryLifeTimeRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">11(e)</td>
                                            <td>Proper connections of lightning counter for correct functioning is made</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                        <select class="form-control" formControlName="properConnectionLightingCounterOb" type="text" [attr.disabled]="isEditable ? '' : null" [attr.disabled]="isEditable ? '' : null"
                                                        (change)="validationChangeDownLightning($event,q,'properConnectionLightingCounterRem')" [ngClass]="{ 'is-invalid': submitted && a.get('properConnectionLightingCounterOb')?.errors}" style="height: 3rem;">
                                                            <option  value="" selected>Select Option</option>
                                                            <option value="Yes" >Yes</option>
                                                            <option value="No" >No</option>
                                                        </select>
                                                        <div *ngIf="submitted && a.get('properConnectionLightingCounterOb')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('properConnectionLightingCounterOb')?.errors?.required">Proper connections of lightning counter is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="properConnectionLightingCounterRem"
                                                        type="text" class="form-control" placeholder="Please enter Remarks here"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('properConnectionLightingCounterRem')?.errors }" ></textarea>
                                                        <div *ngIf="submitted && a.get('properConnectionLightingCounterRem')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('properConnectionLightingCounterRem')?.errors?.required">Remarks is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">11(f)</td>
                                            <td>Is lightning counter is placed 0.5 metre above test joint</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                        <select formControlName="lightingCounterPlacedOb" type="text" class="form-control" [attr.disabled]="isEditable ? '' : null"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('lightingCounterPlacedOb')?.errors}" style="height: 3rem;">
                                                            <option  value="" selected>Select Option</option>
                                                            <option value="Yes" >Yes</option>
                                                            <option value="No" >No</option>
                                                        </select>
                                                        <div *ngIf="submitted && a.get('lightingCounterPlacedOb')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('lightingCounterPlacedOb')?.errors?.required">Is lightning counter is placed 0.5 metre above test joint is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="lightingCounterPlacedRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">11(g)</td>
                                            <td>Condition of lightning counter and its connection (loose/tight/corroded)</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                        <select class="form-control" formControlName="conditionOfLightingCounterOb" type="text" [attr.disabled]="isEditable ? '' : null"
                                                        (change)="validationChangeDownLightning($event,q,'conditionOfLightingCounterRem')"  [ngClass]="{ 'is-invalid': submitted && a.get('conditionOfLightingCounterOb')?.errors}" style="height: 3rem;">
                                                            <option  value="" selected>Select Option</option>
                                                            <option value="Physically good" >Physically good</option>
                                                            <option value="Not good" >Not good</option>
                                                        </select>
                                                        <div *ngIf="submitted && a.get('conditionOfLightingCounterOb')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('conditionOfLightingCounterOb')?.errors?.required">Condition of lightning counter and its connection is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="conditionOfLightingCounterRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here" [ngClass]="{ 'is-invalid': submitted && a.get('conditionOfLightingCounterRem')?.errors }" ></textarea>
                                                        <div *ngIf="submitted && a.get('conditionOfLightingCounterRem')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('conditionOfLightingCounterRem')?.errors?.required">Remarks is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">11(h)</td>
                                            <td>Total number of lightning counter</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" [readonly]="isEditable" formControlName="totalNoLightingCounterOb" (keypress)="keyPressNumbers($event)" class="form-control" placeholder="Please enter Total number of lightning counter here"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('totalNoLightingCounterOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('totalNoLightingCounterOb')?.errors" class="invalid-feedback">
                                                        <div *ngIf="a.get('totalNoLightingCounterOb')?.errors?.required">
                                                            Total number of lightning counter observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="totalNoLightingCounterRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">11(i)</td>
                                            <td>Number of lightning counter inspected</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" [readonly]="isEditable" formControlName="inspectedNoOb" (keypress)="keyPressNumbers($event)" class="form-control" placeholder="Please enter Number of lightning counter inspected here"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('inspectedNoOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('inspectedNoOb')?.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="a.get('inspectedNoOb')?.errors?.required">Number of
                                                            lightning counter inspected observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="inspectedNoRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">11(j)</td>
                                            <td>Number of inspections passed</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" [readonly]="isEditable" formControlName="inspectionPassedNoOb" (keypress)="keyPressNumbers($event)" class="form-control" placeholder="Please enter Number of inspections passed here"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('inspectionPassedNoOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('inspectionPassedNoOb')?.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="a.get('inspectionPassedNoOb')?.errors?.required">Number of inspections passed observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="inspectionPassedNoRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">11(k)</td>
                                            <td>Number of inspections failed</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" [readonly]="isEditable" formControlName="inspectionFailedNoOb" (keypress)="keyPressNumbers($event)" class="form-control" placeholder="Please enter Number of inspections failed here"
                                                    (keyup)="validationChangeDownLightningKey($event,q,'inspectionFailedNoRem')" [ngClass]="{ 'is-invalid': submitted && a.get('inspectionFailedNoOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('inspectionFailedNoOb')?.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="a.get('inspectionFailedNoOb')?.errors?.required">Number
                                                            of inspections failed observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea [readonly]="isEditable" formControlName="inspectionFailedNoRem" type="text"
                                                        class="form-control" placeholder="Please enter Remarks here"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('inspectionFailedNoRem')?.errors }" ></textarea>
                                                        <div *ngIf="submitted && a.get('inspectionFailedNoRem')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('inspectionFailedNoRem')?.errors?.required">Remarks is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </div>
                                    <!-- <mat-icon class="mousechange" class="add" type="button" [ngClass]="{'disableForm':isEditable}" (click)="submit4()" *ngIf="lightControls().length == f+1"
                                    style="margin-inline: 1rem;float: right;position: relative;"  title="add another Section" >add_box</mat-icon>
                                <mat-icon class="mousechange" class="dlt" type="button" [ngClass]="{'disableForm':isEditable}" title="delete" *ngIf="lightControls().length > 1"
                                        (click)="removeItem4(a,f)"
                                        style="margin-inline: 0rem;float: right;position: relative;">delete</mat-icon> -->

                                </tbody>
                            </table>
                        </div>
                    </mat-expansion-panel>

                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <h3>Test Joints</h3>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="table-responsive" style="overflow-x: unset;">
                            <table class="table TableBorder">
                                <thead>
                                    <th>Availability of Test Joints</th>
                                    <th>Remarks(Optional)</th>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="col-md-6">
                                            <select class="form-control" (change)="onChangeJoints($event,q)" formControlName="testingJointAvailabilityOb" [attr.disabled]="isEditable ? '' : null"
                                            [ngClass]="{ 'is-invalid': submitted && q.get('testingJointAvailabilityOb')?.errors }" style="height: 3rem;">
                                                <option value="" selected>Select Option</option>
                                                <option value="Available">Available </option>
                                                <option value="Not available">Not available</option>
                                            </select>
                                            <div *ngIf="submitted && q.get('testingJointAvailabilityOb')?.errors" class="invalid-feedback">
                                                <div *ngIf="q.get('testingJointAvailabilityOb')?.errors?.required">Please select the field</div>
                                            </div>
                                        </td>
                                        <td class="col-md-6">
                                            <textarea [readonly]="isEditable || q.get('testingJointAvailabilityRem')?.value === 'As per latest standard IS/IEC62305, installation of test joint at each down conductor is mandatory for the purpose of testing of down conductors and earth electrode as well'" 
                                            formControlName="testingJointAvailabilityRem" type="text"
                                            placeholder="Please enter Remarks here" class="form-control" [readonly]="isEditable"></textarea>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>                                                                              
                        <div style="margin-top: 10px;" *ngIf="q.get('testingJointAvailabilityOb')?.value != 'Available'"><b>Note:</b> &nbsp; Select applicable if you intend to fill details for Test Joints</div>
                        <h2 *ngIf="q.get('testingJointAvailabilityOb')?.value === 'Available'"><u>Test Joints :</u></h2>
                        <br>
                        
                        <div class="table-responsive" style="overflow-x: unset;" *ngIf="q.get('testingJointAvailabilityOb')?.value === 'Available'">
                                    <table class="table TableBorder">
                                <tbody formArrayName="testingJoint" *ngFor="let a of jointControls(q); let x = index">
                                    <div class="form-group" [formGroupName]="x">
                                        <thead>
                                            <th>Sl.No</th>
                                            <th>Description</th>
                                            <th>Observation</th>
                                            <th>Remarks(Optional)</th>
                                        </thead>
                                        <tr>
                                            <td style="text-align: center; width: 1rem;">12(a)</td>
                                            <td style="width: 24rem;">Material of test joint</td>
                                            <td style="width: 43rem;">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                        <select class="form-control" class="form-control" formControlName="materialTestJointOb" placeholder="Please enter Material of test joint here" [attr.disabled]="isEditable ? '' : null"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('materialTestJointOb')?.errors}" style="height: 3rem;">
                                                            <option  value="" selected>Select Option</option>
                                                            <option value="Copper">Copper</option>
                                                            <option value="Copper bonded steel" >Copper bonded steel</option>
                                                            <option value="Aluminum" >Aluminum</option>
                                                            <option value="Stainless steel" >Stainless steel</option>
                                                            <option value="Galvanised Iron" >Galvanised Iron</option>
                                                            <option value="Galvanised Steel" >Galvanised Steel</option>
                                                            <option value="Mild Steel" >Mild Steel</option>
                                                            <option value="Cast Iron" >Cast Iron</option>
                                                        </select>
                                                    <div *ngIf="submitted && a.get('materialTestJointOb')?.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="a.get('materialTestJointOb')?.errors?.required">Material
                                                            of test joint observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td style="width: 43rem;">
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea type="text" class="form-control"
                                                        [readonly]="isEditable" formControlName="materialTestJointRem" placeholder="Please enter Remarks here"
                                                        ></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">12(b)</td>
                                            <td>Accessibility of test joint</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                        <select class="form-control" class="form-control" formControlName="accessibilityOfTestJointOb" placeholder="Please enter Accessibility of test joint here" [attr.disabled]="isEditable ? '' : null"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('accessibilityOfTestJointOb')?.errors}" style="height: 3rem;">
                                                            <option  value="" selected>Select Option</option>
                                                            <option value="Accesible" >Accesible</option>
                                                            <option value="Not accesible" >Not accesible</option>
                                                        </select>
                                                    <div *ngIf="submitted && a.get('accessibilityOfTestJointOb')?.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="a.get('accessibilityOfTestJointOb')?.errors?.required">
                                                            Accessibility of test joint observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea type="text" class="form-control"
                                                        [readonly]="isEditable" formControlName="accessibilityOfTestJointRem" placeholder="Please enter Remarks here"
                                                        ></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">12(c)</td>
                                            <td>Presence of provision of protection of test joint by non metalic casings</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                        <select class="form-control" formControlName="nonMetalicProtectionOb" placeholder="Please enter Presence of provision of protection of test joint by non metalic casings here" [attr.disabled]="isEditable ? '' : null"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('nonMetalicProtectionOb')?.errors}" style="height: 3rem;">
                                                            <option  value="" selected>Select Option</option>
                                                            <option value="Yes" >Yes</option>
                                                            <option value="No" >No</option>
                                                        </select>
                                                    <div *ngIf="submitted && a.get('nonMetalicProtectionOb')?.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="a.get('nonMetalicProtectionOb')?.errors?.required">
                                                            protection of test joint by non metalic casings observation is
                                                            required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea type="text" class="form-control"
                                                        [readonly]="isEditable" formControlName="nonMetalicProtectionRem" placeholder="Please enter Remarks here"
                                                        ></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">12(d)</td>
                                            <td>Is test joint placed 1.5 metre from the ground level</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                        <select class="form-control" formControlName="testJointPlacedGroungLevelOb" placeholder="Please enter test joint placed 1.5 metre from the ground level here" [attr.disabled]="isEditable ? '' : null"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('testJointPlacedGroungLevelOb')?.errors}" style="height: 3rem;">
                                                            <option  value="" selected>Select Option</option>
                                                            <option value="Yes" >Yes</option>
                                                            <option value="No" >No</option>
                                                        </select>
                                                    <div *ngIf="submitted && a.get('testJointPlacedGroungLevelOb')?.errors"
                                                        class="invalid-feedback">
                                                        <div
                                                            *ngIf="a.get('testJointPlacedGroungLevelOb')?.errors?.required">
                                                            Is test joint placed 1.5 metre from the ground level observation
                                                            is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea type="text" class="form-control"
                                                        [readonly]="isEditable" formControlName="testJointPlacedGroungLevelRem" placeholder="Please enter Remarks here"
                                                        ></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">12(e)</td>
                                            <td>Presence of Bi-metalllic corrosion issue (connections between dissimilar metals are not allowed)</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                        <select class="form-control" formControlName="bimetallicIssueCheckOb" placeholder="Please enter Presence of Bi-metalllic corrosion issue here" [attr.disabled]="isEditable ? '' : null"
                                                        (change)="validationChangeDownTestJoint($event,q,'bimetallicIssueCheckRem')" [ngClass]="{ 'is-invalid': submitted && a.get('bimetallicIssueCheckOb')?.errors}" style="height: 3rem;">
                                                            <option  value="" selected>Select Option</option>
                                                            <option value="Yes" >Yes</option>
                                                            <option value="No" >No</option>
                                                        </select>
                                                    <div *ngIf="submitted && a.get('bimetallicIssueCheckOb')?.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="a.get('bimetallicIssueCheckOb')?.errors?.required">
                                                            Bi-metalllic issue observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea type="text" class="form-control"
                                                        [readonly]="isEditable" formControlName="bimetallicIssueCheckRem" placeholder="Please enter Remarks here"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('bimetallicIssueCheckRem')?.errors }" ></textarea>
                                                        <div *ngIf="submitted && a.get('bimetallicIssueCheckRem')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('bimetallicIssueCheckRem')?.errors?.required">Remarks is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">12(f)</td>
                                            <td>Ensure whether down conductor and earthing conductor touch each other at test joint</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                        <select class="form-control" formControlName="touchingConductorsOb" [attr.disabled]="isEditable ? '' : null"
                                                        (change)="populateValueForTestRemarks($event,a)" [ngClass]="{ 'is-invalid': submitted && a.get('touchingConductorsOb')?.errors}" style="height: 3rem;">
                                                            <option  value="" selected>Select Option</option>
                                                            <option value="Touched" >Touched</option>
                                                            <option value="Not touched" >Not touched</option>
                                                        </select>
                                                    <div *ngIf="submitted && a.get('touchingConductorsOb')?.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="a.get('touchingConductorsOb')?.errors?.required">
                                                            earthing conductor touch each other at test joint observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea type="text" class="form-control" formControlName="touchingConductorsRem" placeholder="Please enter Remarks here" 
                                                    [readonly]="isEditable || a.get('touchingConductorsRem')?.value === 'To avoid bimetallic corrosion 2 disssimilar metals should not touch each other'"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">12(g)</td>
                                            <td>Total number of test joints</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" (keypress)="keyPressNumbers($event)" class="form-control"
                                                        [readonly]="isEditable" formControlName="totalNoOfTestJointOB"
                                                        placeholder="Please enter Total number of test joints here"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('totalNoOfTestJointOB')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('totalNoOfTestJointOB')?.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="a.get('totalNoOfTestJointOB')?.errors?.required">Total
                                                            number of test joints observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea type="text" class="form-control"
                                                        [readonly]="isEditable" formControlName="totalNoOfTestJointRem" placeholder="Please enter Remarks here"
                                                        ></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">12(h)</td>
                                            <td>Number of test joints inspected</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" (keypress)="keyPressNumbers($event)" class="form-control"
                                                        [readonly]="isEditable" formControlName="inspectedNoOb"
                                                        placeholder="Please enter Number of test joints inspected here"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('inspectedNoOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('inspectedNoOb')?.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="a.get('inspectedNoOb')?.errors?.required">Number of test
                                                            joints inspected observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea type="text" class="form-control"
                                                        [readonly]="isEditable" formControlName="inspectedNoRem" placeholder="Please enter Remarks here"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">12(i)</td>
                                            <td>Number of inspections passed</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" (keypress)="keyPressNumbers($event)" class="form-control"
                                                       [readonly]="isEditable" formControlName="inspectionPassedNoOb"
                                                        placeholder="Please enter Number of inspections passed here"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('inspectionPassedNoOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('inspectionPassedNoOb')?.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="a.get('inspectionPassedNoOb')?.errors?.required">Number
                                                            of inspections passed observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea type="text" class="form-control"
                                                        [readonly]="isEditable" formControlName="inspectionPassedNoRem" placeholder="Please enter Remarks here"
                                                        ></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">12(j)</td>
                                            <td>Number of inspections failed</td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <input type="number" (keypress)="keyPressNumbers($event)" class="form-control"
                                                        [readonly]="isEditable" formControlName="inspectionFailedNoOb"
                                                        placeholder="Please enter Number of inspections failed here" (keyup)="validationChangeDownTestJointKey($event,q,'inspectionFailedNoRem')"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('inspectionFailedNoOb')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('inspectionFailedNoOb')?.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="a.get('inspectionFailedNoOb')?.errors?.required">Number
                                                            of inspections failed observation is required</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text">
                                                            <i class="bi bi-text-paragraph"></i>
                                                        </span>
                                                    </div>
                                                    <textarea type="text" class="form-control"
                                                        [readonly]="isEditable" formControlName="inspectionFailedNoRem" placeholder="Please enter Remarks here"
                                                        [ngClass]="{ 'is-invalid': submitted && a.get('inspectionFailedNoRem')?.errors }" ></textarea>
                                                        <div *ngIf="submitted && a.get('inspectionFailedNoRem')?.errors" class="invalid-feedback">
                                                            <div *ngIf="a.get('inspectionFailedNoRem')?.errors?.required">Remarks is required</div>
                                                        </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </div>
                                    <!-- <mat-icon class="mousechange" class="add" type="button" [ngClass]="{'disableForm':isEditable}" (click)="submit5()" *ngIf="jointControls().length == x+1"
                                    style="margin-inline: 1rem;float: right;position: relative;"  title="add another Section" >add_box</mat-icon>
                                <mat-icon class="mousechange" class="dlt" type="button" [ngClass]="{'disableForm':isEditable}" title="delete" *ngIf="jointControls().length > 1"
                                        (click)="removeItem5(a,x)"
                                        style="margin-inline: 0rem;float: right;position: relative;">delete</mat-icon> -->

                                </tbody>
                            </table>
                        </div>
                    </mat-expansion-panel>

                    <mat-expansion-panel *ngIf="availabilityOfPreviousReport == 'No'">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <h3>Testing of Down Conductors</h3>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="table-responsive" style="overflow-x: unset;">
                            <table class="table TableBorder">
                                <thead>
                                    <th>Availability of Testing of down conductors</th>
                                    <th>Remarks(Optional)</th>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="col-md-6">
                                            <select class="form-control" (change)="onChangeDownConductorTesting($event,q)"  formControlName="downConductorTestingAvailabilityOb" [attr.disabled]="isEditable ? '' : null"
                                            [ngClass]="{ 'is-invalid': submitted && q.get('downConductorTestingAvailabilityOb')?.errors }" style="height: 3rem;">
                                                <option value="" selected>Select Option</option>
                                                <option value="In Scope">In Scope </option>
                                                <option value="Not in Scope">Not in Scope</option>
                                            </select>
                                            <div *ngIf="submitted && q.get('downConductorTestingAvailabilityOb')?.errors" class="invalid-feedback">
                                                <div *ngIf="q.get('downConductorTestingAvailabilityOb')?.errors?.required">Please select the field</div>
                                            </div>
                                        </td>
                                        <td class="col-md-6">
                                            <textarea [readonly]="isEditable" formControlName="downConductorTestingAvailabilityRem" type="text"
                                            placeholder="Please enter Remarks here"  class="form-control" ></textarea>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>                                                                              
                        <div style="margin-top: 10px;" *ngIf="q.get('downConductorTestingAvailabilityOb')?.value != 'In Scope'"><b>Note:</b> &nbsp; Select In Scope if you intend to fill details for Testing of earth electrodes</div>
                        <h2 *ngIf="q.get('downConductorTestingAvailabilityOb')?.value === 'In Scope'"><u>Testing of earth electrodes:</u></h2>
                        <br>
                        <div class="row" *ngIf="q.get('downConductorTestingAvailabilityOb')?.value === 'In Scope'">
                            <div class="col-md-6">
                                <label>13(a). Down conductors resistance value (Table heading)</label>
                            </div>
                        </div>
                        <div class="row" style="margin-top: 10px;" *ngIf="q.get('downConductorTestingAvailabilityOb')?.value === 'In Scope'">
                            <div class="col-sm-12">
                            <div class="table-responsive" style="overflow-x: unset;">
                                <table class="table TableBorder">
                                    <tbody>
                                            <thead>
                                                <th style="width: 7rem;">SI.No</th>
                                                <th style="width: 27.5rem;">Reference</th>
                                                <th style="width: 14.5rem;">Length in m</th>
                                                <th style="width: 15rem;">Resistance in m</th>
                                                <th style="width: 35rem;">Remarks</th>
                                            </thead>
                                            <!-- <div formArrayName="downConductorTesting" *ngFor="let a of downConductorTestingControls(q); let i = index">
                                                <div class="form-group" [formGroupName]="i"> -->
                                            <tr formArrayName="downConductorTesting" *ngFor="let a of downConductorTestingControls(q); let i = index">
                                                <div class="form-group" [formGroupName]="i">
                                                <td style="width: 8rem;">
                                                    <div class="input-group">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">
                                                                <i class="bi bi-text-paragraph"></i>
                                                            </span>
                                                        </div>
                                                    <input type="number" (keypress)="keyPressNumbers($event)" class="form-control" formControlName="serialNo" placeholder="Enter Serial Number here"
                                                    [readonly]="isEditable" [ngClass]="{ 'is-invalid': submitted && a.get('serialNo')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('serialNo')?.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="a.get('serialNo')?.errors?.required">
                                                        Serial Number is required
                                                        </div>
                                                    </div>
                                                    </div>
                                                </td>
                                                <td style="width: 27rem;">
                                                    <div class="input-group">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">
                                                                <i class="bi bi-text-paragraph"></i>
                                                            </span>
                                                        </div>
                                                    <textarea type="text" class="form-control" formControlName="reference" placeholder="Reference" 
                                                    [readonly]="isEditable" [ngClass]="{ 'is-invalid': submitted && a.get('reference')?.errors}"></textarea>
                                                    <div *ngIf="submitted && a.get('reference')?.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="a.get('reference')?.errors?.required">
                                                        Serial Number is required
                                                        </div>
                                                    </div>
                                                    </div>
                                                </td>
                                                <td style="width: 15rem;">
                                                    <div class="input-group">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">
                                                                <i class="bi bi-text-paragraph"></i>
                                                            </span>
                                                        </div>
                                                    <input type="number" (keypress)="keyPressNumbers($event)" class="form-control" formControlName="length" placeholder="Length in Meters"
                                                    [readonly]="isEditable" [ngClass]="{ 'is-invalid': submitted && a.get('length')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('length')?.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="a.get('length')?.errors?.required">
                                                            Length is required
                                                        </div>
                                                    </div>
                                                    </div>
                                                </td>
                                                <td style="width: 15rem;">
                                                    <div class="input-group">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">
                                                                <i class="bi bi-text-paragraph"></i>
                                                            </span>
                                                        </div>
                                                    <input type="number" class="form-control" (keypress)="keyPressNumbers($event)" formControlName="resistance" placeholder="Resistance in m"
                                                    [readonly]="isEditable" (keyup)="populateDownConductorTesting($event,a)" [ngClass]="{ 'is-invalid': submitted && a.get('resistance')?.errors}" style="height: 3rem;">
                                                    <div *ngIf="submitted && a.get('resistance')?.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="a.get('resistance')?.errors?.required">
                                                        Resistance is required
                                                        </div>
                                                    </div>
                                                    </div>
                                                </td>
                                                <td style="width: 35rem;">
                                                    <div class="input-group">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text">
                                                                <i class="bi bi-text-paragraph"></i>
                                                            </span>
                                                        </div>
                                                    <textarea type="text" class="form-control" formControlName="remarks" placeholder="Remarks" 
                                                    [readonly]="isEditable || a.get('remarks')?.value === 'As per latest standard IS/IEC 62305 the value should be less than 0.2'" [ngClass]="{ 'is-invalid': submitted && a.get('remarks')?.errors}"></textarea>
                                                    <div *ngIf="submitted && a.get('remarks')?.errors"
                                                        class="invalid-feedback">
                                                        <div *ngIf="a.get('remarks')?.errors?.required">
                                                        Remarks is required
                                                        </div>
                                                    </div>
                                                    </div>
                                                </td>
                                                    <div class="row" style="float: right;margin-right: 10px; margin-top: 5px;">
                                                        <mat-icon class="mousechange" class="add" type="button" [ngClass]="{'disableForm':isEditable}" (click)="addDownTesting(q)" *ngIf="downConductorTestingControls(q).length == i+1" style="cursor: pointer;"  title="add another Section">add_box
                                                        </mat-icon>
                    
                                                        <mat-icon class="mousechange" class="dlt" type="button" title="delete" [ngClass]="{'disableForm':isEditable}" *ngIf="downConductorTestingControls(q).length > 1"(click)="removeDownTesting(q,i)" style="cursor: pointer;float: right;">remove_circle_outline
                                                        </mat-icon>
                                                    </div>
                                                </div>
                                            </tr>
                                        
                                    </tbody>                                      
                                </table>
                            </div>
                            </div>
                        </div>
                    </mat-expansion-panel>

                </mat-accordion>
                </div>
            </div>
            <div *ngIf="validationError" style="text-align: center;margin-bottom: 2rem;margin-top: 2rem;">
                <span class="alertDanger">{{validationErrorMsg}}</span>
            </div>
            <div style="text-align: center;margin-top: 40px;margin-bottom: 20px;">
                <!-- <button class="previous" mat-button matStepperPrevious>&laquo; Back</button> -->
                <button class="next"  (click)="gotoNextModal(content,contents)"  mat-button >Next &raquo;</button>
           </div>
        </form>
    </div>

</div>


<ng-template #content let-modal>
    <!-- Spinner -->
    <mat-progress-spinner style="margin: 0 auto;" *ngIf="spinner" color="primary" [mode]="mode" value="50" diameter="50">
    </mat-progress-spinner>
    <br>
    <div *ngIf="spinner" style="text-align: center;">
        Please wait, the details are loading!
    </div>

    <div class="modal-body" *ngIf="popup">
        <div class="centre-text m-btm30">
            <div *ngIf="success" style="text-align: center;">
                <span class="successshow">{{successMsg}}</span>
            </div>
            
            <div *ngIf="Error" style="text-align: center;">
                <span class="errorshow">{{errorMsg}}</span>
            </div>
        </div>
    </div>
    <br>
    <div *ngIf="popup" style="text-align: center;">
        <button type="button" class="close" class="btn btn-block btn-primary btn-rounded btn-md font-weight-medium auth-form-btn"
        aria-label="Close"  (click)="closeModalDialog()" matStepperNext>
        <span aria-hidden="true">Ok</span>
        </button>
    </div>
</ng-template> 
<ng-template #contents let-modal>
    <div class="modal-body">
     <div class="centre-text m-btm30">
      <div style="text-align: center;">
        <span class="successshow">Are you sure you want to procced? </span>
        <br>
        <span style="font-size: 12px;">Note: Please verify all the details! </span>
       </div>
      </div>
     </div>
    <br>
    <div class="row">
       <button type="button" class="col-md-6" style="width: 5rem;position: relative;margin-left: 30%;" class="btn btn-primary btn-rounded btn-md font-weight-medium auth-form-btn"
       aria-label="Close" (click)="closeModalDialog()" matStepperNext>
       <i class="bi bi-arrow-right-circle"></i>&nbsp;
        <span aria-hidden="true">Ok</span>
    </button>
    <button type="button" class="col-md-6" style="text-align: center;width: auto;position: relative;margin-right: 30%;" class="btn btn-danger btn-rounded btn-md font-weight-medium auth-form-btn"
       aria-label="Close" (click)="closeModalDialog()">
       <i class="bi bi-x icon"></i>
        <span aria-hidden="true">Cancel</span>
    </button>
  </div>
  
    </ng-template>

<ng-template #contentSpinner let-modal>
        <mat-progress-spinner style="margin: 0 auto;" *ngIf="finalSpinner" color="primary"
        [mode]="mode"
        value="50"
       diameter="50">>
        </mat-progress-spinner>
        <div class="modal-body" *ngIf="popup">
            <div class="centre-text m-btm30">
                <div *ngIf="filesuccess" style="text-align: center;">
                    <span class="successshow">{{filesuccessMsg}}</span>
                </div>
                <div *ngIf="Error" style="text-align: center;">
                    <span class="errorshow">{{errorMsg}}</span>
                </div>
            </div>
        </div>
        <br>
    
        <button type="button" *ngIf="popup" style="text-align: center;margin-left:180px;width:20%" class="close"
            class="btn btn-block btn-primary btn-rounded btn-md font-weight-medium auth-form-btn" aria-label="Close"
             >
            <span (click)="closeModalDialogFile()">Ok</span>
        </button>
</ng-template>
    
<ng-template #contentSpinnerDelete let-modal>
        <mat-progress-spinner style="margin: 0 auto;" *ngIf="finalSpinnerDelete" color="primary"
        [mode]="mode"
        value="50"
       diameter="50">>
        </mat-progress-spinner>
        <div class="modal-body" *ngIf="popupDelete">
            <div class="centre-text m-btm30">
                <div *ngIf="fileDeleteSuccess" style="text-align: center;">
                    <span class="successshow">{{fileDeletesuccessMsg}}</span>
                </div>
                <div *ngIf="Error" style="text-align: center;">
                    <span class="errorshow">{{errorMsg}}</span>
                </div>
            </div>
        </div>
        <br>
    
        <button type="button" *ngIf="popupDelete" style="text-align: center;margin-left:180px;width:20%" class="close"
            class="btn btn-block btn-primary btn-rounded btn-md font-weight-medium auth-form-btn" aria-label="Close"
             >
            <span (click)="closeModalDialogFile()">Ok</span>
        </button>
</ng-template>

