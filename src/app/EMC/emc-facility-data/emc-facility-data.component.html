
<div *ngIf="tabError" style="text-align: center;">
    <span class="alert alert-danger">{{tabErrorMsg}}</span>
  </div>
<div *ngIf="validationErrorTab" style="text-align: center;">
    <span class="alert alert-danger">{{validationErrorMsgTab}}</span>
  </div>
<div class="card">
    <div class="card-body">
        <form [formGroup]="EMCFacilityForm" (keyup)="onKeyForm($event)" (change)="onChangeForm($event)"
        (ngSubmit)="saveFacilityData(flag)">
        <mat-accordion>
                <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <h3>Building Location / Setting</h3>
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Type:</label>
                                <select class="form-control" formControlName="blType"
                                    [(ngModel)]="emcFacilityData.blType"   [attr.disabled]="isEditableEmc ? '' : null" 
                                    [ngClass]="{'is-invalid':submitted && f.blType?.errors}">
                                    <option [ngValue]="null">Select Option</option>
                                    <option *ngFor="let value of buildingType">{{value}}</option>
                                </select>
                                <div *ngIf="submitted &&f.blType?.errors" class="invalid-feedback">
                                    <div *ngIf="f.blType?.errors?.required">Type Is Required</div>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Describe others:</label>
                                <textarea class="textarea-size" class="form-control" cols="60" rows="1"
                                    [(ngModel)]="emcFacilityData.blOtherDescription" [readonly]="isEditableEmc"
                                    [ngClass]="{'is-invalid':submitted && f.blOtherDescription?.errors}"
                                    formControlName="blOtherDescription" placeholder="Describe others"></textarea>
                                <div *ngIf="submitted &&f.blOtherDescription?.errors" class="invalid-feedback">
                                    <div *ngIf="f.blOtherDescription?.errors?.required">Describe Others Is Required
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </mat-expansion-panel>
                <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <h3>Building Construction</h3>
                        </mat-panel-title>

                    </mat-expansion-panel-header>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Type: </label>
                                <select class="form-control" formControlName="bcType" [attr.disabled]="isEditableEmc ? '' : null" 
                                    [(ngModel)]="emcFacilityData.bcType" 
                                    [ngClass]="{'is-invalid':submitted && f.bcType?.errors}">
                                    <option [ngValue]="null">Select Option</option>
                                    <option *ngFor="let value of buildingConstruction">{{value}}</option>
                                </select>
                                <div *ngIf="submitted &&f.bcType?.errors" class="invalid-feedback">
                                    <div *ngIf="f.bcType?.errors?.required">Type Is Required</div>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="form-group">
                                <label>No. of floors: </label>
                                <input type="number" class="form-control" formControlName="bcNoOfFloors"
                                    [(ngModel)]="emcFacilityData.bcNoOfFloors" [readonly]="isEditableEmc"
                                    [ngClass]="{'is-invalid':submitted && f.bcNoOfFloors?.errors}"
                                    placeholder="Enter No. of floors">
                                <div *ngIf="submitted &&f.bcNoOfFloors?.errors" class="invalid-feedback">
                                    <div *ngIf="f.bcNoOfFloors?.errors?.required">No. Of Floors Is Required</div>
                                </div>
                            </div>

                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Computer room floor location: </label>
                                <input type="text" class="form-control" formControlName="bcRoomFloorLocation"
                                    [(ngModel)]="emcFacilityData.bcRoomFloorLocation" [readonly]="isEditableEmc"
                                    placeholder="Enter Computer room floor location"
                                    [ngClass]="{'is-invalid':submitted && f.bcRoomFloorLocation?.errors}">
                                <div *ngIf="submitted &&f.bcRoomFloorLocation?.errors" class="invalid-feedback">
                                    <div *ngIf="f.bcRoomFloorLocation?.errors?.required">Computer Room Floor Location Is
                                        Required</div>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Building primary use: </label>
                                <input type="text" class="form-control" formControlName="bcBuildingPrimaryUse"
                                    [(ngModel)]="emcFacilityData.bcBuildingPrimaryUse" [readonly]="isEditableEmc"
                                    placeholder="Enter Building primary use"
                                    [ngClass]="{'is-invalid':submitted && f.bcBuildingPrimaryUse?.errors}">
                                <div *ngIf="submitted &&f.bcBuildingPrimaryUse?.errors" class="invalid-feedback">
                                    <div *ngIf="f.bcBuildingPrimaryUse?.errors?.required">Building Primary Use Is
                                        Required</div>
                                </div>
                            </div>

                        </div>
                        <div class="col-md-4">
                            <div>
                                <label>Other uses / processes:</label>
                                <input type="text" class="form-control" formControlName="bcOtherUses"
                                    [(ngModel)]="emcFacilityData.bcOtherUses" [readonly]="isEditableEmc"
                                    [ngClass]="{'is-invalid':submitted && f.bcOtherUses?.errors}"
                                    placeholder="Enter Other uses / processes">
                                <div *ngIf="submitted &&f.bcOtherUses?.errors" class="invalid-feedback">
                                    <div *ngIf="f.bcOtherUses?.errors?.required">Other Uses / Processes Is Required
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </mat-expansion-panel>
                <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <h3>Room Location</h3>
                        </mat-panel-title>

                    </mat-expansion-panel-header>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Interior room:</label>
                                <input type="text" class="form-control" formControlName="rlInteriorRoom"
                                    [ngClass]="{'is-invalid':submitted && f.rlInteriorRoom?.errors}" [readonly]="isEditableEmc"
                                    [(ngModel)]="emcFacilityData.rlInteriorRoom" placeholder="Enter Interior room">
                                <div *ngIf="submitted &&f.rlInteriorRoom?.errors" class="invalid-feedback">
                                    <div *ngIf="f.rlInteriorRoom?.errors?.required">Interior Room Is Required</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Exterior room: </label>
                                <input type="text" class="form-control" formControlName="rlExteriorRoom"
                                    [ngClass]="{'is-invalid':submitted && f.rlExteriorRoom?.errors}" [readonly]="isEditableEmc"
                                    [(ngModel)]="emcFacilityData.rlExteriorRoom" placeholder="Enter Exterior room">
                                <div *ngIf="submitted &&f.rlExteriorRoom?.errors" class="invalid-feedback">
                                    <div *ngIf="f.rlExteriorRoom?.errors?.required">Exterior Room Is Required</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Solid exterior walls:</label>
                                <input type="text" class="form-control" formControlName="rlSolidExterior"
                                    [(ngModel)]="emcFacilityData.rlSolidExterior" [readonly]="isEditableEmc"
                                    [ngClass]="{'is-invalid':submitted && f.rlSolidExterior?.errors}"
                                    placeholder="Enter Solid exterior walls">
                                <div *ngIf="submitted &&f.rlSolidExterior?.errors" class="invalid-feedback">
                                    <div *ngIf="f.rlSolidExterior?.errors?.required">Solid Exterior Walls Is Required
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Windowed exterior walls: </label>
                                <input type="text" class="form-control" formControlName="rlWindowedExterior"
                                    [(ngModel)]="emcFacilityData.rlWindowedExterior" [readonly]="isEditableEmc"
                                    [ngClass]="{'is-invalid':submitted && f.rlWindowedExterior?.errors}"
                                    placeholder="Enter Windowed exterior walls">
                                <div *ngIf="submitted &&f.rlWindowedExterior?.errors" class="invalid-feedback">
                                    <div *ngIf="f.rlWindowedExterior?.errors?.required">Windowed Exterior Walls Is
                                        Required</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Windows face (north, south, east, or west):</label>
                                <input type="text" class="form-control" formControlName="rlWindsFace"
                                    [(ngModel)]="emcFacilityData.rlWindsFace" [readonly]="isEditableEmc"
                                    [ngClass]="{'is-invalid':submitted && f.rlWindsFace?.errors}"
                                    placeholder="Enter Windows face (north, south, east, or west)">
                                <div *ngIf="submitted &&f.rlWindsFace?.errors" class="invalid-feedback">
                                    <div *ngIf="f.rlWindsFace?.errors?.required">Windows Face Is Required</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </mat-expansion-panel>

                <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <h3>Room Use</h3>
                        </mat-panel-title>

                    </mat-expansion-panel-header>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Dedicated room for system:</label>
                                <!-- <input type="text" class="form-control" placeholder="Enter Dedicated room for system"> -->
                                <select class="form-control" formControlName="ruDedicated"
                                    [(ngModel)]="emcFacilityData.ruDedicated" [attr.disabled]="isEditableEmc ? '' : null" 
                                    [ngClass]="{'is-invalid':submitted && f.ruDedicated?.errors}">
                                    <option [ngValue]="null">Select Option</option>
                                    <option *ngFor="let value of dedicatedRoomForSafety">{{value}}</option>
                                </select>
                                <div *ngIf="submitted &&f.ruDedicated?.errors" class="invalid-feedback">
                                    <div *ngIf="f.ruDedicated?.errors?.required">Dedicated Room For System Is Required
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- <div class="col-md-4">
                            <div class="form-group">
                                <label>Non dedicated room</label>
                                <input type="text" class="form-control" placeholder="Enter Non dedicated room">
                            </div>
                        </div> -->
                        <div class="col-md-6">
                            <div>
                                <label>Describe other equipment in room:</label>
                                <textarea class="textarea-size" class="form-control" style="font-size: medium;" cols="60" rows="1"
                                    [(ngModel)]="emcFacilityData.ruOtherDesc" formControlName="ruOtherDesc" [readonly]="isEditableEmc"
                                    [ngClass]="{'is-invalid':submitted && f.ruOtherDesc?.errors}"
                                    placeholder="Enter Describe other equipment in room"></textarea>
                                <div *ngIf="submitted &&f.ruOtherDesc?.errors" class="invalid-feedback">
                                    <div *ngIf="f.ruOtherDesc?.errors?.required">Describe Other Equipment In Room Is
                                        Required</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </mat-expansion-panel>
                <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <h3>Room Dimensions</h3>
                        </mat-panel-title>

                    </mat-expansion-panel-header>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Height (true floor to true ceiling):</label>
                                <input type="text" class="form-control" formControlName="rmHeightTrueFloor"
                                    [(ngModel)]="emcFacilityData.rmHeightTrueFloor" [readonly]="isEditableEmc"
                                    [ngClass]="{'is-invalid':submitted && f.rmHeightTrueFloor?.errors}"
                                    placeholder="Enter Height (true floor to true ceiling)">
                                <div *ngIf="submitted &&f.rmHeightTrueFloor?.errors" class="invalid-feedback">
                                    <div *ngIf="f.rmHeightTrueFloor?.errors?.required">Height (true floor to true
                                        ceiling) Is Required</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Height (false floor to drop ceiling):</label>
                                <input type="number" class="form-control" formControlName="rmHeightFalseFloor"
                                    [(ngModel)]="emcFacilityData.rmHeightFalseFloor" [readonly]="isEditableEmc"
                                    [ngClass]="{'is-invalid':submitted && f.rmHeightFalseFloor?.errors}"
                                    placeholder="Enter Height (false floor to drop ceiling)">
                                <div *ngIf="submitted &&f.rmHeightFalseFloor?.errors" class="invalid-feedback">
                                    <div *ngIf="f.rmHeightFalseFloor?.errors?.required">Height (false floor to drop
                                        ceiling) Is Required</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Width:</label>
                                <input type="number" class="form-control" formControlName="rmWidth"
                                    [ngClass]="{'is-invalid':submitted && f.rmWidth?.errors}" [readonly]="isEditableEmc"
                                    [(ngModel)]="emcFacilityData.rmWidth" placeholder="Enter Width">
                                <div *ngIf="submitted &&f.rmWidth?.errors" class="invalid-feedback">
                                    <div *ngIf="f.rmWidth?.errors?.required">Width Is Required</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Length:</label>
                                <input type="number" class="form-control" formControlName="rmLength"
                                    [ngClass]="{'is-invalid':submitted && f.rmLength?.errors}" [readonly]="isEditableEmc"
                                    [(ngModel)]="emcFacilityData.rmLength" placeholder="Enter Length">
                                <div *ngIf="submitted &&f.rmLength?.errors" class="invalid-feedback">
                                    <div *ngIf="f.rmLength?.errors?.required">Length Is Required</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Maximum allowable floor loading (Kg/m2):</label>
                                <input type="number" class="form-control" formControlName="rmMaxFloor"
                                    [(ngModel)]="emcFacilityData.rmMaxFloor" [readonly]="isEditableEmc"
                                    [ngClass]="{'is-invalid':submitted && f.rmMaxFloor?.errors}"
                                    placeholder="Enter Maximum allowable floor loading (Kg/m2)">
                                <div *ngIf="submitted &&f.rmMaxFloor?.errors" class="invalid-feedback">
                                    <div *ngIf="f.rmMaxFloor?.errors?.required">Maximum Allowable Floor Loading (Kg/m2)
                                        Is Required</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </mat-expansion-panel>
                <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <h3>Floor Type</h3>
                        </mat-panel-title>

                    </mat-expansion-panel-header>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Raised floor:</label>
                                <input type="text" class="form-control" formControlName="ftRaisedFloor"
                                    [ngClass]="{'is-invalid':submitted && f.ftRaisedFloor?.errors}" [readonly]="isEditableEmc"
                                    [(ngModel)]="emcFacilityData.ftRaisedFloor" placeholder="Enter Raised floor">
                                <div *ngIf="submitted &&f.ftRaisedFloor?.errors" class="invalid-feedback">
                                    <div *ngIf="f.ftRaisedFloor?.errors?.required">Raised Floor Is Required</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Used as air supply plenum:</label>
                                <input type="text" class="form-control" formControlName="ftAirSupply"
                                    [(ngModel)]="emcFacilityData.ftAirSupply" [readonly]="isEditableEmc"
                                    [ngClass]="{'is-invalid':submitted && f.ftAirSupply?.errors}"
                                    placeholder="Enter Used as air supply plenum">
                                <div *ngIf="submitted &&f.ftAirSupply?.errors" class="invalid-feedback">
                                    <div *ngIf="f.ftAirSupply?.errors?.required">Used As Air Supply Plenum Is Required
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Height:</label>
                                <input type="number" class="form-control" formControlName="ftHeight"
                                    [ngClass]="{'is-invalid':submitted && f.ftHeight?.errors}" [readonly]="isEditableEmc"
                                    [(ngModel)]="emcFacilityData.ftHeight" placeholder="Enter Height">
                                <div *ngIf="submitted &&f.ftHeight?.errors" class="invalid-feedback">
                                    <div *ngIf="f.ftHeight?.errors?.required">Height Is Required</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Air flow obstructions:</label>
                                <input type="text" class="form-control" formControlName="ftAirFlowObservation"
                                    [ngClass]="{'is-invalid':submitted && f.ftAirFlowObservation?.errors}" [readonly]="isEditableEmc"
                                    [(ngModel)]="emcFacilityData.ftAirFlowObservation"
                                    placeholder="Enter Air flow obstructions">
                                <div *ngIf="submitted &&f.ftAirFlowObservation?.errors" class="invalid-feedback">
                                    <div *ngIf="f.ftAirFlowObservation?.errors?.required">Air Flow Obstructions Is
                                        Required</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div>
                                <label>Description:</label>
                                <textarea class="textarea-size" class="form-control" style="font-size: medium;" cols="60" rows="1"
                                    [(ngModel)]="emcFacilityData.ftDescription" formControlName="ftDescription"
                                    [ngClass]="{'is-invalid':submitted && f.ftDescription?.errors}" [readonly]="isEditableEmc"
                                    placeholder="Enter Description"></textarea>
                                <div *ngIf="submitted &&f.ftDescription?.errors" class="invalid-feedback">
                                    <div *ngIf="f.ftDescription?.errors?.required">Description Is Required</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Air grill dampers:</label>
                                <input type="text" class="form-control" formControlName="ftAirGrillDampers"
                                    [(ngModel)]="emcFacilityData.ftAirGrillDampers" [readonly]="isEditableEmc"
                                    [ngClass]="{'is-invalid':submitted && f.ftAirGrillDampers?.errors}"
                                    placeholder="Enter Air grill dampers">
                                <div *ngIf="submitted &&f.ftAirGrillDampers?.errors" class="invalid-feedback">
                                    <div *ngIf="f.ftAirGrillDampers?.errors?.required">Air Grill Dampers Is Required
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Cable hole edge guards:</label>
                                <input type="text" class="form-control" formControlName="ftCableHole"
                                    [(ngModel)]="emcFacilityData.ftCableHole" [readonly]="isEditableEmc"
                                    [ngClass]="{'is-invalid':submitted && f.ftCableHole?.errors}"
                                    placeholder="Enter Cable hole edge guards">
                                <div *ngIf="submitted &&f.ftCableHole?.errors" class="invalid-feedback">
                                    <div *ngIf="f.ftCableHole?.errors?.required">Cable Hole Edge Guards Is Required
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Pedestals:</label>
                                <input type="text" class="form-control" formControlName="ftPedestals"
                                    [ngClass]="{'is-invalid':submitted && f.ftPedestals?.errors}" [readonly]="isEditableEmc"
                                    [(ngModel)]="emcFacilityData.ftPedestals" placeholder="Enter Pedestals">
                                <div *ngIf="submitted &&f.ftPedestals?.errors" class="invalid-feedback">
                                    <div *ngIf="f.ftPedestals?.errors?.required">Pedestals Is Required</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Grids:</label>
                                <input type="text" class="form-control" formControlName="ftGrids"
                                    [ngClass]="{'is-invalid':submitted && f.ftGrids?.errors}" [readonly]="isEditableEmc"
                                    [(ngModel)]="emcFacilityData.ftGrids" placeholder="Enter Grids">
                                <div *ngIf="submitted &&f.ftGrids?.errors" class="invalid-feedback">
                                    <div *ngIf="f.ftGrids?.errors?.required">Grids Is Required</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Bolted:</label>
                                <input type="text" class="form-control" formControlName="ftBolted"
                                    [ngClass]="{'is-invalid':submitted && f.ftBolted?.errors}" [readonly]="isEditableEmc"
                                    [(ngModel)]="emcFacilityData.ftBolted" placeholder="Enter Bolted">
                                <div *ngIf="submitted &&f.ftBolted?.errors" class="invalid-feedback">
                                    <div *ngIf="f.ftBolted?.errors?.required">Bolted Is Required</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Welded:</label>
                                <input type="text" class="form-control" formControlName="ftWelded"
                                    [ngClass]="{'is-invalid':submitted && f.ftWelded?.errors}" [readonly]="isEditableEmc"
                                    [(ngModel)]="emcFacilityData.ftWelded" placeholder="Enter welded">
                                <div *ngIf="submitted &&f.ftWelded?.errors" class="invalid-feedback">
                                    <div *ngIf="f.ftWelded?.errors?.required">welded Is Required</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div>
                                <label>Description of earthing:</label>
                                <textarea class="textarea-size" class="form-control" style="font-size: medium;" cols="60" rows="1"
                                    [(ngModel)]="emcFacilityData.ftEarthingDesc" formControlName="ftEarthingDesc" [readonly]="isEditableEmc"
                                    [ngClass]="{'is-invalid':submitted && f.ftEarthingDesc?.errors}"
                                    placeholder="Enter Description of earthing"></textarea>
                                <div *ngIf="submitted &&f.ftEarthingDesc?.errors" class="invalid-feedback">
                                    <div *ngIf="f.ftEarthingDesc?.errors?.required">Description Of Earthing Is Required
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- <div class="col-md-4">
                            <div class="form-group">
                                <label>True floor: material</label>
                                <input type="text" class="form-control" placeholder="Enter True floor: material">
                            </div>
                        </div> -->

                        <div class="col-md-4">
                            <div class="form-group">
                                <label>True floor: material: </label>
                                <select class="form-control" formControlName="ftTrueFloorMaterial"
                                    [(ngModel)]="emcFacilityData.ftTrueFloorMaterial"  [attr.disabled]="isEditableEmc ? '' : null" 
                                    [ngClass]="{'is-invalid':submitted && f.ftTrueFloorMaterial?.errors}">
                                    <option [ngValue]="null">Select Option</option>
                                    <option *ngFor="let value of floorMaterisl">{{value}}</option>
                                </select>
                                <div *ngIf="submitted &&f.ftTrueFloorMaterial?.errors" class="invalid-feedback">
                                    <div *ngIf="f.ftTrueFloorMaterial?.errors?.required">True Floor: Material Is
                                        Required</div>
                                </div>
                            </div>
                        </div>

                        <!-- <div class="col-md-4">
                            <div class="form-group">
                                <label>Sealed/coated/covered</label>
                                <input type="text" class="form-control" placeholder="Enter Sealed/coated/covered">
                            </div>
                        </div> -->
                        <div class="col-md-4">
                            <div>
                                <label>Describe:</label>
                                <textarea class="textarea-size" class="form-control" style="font-size: medium;" cols="60" rows="1"
                                    [(ngModel)]="emcFacilityData.ftDescribe" formControlName="ftDescribe"
                                    [ngClass]="{'is-invalid':submitted && f.ftDescribe?.errors}" [readonly]="isEditableEmc"
                                    placeholder="Enter Describe"></textarea>
                                <div *ngIf="submitted &&f.ftDescribe?.errors" class="invalid-feedback">
                                    <div *ngIf="f.ftDescribe?.errors?.required">Describe Is Required</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Cleanliness:</label>
                                <input type="text" class="form-control" formControlName="ftCleanliness"
                                    [ngClass]="{'is-invalid':submitted && f.ftDescribe?.errors}" [readonly]="isEditableEmc"
                                    [(ngModel)]="emcFacilityData.ftCleanliness" placeholder="Enter Cleanliness">
                                <div *ngIf="submitted &&f.ftCleanliness?.errors" class="invalid-feedback">
                                    <div *ngIf="f.ftCleanliness?.errors?.required">Cleanliness Is Required</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div>
                                <label>Other descriptions:</label>
                                <textarea class="textarea-size" class="form-control" style="font-size: medium;" cols="60" rows="1"
                                    [(ngModel)]="emcFacilityData.ftOtherDescription" [readonly]="isEditableEmc"
                                    formControlName="ftOtherDescription"
                                    [ngClass]="{'is-invalid':submitted && f.ftOtherDescription?.errors}"
                                    placeholder="Enter Other descriptions"></textarea>
                                <div *ngIf="submitted &&f.ftOtherDescription?.errors" class="invalid-feedback">
                                    <div *ngIf="f.ftOtherDescription?.errors?.required">Other Descriptions Is Required
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </mat-expansion-panel>

                <div formArrayName="floorCoveringArr" *ngFor="let a of getfloorCoveringarrControl(); let i = index">
                    <div class="form-group" [formGroupName]="i">

                        <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    <h3>Floor Covering</h3>
                                </mat-panel-title>

                            </mat-expansion-panel-header>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Type:</label>
                                        <input type="text" class="form-control" formControlName="fcType" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('fcType')?.errors }"
                                            placeholder="Enter Type">
                                        <div *ngIf="submitted && a.get('fcType')?.errors" class="invalid-feedback">
                                            <div *ngIf="a.get('fcType')?.errors?.required">Type Is Required</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Manufacturer:</label>
                                        <input type="text" class="form-control" formControlName="fcManufactor" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('fcManufactor')?.errors }"
                                            placeholder="Enter Manufacturer">
                                        <div *ngIf="submitted && a.get('fcManufactor')?.errors"
                                            class="invalid-feedback">
                                            <div *ngIf="a.get('fcManufactor')?.errors?.required">Manufacturer Is
                                                Required</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Static treatment type and description:</label>
                                        <input type="text" class="form-control" formControlName="fcDescription" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('fcDescription')?.errors }"
                                            placeholder="Enter Static treatment type and description ">
                                        <div *ngIf="submitted && a.get('fcDescription')?.errors"
                                            class="invalid-feedback">
                                            <div *ngIf="a.get('fcDescription')?.errors?.required">Field Is Required
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Woven:</label>
                                        <input type="text" class="form-control" formControlName="fcWoven" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('fcWoven')?.errors }"
                                            placeholder="Enter Woven">
                                        <div *ngIf="submitted && a.get('fcWoven')?.errors" class="invalid-feedback">
                                            <div *ngIf="a.get('fcWoven')?.errors?.required">Woven Is Required</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Chemical:</label>
                                        <input type="text" class="form-control" formControlName="fcChemical" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('fcChemical')?.errors }"
                                            placeholder="Enter Chemical">
                                        <div *ngIf="submitted && a.get('fcChemical')?.errors" class="invalid-feedback">
                                            <div *ngIf="a.get('fcChemical')?.errors?.required">Chemical Is Required
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>None:</label>
                                        <input type="text" class="form-control" formControlName="fcNone" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('fcNone')?.errors }"
                                            placeholder="Enter None">
                                        <div *ngIf="submitted && a.get('fcNone')?.errors" class="invalid-feedback">
                                            <div *ngIf="a.get('fcNone')?.errors?.required">None Is Required</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div>
                                        <label>Others - Describe:</label>
                                        <textarea class="textarea-size" class="form-control" style="font-size: medium;" cols="60" rows="1"
                                            formControlName="fcOtherDecription" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('fcOtherDecription')?.errors }"
                                            placeholder="Enter Others - Describe"></textarea>
                                        <div *ngIf="submitted && a.get('fcOtherDecription')?.errors"
                                            class="invalid-feedback">
                                            <div *ngIf="a.get('fcOtherDecription')?.errors?.required">Others - Describe
                                                Is Required</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </mat-expansion-panel>

                        <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    <h3>Walls</h3>
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Type of construction:</label>
                                        <input type="text" class="form-control" formControlName="wallType" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('wallType')?.errors }"
                                            placeholder="Enter Type of construction">
                                        <div *ngIf="submitted && a.get('wallType')?.errors" class="invalid-feedback">
                                            <div *ngIf="a.get('wallType')?.errors?.required">Type of construction Is
                                                Required</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Material:</label>
                                        <input type="text" class="form-control" formControlName="wallMaterial" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('wallMaterial')?.errors }"
                                            placeholder="Enter Material">
                                        <div *ngIf="submitted && a.get('wallMaterial')?.errors"
                                            class="invalid-feedback">
                                            <div *ngIf="a.get('wallMaterial')?.errors?.required">Material Is Required
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Covering type:</label>
                                        <input type="text" class="form-control" formControlName="wallCoveringType" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('wallCoveringType')?.errors }"
                                            placeholder="Enter Covering type">
                                        <div *ngIf="submitted && a.get('wallCoveringType')?.errors"
                                            class="invalid-feedback">
                                            <div *ngIf="a.get('wallCoveringType')?.errors?.required">Covering Type Is
                                                Required</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Humidity and dust control:</label>
                                        <input type="text" class="form-control" formControlName="wallHumidity" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('wallHumidity')?.errors }"
                                            placeholder="Enter Humidity and dust control">
                                        <div *ngIf="submitted && a.get('wallHumidity')?.errors"
                                            class="invalid-feedback">
                                            <div *ngIf="a.get('wallHumidity')?.errors?.required">Humidity And Dust
                                                Control Is Required</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>True floor to true sealing:</label>
                                        <input type="text" class="form-control" formControlName="wallSealing" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('wallSealing')?.errors }"
                                            placeholder="Enter True floor to true sealing">
                                        <div *ngIf="submitted && a.get('wallSealing')?.errors" class="invalid-feedback">
                                            <div *ngIf="a.get('wallSealing')?.errors?.required">True Floor to True
                                                Sealing Is Required</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Additional description:</label>
                                        <input type="text" class="form-control" formControlName="wallDesc" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('wallDesc')?.errors }"
                                            placeholder="Enter Additional description">
                                        <div *ngIf="submitted && a.get('wallDesc')?.errors" class="invalid-feedback">
                                            <div *ngIf="a.get('wallDesc')?.errors?.required">Additional Description Is
                                                Required</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </mat-expansion-panel>
                        <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    <h3>Ceiling Construction</h3>
                                </mat-panel-title>

                            </mat-expansion-panel-header>
                            <div class="row">
                                <div class="col-md-4">
                                    <div>
                                        <label>Description of False (drop) ceiling:</label>
                                        <textarea class="textarea-size" class="form-control" style="font-size: medium;"
                                            formControlName="ccFalseDesc" cols="60" rows="1" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('ccFalseDesc')?.errors }"
                                            placeholder="Enter Description of False (drop) ceiling"></textarea>
                                        <div *ngIf="submitted && a.get('ccFalseDesc')?.errors" class="invalid-feedback">
                                            <div *ngIf="a.get('ccFalseDesc')?.errors?.required">Field Is Required</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Humidity and dust control:</label>
                                        <input type="text" class="form-control" formControlName="ccFalseHumidity" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('ccFalseHumidity')?.errors }"
                                            placeholder="Enter Humidity and dust control">
                                        <div *ngIf="submitted && a.get('ccFalseHumidity')?.errors"
                                            class="invalid-feedback">
                                            <div *ngIf="a.get('ccFalseHumidity')?.errors?.required">Field Is Required
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Height and use of void space:</label>
                                        <input type="text" class="form-control" formControlName="ccFalseHeight"
                                            placeholder="Enter Height and use of void space" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('ccFalseHeight')?.errors }">
                                        <div *ngIf="submitted && a.get('ccFalseHeight')?.errors"
                                            class="invalid-feedback">
                                            <div *ngIf="a.get('ccFalseHeight')?.errors?.required">Field Is Required
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- <div class="col-md-4">
                            <div class="form-group">
                                <label>Utilisation of void</label>
                                <input type="text" class="form-control" placeholder="Enter Utilisation of void">
                            </div>
                        </div> -->

                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Utilization of void:</label>
                                        <select class="form-control" formControlName="ccUtilisation"  [attr.disabled]="isEditableEmc ? '' : null" 
                                            [ngClass]="{ 'is-invalid': submitted && a.get('ccUtilisation')?.errors }">
                                            <option [ngValue]="null">Select Option</option>
                                            <option *ngFor="let value of utilisation">{{value}}</option>
                                        </select>
                                        <div *ngIf="submitted && a.get('ccUtilisation')?.errors"
                                            class="invalid-feedback">
                                            <div *ngIf="a.get('ccUtilisation')?.errors?.required">Utilisation Of Void Is
                                                Required</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div>
                                        <label>Description of true ceiling:</label>
                                        <textarea class="textarea-size" class="form-control" style="font-size: medium;"
                                            formControlName="ccTrueDesc" cols="60" rows="1" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('ccTrueDesc')?.errors }"
                                            placeholder="Enter Description of true ceiling"></textarea>
                                        <div *ngIf="submitted && a.get('ccTrueDesc')?.errors" class="invalid-feedback">
                                            <div *ngIf="a.get('ccTrueDesc')?.errors?.required">Description Of True
                                                Ceiling Is Required</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Humidity and dust control:</label>
                                        <input type="text" class="form-control" formControlName="ccTrueHumidity" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('ccTrueHumidity')?.errors }"
                                            placeholder="Enter Humidity and dust control">
                                        <div *ngIf="submitted && a.get('ccTrueHumidity')?.errors"
                                            class="invalid-feedback">
                                            <div *ngIf="a.get('ccTrueHumidity')?.errors?.required">Humidity And Dust
                                                Control Is Required</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div>
                                        <label>Description of surface treatment and condition/clealiness:</label>
                                        <textarea class="textarea-size" class="form-control" style="font-size: medium;"
                                            formControlName="ccSurfaceDesc" cols="60" rows="1" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('ccSurfaceDesc')?.errors }"
                                            placeholder="Enter Description of surface treatment and condition/clealiness"></textarea>
                                        <div *ngIf="submitted && a.get('ccSurfaceDesc')?.errors"
                                            class="invalid-feedback">
                                            <div *ngIf="a.get('ccSurfaceDesc')?.errors?.required">Field Is Required
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </mat-expansion-panel>
                        <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    <h3>Windows</h3>
                                </mat-panel-title>

                            </mat-expansion-panel-header>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>External:</label>
                                        <select class="form-control" formControlName="windowsExternal" [attr.disabled]="isEditableEmc ? '' : null" 
                                            [ngClass]="{ 'is-invalid': submitted && a.get('windowsExternal')?.errors }">
                                            <option [ngValue]="null">Select Option</option>
                                            <option *ngFor="let value of external">{{value}}</option>
                                        </select>
                                        <div *ngIf="submitted && a.get('windowsExternal')?.errors"
                                            class="invalid-feedback">
                                            <div *ngIf="a.get('windowsExternal')?.errors?.required">External Is Required
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div>
                                        <label>Description of construction:</label>
                                        <textarea class="textarea-size" class="form-control" style="font-size: medium;"
                                            formControlName="windowsDescription" cols="60" rows="1" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('windowsDescription')?.errors }"
                                            placeholder="(can the windows be opened?)...!"></textarea>
                                        <div *ngIf="submitted && a.get('windowsDescription')?.errors"
                                            class="invalid-feedback">
                                            <div *ngIf="a.get('windowsDescription')?.errors?.required">Description Of
                                                Construction Is Required</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Window covering:</label>
                                        <select class="form-control" formControlName="windowsCovering"  [attr.disabled]="isEditableEmc ? '' : null" 
                                            [ngClass]="{ 'is-invalid': submitted && a.get('windowsCovering')?.errors }">
                                            <option [ngValue]="null">Select Option</option>
                                            <option *ngFor="let value of windowCovering">{{value}}</option>
                                        </select>
                                        <div *ngIf="submitted && a.get('windowsCovering')?.errors"
                                            class="invalid-feedback">
                                            <div *ngIf="a.get('windowsCovering')?.errors?.required">Window Covering Is
                                                Required</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div>
                                        <label>Describe others:</label>
                                        <textarea class="textarea-size" class="form-control" style="font-size: medium;"
                                            formControlName="windowsOtherDesc" cols="60" rows="1" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('windowsOtherDesc')?.errors }"
                                            placeholder="Enter Describe others"></textarea>
                                        <div *ngIf="submitted && a.get('windowsOtherDesc')?.errors"
                                            class="invalid-feedback">
                                            <div *ngIf="a.get('windowsOtherDesc')?.errors?.required">Describe Others Is
                                                Required</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div>
                                        <label>Description of Internal windows: </label>
                                        <textarea class="textarea-size" class="form-control" style="font-size: medium;"
                                            formControlName="windowsInternalDesc" cols="60" rows="1" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('windowsInternalDesc')?.errors }"
                                            placeholder="Enter Description of Internal windows "></textarea>
                                        <div *ngIf="submitted && a.get('windowsInternalDesc')?.errors"
                                            class="invalid-feedback">
                                            <div *ngIf="a.get('windowsInternalDesc')?.errors?.required">Description Of
                                                Internal Windows Is Required</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </mat-expansion-panel>

                        <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    <h3>Doors</h3>
                                </mat-panel-title>

                            </mat-expansion-panel-header>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Material:</label>
                                        <input type="text" class="form-control" formControlName="doorsMaterial" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('doorsMaterial')?.errors }"
                                            placeholder="Enter Material">
                                        <div *ngIf="submitted && a.get('doorsMaterial')?.errors"
                                            class="invalid-feedback">
                                            <div *ngIf="a.get('doorsMaterial')?.errors?.required">Material Is Required
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Number:</label>
                                        <input type="number" class="form-control" formControlName="doorsNumber" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('doorsNumber')?.errors }"
                                            placeholder="Enter Number">
                                        <div *ngIf="submitted && a.get('doorsNumber')?.errors" class="invalid-feedback">
                                            <div *ngIf="a.get('doorsNumber')?.errors?.required">Number Is Required</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Width:</label>
                                        <input type="text" class="form-control" formControlName="doorsWidth" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('doorsWidth')?.errors }"
                                            placeholder="Enter Width">
                                        <div *ngIf="submitted && a.get('doorsWidth')?.errors" class="invalid-feedback">
                                            <div *ngIf="a.get('doorsWidth')?.errors?.required">Width Is Required</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Height:</label>
                                        <input type="text" class="form-control" formControlName="doorsHeight" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('doorsHeight')?.errors }"
                                            placeholder="Enter Height">
                                        <div *ngIf="submitted && a.get('doorsHeight')?.errors" class="invalid-feedback">
                                            <div *ngIf="a.get('doorsHeight')?.errors?.required">Height Is Required</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Closure mechanism:</label>
                                        <input type="text" class="form-control" formControlName="doorsCloserMechanish" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('doorsCloserMechanish')?.errors }"
                                            placeholder="Enter Closure mechanism">
                                        <div *ngIf="submitted && a.get('doorsCloserMechanish')?.errors"
                                            class="invalid-feedback">
                                            <div *ngIf="a.get('doorsCloserMechanish')?.errors?.required">Closure
                                                Mechanism Is Required</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Quality of air sealing:</label>
                                        <input type="text" class="form-control" formControlName="doorsQualitySealing" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('doorsQualitySealing')?.errors }"
                                            placeholder="Enter Quality of air sealing">
                                        <div *ngIf="submitted && a.get('doorsQualitySealing')?.errors"
                                            class="invalid-feedback">
                                            <div *ngIf="a.get('doorsQualitySealing')?.errors?.required">Quality Of Air
                                                Sealing Is Required</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div>
                                        <label>Description of service area provided:</label>
                                        <textarea class="textarea-size" class="form-control" style="font-size: medium;"
                                            formControlName="doorsDesc" cols="60" rows="1" [readonly]="isEditableEmc"
                                            [ngClass]="{ 'is-invalid': submitted && a.get('doorsDesc')?.errors }"
                                            placeholder="Enter Description of service area provided"></textarea>
                                        <div *ngIf="submitted && a.get('doorsDesc')?.errors" class="invalid-feedback">
                                            <div *ngIf="a.get('doorsDesc')?.errors?.required">Field Is Required</div>
                                        </div>
                                    </div>
                                </div>
                                <!-- <div class="col-md-4">
                            <div class="form-group">
                                <label>Attach room layout as close to scale as possible (or attach site plan drawing, if
                                    current). Show all major equipment: windows, doors, furniture, and so forth. If
                                    possible, make three copies of this drawing for use in subsequent survey
                                    sections</label>
                                <input type="text" class="form-control" placeholder="Enter Attach room layout">

                            </div>
                        </div> -->
                                <!-- <div class="col-md-12">
                            <div class="form-group">
                                <label>Note:</label>
                                <p>Attach room layout as close to scale as possible (or attach site plan drawing, if
                                    current).
                                    Show all major equipment: windows, doors, furniture, and so forth.
                                    If possible, make three copies of this drawing for use in subsequent survey sections
                                </p>
                            </div>
                        </div> -->
                        <br>
                                <div class="col-sm-12">
                                    <label for="" style="font-weight: normal;">Note: Attach room layout as close to
                                        scale as
                                        possible (or attach site plan drawing, if current). Show all major equipment:
                                        windows,
                                        doors, furniture, and so forth. If possible, make three copies of this drawing
                                        for use
                                        in subsequent survey sections.</label>
                                </div>
                            </div>
                        </mat-expansion-panel>
                    </div>
                </div>

                <div *ngIf="validationError" style="text-align: center;margin-top: 30px;">
                    <span class="alert alert-danger">{{validationErrorMsg}}</span>
                </div>

                <!-- <div style="text-align: center;margin-top: 40px;margin-bottom: 20px;">
                    <button class="next" (click)="gotoNextModal(content1)" mat-button>Next &raquo;</button>
                </div> -->

                <div style="text-align: center;margin-top: 40px;margin-bottom: 20px;">
                    <!-- <button class="previous" mat-button matStepperPrevious>&laquo; Back</button> -->
                    <button class="next" (click)="gotoNextModal(content1, content2)" mat-button>Next &raquo;</button>
                </div>
        </mat-accordion>
    </form>
    </div>

</div>


<ng-template #content1 let-modal>
    <mat-progress-spinner style="margin: 0 auto;" *ngIf="finalSpinner" color="primary">
    </mat-progress-spinner>
    <div class="modal-body" *ngIf="popup">
        <div class="centre-text m-btm30">
            <div *ngIf="success" style="text-align: center;">
                <span class="successshow">{{successMsg}}</span>
            </div>
            <div *ngIf="Error" style="text-align: center;">
                <span class="errorshow">{{errorMsg}}</span>
            </div>
        </div>
    </div>
    <br>

    <button type="button" *ngIf="popup" style="text-align: center;margin-left:180px;width:20%" class="close"
        class="btn btn-block btn-primary btn-rounded btn-md font-weight-medium auth-form-btn" aria-label="Close"
        (click)="closeModalDialog()" matStepperNext>
        <span aria-hidden="true">Ok</span>
    </button>
</ng-template>

<ng-template #content2 let-modal>
    <div class="modal-body">
     <div class="centre-text m-btm30">
      <div style="text-align: center;">
        <span class="successshow">Are you sure you want to procced? </span>
        <br>
        <span style="font-size: 12px;">Note: Please verify all the details! </span>
       </div>
      </div>
     </div>
    <br>
    <div class="row">
       <button type="button" class="col-md-4" style="text-align: center;margin-left:100px;width:20%" class="btn btn-primary btn-rounded btn-md font-weight-medium auth-form-btn"
       aria-label="Close" (click)="closeModalDialog()" matStepperNext>
       <i class="bi bi-arrow-right-circle"></i>&nbsp;
        <span aria-hidden="true">Ok</span>
    </button>
    <button type="button" class="col-md-4" style="text-align: center;margin-left:100px;width:20%" class="btn btn-danger btn-rounded btn-md font-weight-medium auth-form-btn"
       aria-label="Close" (click)="closeModalDialog()">
       <i class="bi bi-x icon"></i>
        <span aria-hidden="true">Cancel</span>
    </button>
  </div>
  
    </ng-template>