<div *ngIf="destroy">
    <app-emc-matstepper *ngIf="showHome"></app-emc-matstepper>
</div>
<h2 style="text-align: center;">Add New Client Details</h2>
<div class="card">
    <div class="card-body">

        <form [formGroup]="EmcClientDetailsForm">
            <div class="row">


                <div class="col-md-4">
                    <div class="form-group">
                        <label>* Client Name </label>
                        <input type="text" class="form-control" formControlName="clientName"
                            [(ngModel)]="emcClientDetails.clientName"
                            [ngClass]="{'is-invalid':submitted && a.clientName?.errors}"
                            placeholder="Please Enter Client name">
                        <div *ngIf="submitted &&a.clientName?.errors" class="invalid-feedback">
                            <div *ngIf="a.clientName?.errors?.required">Client Name Is Required</div>
                        </div>
                    </div>
                </div>


                <div class="col-md-4">
                    <div class="form-group">
                        <label>Contact Number</label>
                        <input type="number" class="form-control" formControlName="contactNumber"
                            [ngClass]="{'is-invalid':submitted && a.contactNumber?.errors}"
                            [(ngModel)]="emcClientDetails.contactNumber" placeholder="Please Enter Contact Number">
                        <div *ngIf="submitted &&a.contactNumber?.errors" class="invalid-feedback">
                            <div *ngIf="a.contactNumber?.errors?.required">Client Name Is Required</div>
                        </div>
                    </div>
                </div>

                <!-- <div class="col-md-4">
                    <div class="form-group">
                        <label>* Contact Number </label>
                        <input type="text" class="form-control" formControlName="contactNumber"
                            [(ngModel)]="EmcClientDetailsForm.contactNumber"
                            [ngClass]="{'is-invalid':submitted && a.contactNumber?.errors}"
                            placeholder="Please Enter Client Number">
                        <div *ngIf="submitted &&a.contactNumber?.errors" class="invalid-feedback">
                            <div *ngIf="a.contactNumber?.errors?.required">Client Number Is Required</div>
                        </div>
                    </div>
                </div> -->


                <!-- <div class="col-md-4">
                    <label>* Contact Number:</label>
                    <input type="tel" ng2TelInput [ng2TelInputOptions]="{initialCountry: 'in',separateDialCode: 'true'}"
                        (keypress)="keyPressNumbers($event)" (countryChange)="countryChange($event,a)"
                        formControlName="contactNumber" class="form-control" placeholder="Enter Contact Number"
                        [ngClass]="{ 'is-invalid': submitted && a.get('contactNumber')?.errors }">
                </div> -->


                <!-- <div class="col-md-4">
                    <div class="form-group">
                        <label>Contact Person</label>
                        <input type="text" class="form-control" placeholder="Please Enter Contact Person">
                    </div>
                </div> -->

                <div class="col-md-4">
                    <div class="form-group">
                        <label>* Contact Person </label>
                        <input type="text" class="form-control" formControlName="contactPerson"
                            [(ngModel)]="emcClientDetails.contactPerson"
                            [ngClass]="{'is-invalid':submitted && a.contactPerson?.errors}"
                            placeholder="Please Enter Client Person">
                        <div *ngIf="submitted &&a.contactPerson?.errors" class="invalid-feedback">
                            <div *ngIf="a.contactPerson?.errors?.required">Client Person Is Required</div>
                        </div>
                    </div>
                </div>

                <!-- <div class="col-md-4">
                    <div class="form-group">
                        <label>Landmark</label>
                        <input type="text" class="form-control" placeholder="Please Enter Landmark">
                    </div>
                </div> -->

                <div class="col-md-4">
                    <label>* Landmark:</label>
                    <input type="text" formControlName="landMark" class="form-control" placeholder="Enter Landmark"
                        [(ngModel)]="emcClientDetails.landMark"
                        [ngClass]="{ 'is-invalid': submitted && a.landMark?.errors }">
                    <div *ngIf="submitted && a.landMark?.errors" class="invalid-feedback">
                        <div *ngIf="a.landMark?.errors?.required">Landmark Is Required</div>
                    </div>
                </div>

                <!-- <div class="col-md-4">
                    <div class="form-group">
                        <label>Location</label>
                        <input type="text" class="form-control" placeholder="Please Enter Location">
                    </div>
                </div> -->


                <div class="col-md-4">
                    <div class="form-group">
                        <label>* Location </label>
                        <input type="text" class="form-control" formControlName="clientLocation"
                            [(ngModel)]="emcClientDetails.clientLocation"
                            [ngClass]="{'is-invalid':submitted && a.clientLocation?.errors}"
                            placeholder="Please Enter Client Location">
                        <div *ngIf="submitted &&a.clientLocation?.errors" class="invalid-feedback">
                            <div *ngIf="a.clientLocation?.errors?.required">Client Location Is Required</div>
                        </div>
                    </div>
                </div>

                <!-- <div class="col-md-4">
                    <div class="form-group">
                        <label>Address</label>
                        <input type="text" class="form-control" placeholder="Please Enter Address">
                    </div>
                </div> -->


                <div class="col-md-4">
                    <label>* Address</label>
                    <input type="text" formControlName="clientAddress" class="form-control" placeholder="Enter Address"
                        [(ngModel)]="emcClientDetails.clientAddress"
                        [ngClass]="{ 'is-invalid': submitted && a.clientAddress?.errors }">
                    <div *ngIf="submitted && a.clientAddress?.errors" class="invalid-feedback">
                        <div *ngIf="a.clientAddress?.errors?.required">Address Is Required</div>
                    </div>
                </div>

                <!-- <div class="col-md-4">
                    <div class="form-group">
                        <label>Email</label>
                        <input type="text" class="form-control" placeholder="Please Enter Email">
                    </div>
                </div> -->

                <div class="col-md-4">
                    <div class="form-group">
                        <label>* Email: </label>
                        <input type="email" class="form-control" formControlName="email"
                            [(ngModel)]="emcClientDetails.email"
                            [ngClass]="{'is-invalid':submitted && a.emcClientDetails?.errors}"
                            placeholder="Enter Email Address">
                        <div *ngIf="submitted &&a.email?.errors" class="invalid-feedback">
                            <div *ngIf="a.email?.errors?.required">Email is required</div>
                            <div *ngIf="a.email?.errors?.pattern">Enter valid email</div>
                        </div>
                    </div>

                </div>

                <!-- <div class="col-md-4">
                    <div class="form-group">
                        <label>Country</label>
                        <input type="text" class="form-control" placeholder="Please Enter Country">
                    </div>
                </div> -->


                <div class="col-md-4">
                    <label>* Country:</label>
                    <select formControlName="country" class="form-control" (change)="changeCountry($event)"
                        [(ngModel)]="emcClientDetails.country"
                        [ngClass]="{ 'is-invalid': submitted && a.country?.errors }">
                        <option value="0" selected>Select Country Name</option>
                        <option *ngFor="let country of countryList">{{country.name}}</option>
                    </select>
                    <div *ngIf="submitted && a.country?.errors" class="invalid-feedback">
                        <div *ngIf="a.country?.errors?.required">Country Is Required</div>
                    </div>
                </div>

                <!-- <div class="col-md-4">
                    <div class="form-group">
                        <label>State</label>
                        <input type="text" class="form-control" placeholder="Please Enter State">
                    </div>
                </div> -->

                <div class="col-md-4">
                    <label>* State:</label>
                    <select formControlName="state" class="form-control" [(ngModel)]="emcClientDetails.state"
                        [ngClass]="{ 'is-invalid': submitted && a.state?.errors }">
                        <option value="0" selected>Select State Name</option>
                        <option *ngFor="let state of stateList">{{state.name}}</option>
                    </select>
                    <div *ngIf="submitted && a.state?.errors" class="invalid-feedback">
                        <div *ngIf="a.state?.errors?.required">State Is Required</div>
                    </div>
                </div>

            </div>


            <div *ngIf="validationError" style="text-align: center;margin-top: 30px;">
                <span class="alert alert-danger">{{validationErrorMsg}}</span>
            </div>

            <div *ngIf="sucess" style="text-align: center;margin-top: 30px;">
                <span class="alert alert-danger">{{sucessMsg}}</span>
            </div>
            <br>
            <div class="row">
                <div class="col-md-6" (click)="cancel()" style="text-align: right;">
                    <button type="Cancel" class="btn btn-danger">
                        <i class="bi bi-x icon"></i> Cancel
                    </button>
                </div>

                <div class="col-md-6">
                    <button type="submit" class="btn btn-primary btn-rounded btn-md font-weight-medium" id="login-btn">
                        <i class="bi bi-person-plus-fill icon"></i>
                        <span aria-hidden="true" (click)="onSubmit()"> Save</span>
                    </button> 
                </div>

            </div>
        </form>
    </div>
</div>